"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[42255],{42255:(Tt,V,a)=>{a.d(V,{Gu:()=>b,pQ:()=>P,sl:()=>I,Dp:()=>Bt,W$:()=>ft});var Z=a(58529),e=a(65879);const M={errors:{email:"platformMessagePopover.defaultErrors.email",max:"platformMessagePopover.defaultErrors.max",maxlength:"platformMessagePopover.defaultErrors.maxLength",min:"platformMessagePopover.defaultErrors.min",minlength:"platformMessagePopover.defaultErrors.minLength",pattern:"platformMessagePopover.defaultErrors.pattern",required:"platformMessagePopover.defaultErrors.required",requiredTrue:"platformMessagePopover.defaultErrors.requiredTrue"}},b=new e.OlP("FdpMessagePopoverConfig");var c=a(96814),x=a(71993),v=a(60095),B=a(64751),J=a(93793),Q=a(43535),y=a(90291),k=a(31480),H=a(83185),F=a(17884),z=a(2459),L=a(76041);const R=function Y(o,n,t,r){for(var s=-1,i=null==o?0:o.length;++s<i;){var p=o[s];n(r,p,t(p),o)}return r};var j=a(4199),D=a(6e4);var W=a(56247);const K=function U(o,n){return function(t,r){if(null==t)return t;if(!(0,W.Z)(t))return o(t,r);for(var s=t.length,i=n?s:-1,p=Object(t);(n?i--:++i<s)&&!1!==r(p[i],i,p););return t}}(function G(o,n){return o&&(0,j.Z)(o,n,D.Z)}),ee=function q(o,n,t,r){return K(o,function(s,i,p){n(r,s,t(s),p)}),r};var te=a(28687),oe=a(29977),ie=Object.prototype.hasOwnProperty;const pe=function re(o,n){return function(t,r){var s=(0,oe.Z)(t)?R:ee,i=n?n():{};return s(t,o,(0,te.Z)(r,2),i)}}(function(o,n,t){ie.call(o,t)?++o[t]:(0,L.Z)(o,t,1)});var ge=a(64583);var _=a(86825),de=a(58567),ce=a(31380),fe=a(62203),me=a(83620),ue=a(74107),ve=a(31706),he=a(46686),Ce=a(57904),be=a(90684),xe=a(30079);const Be=["listView"],Te=["detailsView"];function we(o,n){}const f=function(o){return{$implicit:o}};function Me(o,n){if(1&o&&e.YNc(0,we,0,0,"ng-template",14),2&o){const t=e.oxw().$implicit;e.Q6J("ngTemplateOutlet",t.heading.message||t.description.message)("ngTemplateOutletContext",e.VKq(2,f,t.heading.error))}}function ye(o,n){}function Fe(o,n){if(1&o&&e.YNc(0,ye,0,0,"ng-template",14),2&o){const t=e.oxw().$implicit;e.Q6J("ngTemplateOutlet",t.heading.message)("ngTemplateOutletContext",e.VKq(2,f,t.errors))}}const S=function(o){return{error:o}};function Se(o,n){if(1&o&&(e._uU(0),e.ALo(1,"fdTranslate")),2&o){const t=e.oxw().$implicit;e.hij(" ",e.Dn7(1,1,t.heading.message,e.VKq(5,S,t.heading.error),t.heading.message)," ")}}function Ee(o,n){}function Pe(o,n){if(1&o&&(e.YNc(0,Me,1,4,"ng-template",null,10,e.W1O),e.YNc(2,Fe,1,4,"ng-template",null,11,e.W1O),e.YNc(4,Se,2,7,"ng-template",null,12,e.W1O),e.YNc(6,Ee,0,0,"ng-template",13)),2&o){const t=n.$implicit,r=e.MAs(1),s=e.MAs(3),i=e.MAs(5);e.xp6(6),e.Q6J("ngTemplateOutlet","directive"===t.heading.type?r:"string"===t.heading.type?i:s)}}function Ae(o,n){}function Oe(o,n){if(1&o&&e.YNc(0,Ae,0,0,"ng-template",14),2&o){const t=e.oxw().$implicit;e.Q6J("ngTemplateOutlet",t.description.message)("ngTemplateOutletContext",e.VKq(2,f,t.description.error))}}function Ie(o,n){}function Ne(o,n){if(1&o&&e.YNc(0,Ie,0,0,"ng-template",14),2&o){const t=e.oxw().$implicit;e.Q6J("ngTemplateOutlet",t.description.message)("ngTemplateOutletContext",e.VKq(2,f,t.errors))}}function Ve(o,n){if(1&o&&(e._uU(0),e.ALo(1,"fdTranslate")),2&o){const t=e.oxw().$implicit;e.hij(" ",e.Dn7(1,1,t.description.message,e.VKq(5,S,t.description.error),t.description.message)," ")}}function Ze(o,n){}function Je(o,n){if(1&o&&(e.YNc(0,Oe,1,4,"ng-template",null,15,e.W1O),e.YNc(2,Ne,1,4,"ng-template",null,16,e.W1O),e.YNc(4,Ve,2,7,"ng-template",null,17,e.W1O),e.YNc(6,Ze,0,0,"ng-template",13)),2&o){const t=n.$implicit,r=e.MAs(1),s=e.MAs(3),i=e.MAs(5);e.xp6(6),e.Q6J("ngTemplateOutlet","directive"===t.heading.type?r:"string"===t.heading.type?i:s)}}function Qe(o,n){if(1&o&&(e.TgZ(0,"li",19)(1,"span",20),e._uU(2),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.group)}}function ke(o,n){if(1&o&&e._UZ(0,"span",26),2&o){const t=e.oxw().$implicit;e.Q6J("status",t.state)("glyph","message-"+t.type)}}function He(o,n){}function ze(o,n){if(1&o&&(e.TgZ(0,"span",27),e.YNc(1,He,0,0,"ng-template",14),e.qZA()),2&o){const t=e.oxw().$implicit;e.oxw(2);const r=e.MAs(1);e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.VKq(2,f,t))}}function Le(o,n){}function Ye(o,n){}function Re(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"span",28),e.YNc(1,Le,0,0,"ng-template",13),e.TgZ(2,"span",29)(3,"span",20)(4,"a",30),e.NdJ("click",function(s){e.CHM(t);const i=e.oxw().$implicit,p=e.oxw(2);return e.KtG(p._focusElement(s,i))}),e._uU(5),e.qZA()(),e.YNc(6,Ye,0,0,"ng-template",13),e.qZA()()}if(2&o){const t=e.oxw().$implicit,r=e.MAs(3),s=e.MAs(5);e.Q6J("navigationIndicator",!!t.description.message),e.xp6(1),e.Q6J("ngTemplateOutlet",r),e.xp6(4),e.hij(" ",t.fieldName," "),e.xp6(1),e.Q6J("ngTemplateOutlet",s)}}function je(o,n){}function De(o,n){}function Ge(o,n){if(1&o&&(e.TgZ(0,"a",28),e.YNc(1,je,0,0,"ng-template",13),e.TgZ(2,"span",29)(3,"span",20),e._uU(4),e.qZA(),e.YNc(5,De,0,0,"ng-template",13),e.qZA()()),2&o){const t=e.oxw().$implicit,r=e.MAs(3),s=e.MAs(5);e.Q6J("navigationIndicator",!!t.description.message),e.xp6(1),e.Q6J("ngTemplateOutlet",r),e.xp6(3),e.Oqu(t.fieldName),e.xp6(1),e.Q6J("ngTemplateOutlet",s)}}function $e(o,n){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",21),e.NdJ("click",function(){const i=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p._showDetails(i))}),e.YNc(2,ke,1,2,"ng-template",null,22,e.W1O),e.YNc(4,ze,2,4,"ng-template",null,23,e.W1O),e.YNc(6,Re,7,4,"span",24),e.YNc(7,Ge,6,4,"ng-template",null,25,e.W1O),e.qZA(),e.BQk()}if(2&o){const t=n.$implicit,r=n.index,s=e.MAs(8);e.xp6(1),e.Q6J("tabindex",0===r?0:-1)("byline",!0),e.xp6(5),e.Q6J("ngIf",t.element&&!!t.description.message)("ngIfElse",s)}}function We(o,n){if(1&o&&(e.ynx(0),e.YNc(1,Qe,3,1,"li",18),e.YNc(2,$e,9,4,"ng-container",6),e.BQk()),2&o){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf",t.group),e.xp6(1),e.Q6J("ngForOf",t.errors)}}function Ue(o,n){}function Xe(o,n){}function Ke(o,n){if(1&o&&(e.TgZ(0,"span",34),e.YNc(1,Xe,0,0,"ng-template",14),e.qZA()),2&o){const t=e.oxw(2),r=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.VKq(2,f,t.currentEntry))}}function qe(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"span",31),e._UZ(2,"span",32),e.YNc(3,Ue,0,0,"ng-template",14),e.qZA(),e.YNc(4,Ke,2,4,"span",33),e.BQk()),2&o){const t=e.oxw(),r=e.MAs(1);e.xp6(2),e.Q6J("status",t.currentEntry.state)("glyph","message-"+t.currentEntry.type),e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.VKq(5,f,t.currentEntry)),e.xp6(1),e.Q6J("ngIf",t.currentEntry.description.message)}}let E=(()=>{class o{constructor(t,r,s){this._destroyRef=t,this._tabbableService=r,this._document=s,this.openDetails=new e.vpe,this.focusItem=new e.vpe,this.closePopover=new e.vpe,this._initialClass="fd-message-popover__view-container",this._activeListElement=null}ngAfterViewInit(){(0,B.qYq)(this._detailsView.nativeElement).pipe((0,me.b)(20),(0,x.sL)(this._destroyRef)).subscribe(()=>{const{height:t}=this._detailsView.nativeElement.getBoundingClientRect();this._listView.nativeElement.style.minHeight=`${t}px`})}_showDetails(t){this._activeListElement=this._document.activeElement,t.description.message?(this.currentScreen="details",this.openDetails.emit(t)):this._focusElement(void 0,t)}_focusElement(t,r){r?.element?.nativeElement&&(t?.stopImmediatePropagation(),this.closePopover.emit(!1),this.focusItem.emit(r),setTimeout(()=>{this._tabbableService.getTabbableElement(r.element?.nativeElement)?.focus()}))}_onListAnimationComplete(t){"open"===t.toState&&this._activeListElement&&(this._activeListElement.focus(),this._activeListElement=null)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.ktI),e.Y36(B.AaH),e.Y36(c.K0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["fdp-message-view"]],viewQuery:function(t,r){if(1&t&&(e.Gf(Be,5,e.SBq),e.Gf(Te,5,e.SBq)),2&t){let s;e.iGM(s=e.CRH())&&(r._listView=s.first),e.iGM(s=e.CRH())&&(r._detailsView=s.first)}},hostVars:2,hostBindings:function(t,r){2&t&&e.Tol(r._initialClass)},inputs:{currentScreen:"currentScreen",filteredErrors:"filteredErrors",currentEntry:"currentEntry"},outputs:{openDetails:"openDetails",focusItem:"focusItem",closePopover:"closePopover"},standalone:!0,features:[e._Bn([B.AaH]),e.jDz],decls:13,vars:6,consts:[["headingTemplate",""],["descriptionTemplate",""],[1,"fd-message-view"],["tabindex","-1","fd-scrollbar","",1,"fd-message-view__list",3,"overrideTabindex"],["fd-list","",1,"message-popover__list","fd-list--message-view",3,"navigationIndicator"],["listView",""],[4,"ngFor","ngForOf"],[1,"fd-message-view__details"],["detailsView",""],[4,"ngIf"],["directiveHeading",""],["i18nHeading",""],["stringHeading",""],[3,"ngTemplateOutlet"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["directiveDescription",""],["i18nDescription",""],["stringDescription",""],["fd-list-group-header","",4,"ngIf"],["fd-list-group-header",""],["fd-list-title",""],["fd-list-item","",3,"tabindex","byline","click"],["itemIcon",""],["listSubtitle",""],["fd-list-link","",3,"navigationIndicator",4,"ngIf","ngIfElse"],["anchorListLink",""],["fd-object-status","",1,"fd-list__icon",3,"status","glyph"],[1,"fd-list__subtitle"],["fd-list-link","",3,"navigationIndicator"],["fd-list-content",""],["tabindex","0","fd-link","",3,"click"],[1,"fd-message-view__details-title"],["fd-object-status","",1,"fd-message-view__icon",3,"status","glyph"],["class","fd-message-view__details-description",4,"ngIf"],[1,"fd-message-view__details-description"]],template:function(t,r){1&t&&(e.YNc(0,Pe,7,1,"ng-template",null,0,e.W1O),e.YNc(2,Je,7,1,"ng-template",null,1,e.W1O),e.TgZ(4,"div",2)(5,"section",3),e.NdJ("@openCloseList.done",function(i){return r._onListAnimationComplete(i)}),e.TgZ(6,"ul",4,5),e.YNc(8,We,3,2,"ng-container",6),e.qZA()(),e.TgZ(9,"section",7)(10,"div",null,8),e.YNc(12,qe,5,7,"ng-container",9),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("@openCloseList","list"===r.currentScreen?"open":"closed")("overrideTabindex",!1),e.xp6(1),e.Q6J("navigationIndicator",!0),e.xp6(2),e.Q6J("ngForOf",r.filteredErrors),e.xp6(1),e.Q6J("@openCloseDetails","details"===r.currentScreen?"open":"closed"),e.xp6(3),e.Q6J("ngIf",r.currentEntry))},dependencies:[c.tP,fe.g,ce.pV,ue.n,ve.G,he.X,Ce.K,be.D,xe.b,c.ax,c.O5,y.kM,de.N0,F.ni],encapsulation:2,data:{animation:[(0,_.X$)("openCloseList",[(0,_.SB)("open",(0,_.oB)({transform:"translateX(0)",opacity:1})),(0,_.SB)("closed",(0,_.oB)({transform:"translateX(-50px)",opacity:0})),(0,_.eR)("open => closed",[(0,_.jt)(".1s cubic-bezier(0, 0, 0.2, 1)")]),(0,_.eR)("closed => open",[(0,_.jt)("0.1s .1s cubic-bezier(0, 0, 0.2, 1)")])]),(0,_.X$)("openCloseDetails",[(0,_.SB)("open",(0,_.oB)({transform:"translateX(0)",opacity:1,display:"block"})),(0,_.SB)("closed",(0,_.oB)({transform:"translateX(50px)",opacity:0})),(0,_.eR)("open => closed",[(0,_.jt)(".1s cubic-bezier(0, 0, 0.2, 1)",(0,_.F4)([(0,_.oB)({transform:"translateX(0)",opacity:1,display:"block"}),(0,_.oB)({transform:"translateX(50px)",opacity:0,display:"none"})]))]),(0,_.eR)("closed => open",[(0,_.oB)({display:"block"}),(0,_.jt)("0.1s .1s cubic-bezier(0, 0, 0.2, 1)")])])]},changeDetection:0}),o})();function T(o){switch(o){case"success":return"positive";case"error":return"negative";case"warning":return"critical";case"information":return"informative";default:return"neutral"}}var tt=a(32786),ot=a(68153),rt=a(36728),st=a(66972),nt=a(39813),it=a(80401),at=a(22379),pt=a(76538);const gt=["popover"];function _t(o,n){if(1&o&&(e.TgZ(0,"button",15),e._UZ(1,"span",16),e.TgZ(2,"span",17),e._uU(3),e.qZA()()),2&o){const t=n.$implicit;e.Q6J("value",t.group),e.xp6(1),e.Q6J("status",t.state)("glyph","message-"+t.group),e.xp6(2),e.Oqu(t.count)}}function lt(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"fd-segmented-button",12),e.NdJ("ngModelChange",function(s){e.CHM(t);const i=e.oxw(2);return e.KtG(i._currentErrorType=s)})("ngModelChange",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s._filterErrors())}),e._UZ(1,"button",13),e.ALo(2,"fdTranslate"),e.YNc(3,_t,4,4,"button",14),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("ngModel",t._currentErrorType),e.xp6(1),e.Q6J("label",e.lcZ(2,3,"platformMessagePopover.allErrors")),e.xp6(2),e.Q6J("ngForOf",t._errorTypes)}}function dt(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s._showList())}),e.qZA()}}function ct(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"fd-popover",1,2)(2,"fd-popover-control"),e._UZ(3,"button",3),e.qZA(),e.TgZ(4,"div")(5,"div",4)(6,"div",5)(7,"div",6),e.YNc(8,lt,4,5,"fd-segmented-button",7),e.YNc(9,dt,1,0,"button",8),e.qZA(),e.TgZ(10,"div",9)(11,"button",10),e.NdJ("click",function(){e.CHM(t);const s=e.MAs(1);return e.KtG(s.close())}),e.qZA()()()(),e.TgZ(12,"fdp-message-view",11),e.NdJ("openDetails",function(s){e.CHM(t);const i=e.oxw();return e.KtG(i._showDetails(s))})("closePopover",function(s){e.CHM(t);const i=e.oxw();return e.KtG(i._closePopover(s))})("focusItem",function(s){e.CHM(t);const i=e.oxw();return e.KtG(i.focusItem.emit(s))}),e.qZA()()()}if(2&o){const t=e.oxw();e.Q6J("focusTrapped",!0)("focusAutoCapture",!0)("disableScrollbar",!0),e.xp6(3),e.Q6J("ngClass","fd-message-popover__trigger--"+t._priorityState)("glyph","message-"+t._priorityFormState)("label",t._priorityStateItemsCount.toString()),e.xp6(5),e.Q6J("ngIf","list"===t.currentScreen),e.xp6(1),e.Q6J("ngIf","details"===t.currentScreen),e.xp6(3),e.Q6J("currentScreen",t.currentScreen)("filteredErrors",t._filteredErrors)("currentEntry",t.currentEntry)}}let P=(()=>{class o{constructor(t,r){this._cdr=t,this._destroyRef=r,this.focusItem=new e.vpe,this.currentScreen="list",this._currentErrorType="all",this._errorTypes=[],this._priorityStateItemsCount=0,this._filteredErrors=[],this._groupedErrors=[]}ngOnInit(){this.wrapper?.setMessagePopover(this),this.wrapper?.errors.pipe((0,x.sL)(this._destroyRef)).subscribe(t=>{this._groupedErrors=t,this._errorTypes=[];const r=pe(function _e(o){return null!=o&&o.length?(0,ge.Z)(o,1):[]}(Object.values(this._groupedErrors.map(i=>i.errors))),"type"),s=Object.keys(r);s.forEach(i=>{this._errorTypes.push({group:i,count:r[i],state:T(i)})}),this._priorityFormState=(0,z.QL)(s),this._priorityState=function et(o){switch(o){case"error":return"negative";case"warning":return"critical";case"default":return"neutral";default:return o}}(this._priorityFormState),this._priorityStateItemsCount=r[this._priorityFormState],this._filterErrors(),this._cdr.detectChanges()})}_showList(){this.currentScreen="list",this.currentEntry=null}_showDetails(t){this.currentScreen="details",this.currentEntry=t}_closePopover(t=!0){this._popover.close(t)}_filterErrors(){"all"!==this._currentErrorType?(this._filteredErrors=[],this._groupedErrors.forEach(t=>{const r=t.errors.filter(s=>s.type===this._currentErrorType);0!==r.length&&this._filteredErrors.push({group:t.group,errors:r})})):this._filteredErrors=this._groupedErrors}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.sBO),e.Y36(e.ktI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["fdp-message-popover"]],viewQuery:function(t,r){if(1&t&&e.Gf(gt,5),2&t){let s;e.iGM(s=e.CRH())&&(r._popover=s.first)}},inputs:{wrapper:"wrapper"},outputs:{focusItem:"focusItem"},standalone:!0,features:[e.jDz],decls:1,vars:1,consts:[["placement","top-start",3,"focusTrapped","focusAutoCapture","disableScrollbar",4,"ngIf"],["placement","top-start",3,"focusTrapped","focusAutoCapture","disableScrollbar"],["popover",""],["fd-button","","type","button",1,"fd-message-popover__trigger","fd-message-popover__trigger",3,"ngClass","glyph","label"],["fd-popover-body-header",""],["fd-bar","","barDesign","header",1,"fd-bar--growing"],["fd-bar-left",""],[3,"ngModel","ngModelChange",4,"ngIf"],["fd-button","","fdkInitialFocus","","fdType","transparent","glyph","navigation-left-arrow","title","Go back",3,"click",4,"ngIf"],["fd-bar-right",""],["fd-button","","fdType","transparent","glyph","decline",3,"click"],[3,"currentScreen","filteredErrors","currentEntry","openDetails","closePopover","focusItem"],[3,"ngModel","ngModelChange"],["fd-button","","value","all",3,"label"],["fd-button","",3,"value",4,"ngFor","ngForOf"],["fd-button","",3,"value"],["fd-object-status","",3,"status","glyph"],[1,"fd-button__text"],["fd-button","","fdkInitialFocus","","fdType","transparent","glyph","navigation-left-arrow","title","Go back",3,"click"]],template:function(t,r){1&t&&e.YNc(0,ct,13,11,"fd-popover",0),2&t&&e.Q6J("ngIf",r._errorTypes.length>0)},dependencies:[c.O5,k.UU,tt.f,ot.d,rt.U,Q.hJ,st.r,c.mk,J.Fh,nt.R,it.b,at.M,H.g7,pt.p,v.u5,v.JJ,v.On,c.ax,y.kM,B.N4p,E,F.ni],styles:["/*!\n * Fundamental Library Styles v0.30.2\n * Copyright (c) 2023 SAP SE or an SAP affiliate company.\n * Licensed under Apache License 2.0 (https://github.com/SAP/fundamental-styles/blob/main/LICENSE)\n */.fd-message-view{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;overflow:hidden;padding:0;position:relative}.fd-message-view:after,.fd-message-view:before{box-sizing:inherit;font-size:inherit}.fd-message-view__list{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;max-height:50vh;max-width:26rem;padding:0}.fd-message-view__list:after,.fd-message-view__list:before{box-sizing:inherit;font-size:inherit}.fd-message-view__list--hidden{opacity:0}.fd-message-view__details{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);display:none;font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;inset:0;line-height:var(--sapContent_LineHeight);margin:0;padding:1rem 1rem 1rem 3.5rem;position:absolute}.fd-message-view__details:after,.fd-message-view__details:before{box-sizing:inherit;font-size:inherit}.fd-message-view__details[dir=rtl],[dir=rtl] .fd-message-view__details{padding:1rem 3.5rem 1rem 1rem}.fd-message-view__details-title{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);color:var(--sapGroup_TitleTextColor);display:block;font-family:var(--sapFontFamily);font-family:var(--sapFontHeaderFamily);font-size:var(--sapFontSize);font-size:var(--sapFontHeader5Size);font-weight:400;font-weight:var(--sapFontHeaderWeight);forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0 0 1rem;padding:0;white-space:normal}.fd-message-view__details-title:after,.fd-message-view__details-title:before{box-sizing:inherit;font-size:inherit}.fd-message-view__details-title .fd-message-view__icon{font-size:1rem;margin:0 .5rem 0 -2rem}.fd-message-view__details-title .fd-message-view__icon[dir=rtl],[dir=rtl] .fd-message-view__details-title .fd-message-view__icon{margin:0 -2rem 0 .5rem}.fd-message-view__details-description{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);display:block;font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);line-height:1.4;margin:0 0 1rem;padding:0;white-space:normal}.fd-message-view__details-description:after,.fd-message-view__details-description:before{box-sizing:inherit;font-size:inherit}.fd-message-view__details--visible{display:block}.fd-message-popover__trigger{--fdButtonFocusColor:var(--sapContent_ContrastFocusColor);border-width:var(--fdMessagePopover_Trigger_Border_Width);text-shadow:var(--fdButtonTextShadow)}.fd-message-popover__trigger.fd-message-popover__trigger--critical{--fdButtonColor:var(--sapButton_Critical_TextColor);--fdButtonBackgroundColor:var(--sapButton_Critical_Background);--fdButtonBorderColor:var(--sapButton_Critical_BorderColor);--fdButtonTextShadow:var(--fdMessagePopover_Critical_Regular_Text_Shadow)}.fd-message-popover__trigger.fd-message-popover__trigger--critical.is-focus,.fd-message-popover__trigger.fd-message-popover__trigger--critical:focus{z-index:5}.fd-message-popover__trigger.fd-message-popover__trigger--critical.is-focus:after,.fd-message-popover__trigger.fd-message-popover__trigger--critical:focus:after{border-color:var(--fdButtonFocusColor)}.fd-message-popover__trigger.fd-message-popover__trigger--critical.is-hover,.fd-message-popover__trigger.fd-message-popover__trigger--critical:hover{--fdButtonColor:var(--sapButton_Critical_Hover_TextColor);--fdButtonBackgroundColor:var(--sapButton_Critical_Hover_Background);--fdButtonBorderColor:var(--sapButton_Critical_Hover_BorderColor);--fdButtonTextShadow:var(--fdMessagePopover_Critical_Hover_Text_Shadow)}.fd-message-popover__trigger.fd-message-popover__trigger--critical.is-active,.fd-message-popover__trigger.fd-message-popover__trigger--critical:active{--fdButtonColor:var(--sapButton_Critical_Active_TextColor);--fdButtonBackgroundColor:var(--sapButton_Critical_Active_Background);--fdButtonBorderColor:var(--sapButton_Critical_Active_BorderColor);--fdButtonTextShadow:var(--fdMessagePopover_Critical_Active_Text_Shadow);--fdButtonFocusColor:var(--fdMessagePopover_Active_Focus_Outline_Color)}.fd-message-popover__trigger.fd-message-popover__trigger--critical.is-disabled,.fd-message-popover__trigger.fd-message-popover__trigger--critical:disabled,.fd-message-popover__trigger.fd-message-popover__trigger--critical[aria-disabled=true]{--fdButtonColor:var(--sapButton_Critical_TextColor);--fdButtonBackgroundColor:var(--sapButton_Critical_Background);--fdButtonBorderColor:var(--sapButton_Critical_BorderColor);--fdButtonTextShadow:var(--fdMessagePopover_Critical_Regular_Text_Shadow);opacity:var(--sapContent_DisabledOpacity);pointer-events:none}.fd-message-popover__trigger.fd-message-popover__trigger--negative{--fdButtonColor:var(--sapButton_Negative_TextColor);--fdButtonBackgroundColor:var(--sapButton_Negative_Background);--fdButtonBorderColor:var(--sapButton_Negative_BorderColor);--fdButtonTextShadow:var(--fdMessagePopover_Negative_Regular_Text_Shadow)}.fd-message-popover__trigger.fd-message-popover__trigger--negative.is-focus,.fd-message-popover__trigger.fd-message-popover__trigger--negative:focus{z-index:5}.fd-message-popover__trigger.fd-message-popover__trigger--negative.is-focus:after,.fd-message-popover__trigger.fd-message-popover__trigger--negative:focus:after{border-color:var(--fdButtonFocusColor)}.fd-message-popover__trigger.fd-message-popover__trigger--negative.is-hover,.fd-message-popover__trigger.fd-message-popover__trigger--negative:hover{--fdButtonColor:var(--sapButton_Negative_Hover_TextColor);--fdButtonBackgroundColor:var(--sapButton_Negative_Hover_Background);--fdButtonBorderColor:var(--sapButton_Negative_Hover_BorderColor);--fdButtonTextShadow:var(--fdMessagePopover_Negative_Hover_Text_Shadow)}.fd-message-popover__trigger.fd-message-popover__trigger--negative.is-active,.fd-message-popover__trigger.fd-message-popover__trigger--negative:active{--fdButtonColor:var(--sapButton_Negative_Active_TextColor);--fdButtonBackgroundColor:var(--sapButton_Negative_Active_Background);--fdButtonBorderColor:var(--sapButton_Negative_Active_BorderColor);--fdButtonTextShadow:var(--fdMessagePopover_Negative_Active_Text_Shadow);--fdButtonFocusColor:var(--fdMessagePopover_Active_Focus_Outline_Color)}.fd-message-popover__trigger.fd-message-popover__trigger--negative.is-disabled,.fd-message-popover__trigger.fd-message-popover__trigger--negative:disabled,.fd-message-popover__trigger.fd-message-popover__trigger--negative[aria-disabled=true]{--fdButtonColor:var(--sapButton_Negative_TextColor);--fdButtonBackgroundColor:var(--sapButton_Negative_Background);--fdButtonBorderColor:var(--sapButton_Negative_BorderColor);--fdButtonTextShadow:var(--fdMessagePopover_Negative_Regular_Text_Shadow);opacity:var(--sapContent_DisabledOpacity);pointer-events:none}.fd-message-popover__trigger.fd-message-popover__trigger--success{--fdButtonColor:var(--sapButton_Success_TextColor);--fdButtonBackgroundColor:var(--sapButton_Success_Background);--fdButtonBorderColor:var(--sapButton_Success_BorderColor);--fdButtonTextShadow:var(--fdMessagePopover_Success_Regular_Text_Shadow)}.fd-message-popover__trigger.fd-message-popover__trigger--success.is-focus,.fd-message-popover__trigger.fd-message-popover__trigger--success:focus{z-index:5}.fd-message-popover__trigger.fd-message-popover__trigger--success.is-focus:after,.fd-message-popover__trigger.fd-message-popover__trigger--success:focus:after{border-color:var(--fdButtonFocusColor)}.fd-message-popover__trigger.fd-message-popover__trigger--success.is-hover,.fd-message-popover__trigger.fd-message-popover__trigger--success:hover{--fdButtonColor:var(--sapButton_Success_Hover_TextColor);--fdButtonBackgroundColor:var(--sapButton_Success_Hover_Background);--fdButtonBorderColor:var(--sapButton_Success_Hover_BorderColor);--fdButtonTextShadow:var(--fdMessagePopover_Success_Hover_Text_Shadow)}.fd-message-popover__trigger.fd-message-popover__trigger--success.is-active,.fd-message-popover__trigger.fd-message-popover__trigger--success:active{--fdButtonColor:var(--sapButton_Success_Active_TextColor);--fdButtonBackgroundColor:var(--sapButton_Success_Active_Background);--fdButtonBorderColor:var(--sapButton_Success_Active_BorderColor);--fdButtonTextShadow:var(--fdMessagePopover_Success_Active_Text_Shadow);--fdButtonFocusColor:var(--fdMessagePopover_Active_Focus_Outline_Color)}.fd-message-popover__trigger.fd-message-popover__trigger--success.is-disabled,.fd-message-popover__trigger.fd-message-popover__trigger--success:disabled,.fd-message-popover__trigger.fd-message-popover__trigger--success[aria-disabled=true]{--fdButtonColor:var(--sapButton_Success_TextColor);--fdButtonBackgroundColor:var(--sapButton_Success_Background);--fdButtonBorderColor:var(--sapButton_Success_BorderColor);--fdButtonTextShadow:var(--fdMessagePopover_Success_Regular_Text_Shadow);opacity:var(--sapContent_DisabledOpacity);pointer-events:none}.fd-message-popover__trigger.fd-message-popover__trigger--information{--fdButtonColor:var(--fdMessagePopover_Information_Regular_Color);--fdButtonBackgroundColor:var(--fdMessagePopover_Information_Regular_Background_Color);--fdButtonBorderColor:var(--fdMessagePopover_Information_Regular_Border_Color);--fdButtonTextShadow:var(--fdMessagePopover_Information_Regular_Text_Shadow);--fdButtonFocusColor:var(--fdMessagePopover_Information_Focus_Outline_Color)}.fd-message-popover__trigger.fd-message-popover__trigger--information.is-focus,.fd-message-popover__trigger.fd-message-popover__trigger--information:focus{z-index:5}.fd-message-popover__trigger.fd-message-popover__trigger--information.is-focus:after,.fd-message-popover__trigger.fd-message-popover__trigger--information:focus:after{border-color:var(--fdButtonFocusColor)}.fd-message-popover__trigger.fd-message-popover__trigger--information.is-hover,.fd-message-popover__trigger.fd-message-popover__trigger--information:hover{--fdButtonColor:var(--fdMessagePopover_Information_Hover_Color);--fdButtonBackgroundColor:var(--fdMessagePopover_Information_Hover_Background_Color);--fdButtonBorderColor:var(--fdMessagePopover_Information_Hover_Border_Color);--fdButtonTextShadow:var(--fdMessagePopover_Information_Hover_Text_Shadow)}.fd-message-popover__trigger.fd-message-popover__trigger--information.is-active,.fd-message-popover__trigger.fd-message-popover__trigger--information:active{--fdButtonColor:var(--fdMessagePopover_Information_Active_Color);--fdButtonBackgroundColor:var(--fdMessagePopover_Information_Active_Background_Color);--fdButtonBorderColor:var(--fdMessagePopover_Information_Active_Border_Color);--fdButtonTextShadow:var(--fdMessagePopover_Information_Active_Text_Shadow);--fdButtonFocusColor:var(--fdMessagePopover_Active_Focus_Outline_Color)}.fd-message-popover__trigger.fd-message-popover__trigger--information.is-disabled,.fd-message-popover__trigger.fd-message-popover__trigger--information:disabled,.fd-message-popover__trigger.fd-message-popover__trigger--information[aria-disabled=true]{--fdButtonColor:var(--fdMessagePopover_Information_Regular_Color);--fdButtonBackgroundColor:var(--fdMessagePopover_Information_Regular_Background_Color);--fdButtonBorderColor:var(--fdMessagePopover_Information_Regular_Border_Color);--fdButtonTextShadow:var(--fdMessagePopover_Information_Regular_Text_Shadow);opacity:var(--sapContent_DisabledOpacity);pointer-events:none}.fd-message-popover__view-container{border-bottom-left-radius:var(--fdPopover_Border_Radius);border-bottom-right-radius:var(--fdPopover_Border_Radius);overflow:hidden;display:block;max-height:40vh}.fd-message-popover__view-container .fd-message-view .fd-list__item:first-child{border-top-left-radius:0;border-top-right-radius:0}.fd-message-popover__view-container .fd-message-view .fd-list__item:first-child:before{border-top-left-radius:0;border-top-right-radius:0}.fd-message-popover__view-container .fd-message-view .fd-list__item:last-child{border-bottom-left-radius:0;border-bottom-right-radius:0}.fd-message-popover__view-container .fd-message-view .fd-list__item:last-child:before{border-bottom-left-radius:0;border-bottom-right-radius:0}.fd-message-view__list{min-width:20rem;min-height:10rem;max-height:40vh}.fd-message-view__list .fd-link{font-size:inherit}.fd-message-view__list .fd-list__link:active,.fd-message-view__list .fd-list__link.is-active{--sapLinkColor: var(--sapList_Active_TextColor);--sapLink_Active_Color: var(--sapList_Active_TextColor)}\n"],encapsulation:2,changeDetection:0}),o})(),ft=(()=>{class o{static withConfig(t){const r=(0,Z.Z)(M,t,(s,i)=>"object"!=typeof s||Array.isArray(s)?Array.isArray(s)?s.concat(i):i:Object.assign(s,i));return{ngModule:o,providers:[{provide:b,useValue:r}]}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[{provide:b,useValue:M}],imports:[P,E]}),o})();var mt=a(15875),ut=a(78645),vt=a(65619),A=a(47394),O=a(27921),ht=a(94664),Ct=a(32181),bt=a(19026);let I=(()=>{class o{constructor(t,r){this.elementRef=t,this.control=r}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq),e.Y36(v.a5,8))},o.\u0275dir=e.lG2({type:o,selectors:[["","fdpMessagePopoverFormItem",""]],inputs:{label:["fdpMessagePopoverFormItem","label"],errorTypes:"errorTypes"},standalone:!0}),o})();const xt=["*"];let Bt=(()=>{class o{set forms(t){t&&(Array.isArray(t)||(t=[t]),this._ngForms=t,this._startListeningForErrors())}set formFields(t){this._formFields=t,this._listenToFormFieldErrors(t)}get formFields(){return this._formFields}constructor(t,r){this._destroyRef=t,this._config=r,this.messagePopover$=new ut.x,this._errors$=new vt.X([]),this.errors=this._errors$.asObservable(),this._formFields=[],this._ngForms=[],this._formItemErrorsSubscription=new A.w0,this._formSubmitted=!1}ngAfterViewInit(){this._ngForms.length>0||this._projectedForm?.changes.pipe((0,O.O)(null),(0,x.sL)(this._destroyRef)).subscribe(()=>{this._ngForms=this._projectedForm.toArray(),this._startListeningForErrors()})}setMessagePopover(t){this.messagePopover$.next(t)}addForms(t){const r=Array.isArray(t)?t:[t];this._ngForms.push(...r),this._startListeningForErrors()}addFormFields(t){this._formFields.push(...t),this._listenToFormFieldErrors(this._formFields)}ngOnDestroy(){this._formItemErrorsSubscription.unsubscribe()}_startListeningForErrors(){if(!this._ngForms)return;this._formErrorsSubscription?.unsubscribe(),this._errors$.next([]);const t=this._ngForms.map(r=>r.ngSubmit.pipe((0,ht.w)(()=>r.statusChanges.pipe((0,O.O)(r.status),(0,Ct.h)(s=>"pending"!==s.toLowerCase())))));this._formErrorsSubscription=(0,bt.$)(...t).pipe((0,x.sL)(this._destroyRef)).subscribe(()=>{this._formSubmitted=!0;const r=this._directiveItems.length>0?this._collectPlainFormData():this._collectAdvancedFormData();this._errors$.next(r)}),this._listenToFormFieldErrors(this._projectedFormFieldControls.toArray()),this._projectedFormFieldControls?.changes.subscribe(()=>{this._listenToFormFieldErrors(this._projectedFormFieldControls.toArray())})}_listenToFormFieldErrors(t){this._formItemErrorsSubscription.unsubscribe(),this._formItemErrorsSubscription=new A.w0,t?.forEach(r=>{this._formItemErrorsSubscription.add(r.formField?.errorsChange$.subscribe(()=>{if(!this._formSubmitted)return;const s=this._directiveItems.length>0?this._collectPlainFormData():this._collectAdvancedFormData();this._errors$.next(s)}))})}_collectPlainFormData(){const t=[{errors:[]}],r=this._directiveItems.toArray();return this._ngForms.forEach(s=>{Object.keys(s.form.controls).forEach(i=>{const p=s.form.get(i),g=r.find(l=>l.control?.name===i);if(!p?.errors||!g)return;const d=Object.keys(this._config.errors);Object.keys(p.errors).filter(l=>d.includes(l)).forEach(l=>{const m=p.errors[l],u=this._getConfigErrorModel(l,g.errorTypes),h=g?.errorTypes?g?.errorTypes[l]:null,C=h&&this._isAdvancedError(h)&&h.type?h.type:"error",N={name:i,type:u.type,state:T(C),fieldName:g?.label??"",element:g?.elementRef,heading:{type:"string",error:m,message:u.heading},description:{type:"string",error:m,message:u.description},errors:p.errors};t[0].errors.push(N)})})}),t}_collectAdvancedFormData(){let t=[];const r=this.formFields.length>0?this.formFields:this._projectedFormFieldControls.toArray(),s=i=>Array.isArray(i)?(i.forEach(p=>{t=s(p)}),t):(Object.keys(i.controls).forEach(p=>{const g=i.get(p),d=r.find(l=>l.id===p);g instanceof v.cw&&(t=s(g)),g?.errors&&d&&Object.keys(g.errors).forEach(l=>{const m=d.formField?.groupedErrors.find(w=>w.directive.error===l),u=this._getGroupName(d?.formField),h=this._getErrorModel(p,u,g,d,l,m,g.errors[l]);let C=t.findIndex(w=>w.group===u);-1===C&&(C=t.push({group:u,errors:[]})-1),t[C].errors.push(h)})}),t);return s(this._ngForms.map(i=>i.form))}_getErrorModel(t,r,s,i,p,g,d){let l="error";const m=this._config.errors[p];return g?.directive.type?l=g.directive.type:this._isAdvancedError(m)&&(l=m.type),{name:t,type:l,state:T(l),group:r,fieldName:i?.formField?.label??"",heading:this._getErrorText(i,g,"heading",p,d),description:this._getErrorText(i,g,"description",p,d),errors:s.errors,formField:i,element:i?.elementRef}}_getErrorText(t,r,s="heading",i,p){const g={error:r?.error,type:r?.directive?"directive":t?.formField?.i18Strings?"templateRef":"string"};if("string"===g.type){const d=this._getConfigErrorModel(i);return g.error=p,g.message=d[s],g}return r?.directive?(g.message="heading"===s?r.directive._headingTemplateRef??r.directive._descriptionTemplateRef:r.directive._descriptionTemplateRef,g):(g.message=t?.formField?.i18Strings??null,g)}_getGroupName(t){const r=[];return t?.formGroupContainer?.mainTitle&&r.push(t.formGroupContainer.mainTitle),t?.formFieldGroup?.label&&r.push(t.formFieldGroup.label),r.join(", ")}_getConfigErrorModel(t,r){const s=r&&r[t]?r[t]:this._config.errors[t],i=!this._isAdvancedError(s);return{type:i?"error":s.type,heading:i?s:s.heading,description:i?void 0:s.description}}_isAdvancedError(t){return!!t&&"string"!=typeof t}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.ktI),e.Y36(b))},o.\u0275cmp=e.Xpm({type:o,selectors:[["fdp-message-popover-form-wrapper"]],contentQueries:function(t,r,s){if(1&t&&(e.Suo(s,v.gN,5),e.Suo(s,mt.$g,5),e.Suo(s,I,5)),2&t){let i;e.iGM(i=e.CRH())&&(r._projectedForm=i),e.iGM(i=e.CRH())&&(r._projectedFormFieldControls=i),e.iGM(i=e.CRH())&&(r._directiveItems=i)}},inputs:{forms:"forms",formFields:"formFields"},exportAs:["messagePopoverWrapper"],standalone:!0,features:[e.jDz],ngContentSelectors:xt,decls:1,vars:0,template:function(t,r){1&t&&(e.F$t(),e.Hsn(0))},encapsulation:2,changeDetection:0}),o})()}}]);