"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[58046],{58046:(K,v,s)=>{s.d(v,{Lr:()=>T.L,Qj:()=>t});var M=s(54742),T=s(94544),m=s(65879);let t=(()=>{class C{}return C.\u0275fac=function(y){return new(y||C)},C.\u0275mod=m.oAB({type:C}),C.\u0275inj=m.cJS({imports:[M.jO,T.L,M.jO]}),C})();s(17480),s(22538)},17480:(K,v,s)=>{s.d(v,{b:()=>Y});var M=s(96814),m=(s(64751),s(93793)),t=s(43535),f=s(77342),O=s(20993),w=s(59773),C=s(22538),i=s(65879),y=s(89003),P=s(1144),A=s(74164),d=s(15243),D=s(24389),F=s(17054),S=s(12209),k=s(51683),B=s(93688),E=s(44321),R=s(66972);const H=["dialogTemplate"];function L(u,h){if(1&u&&(i.TgZ(0,"h1",8),i._uU(1),i.qZA()),2&u){const r=i.oxw(2);i.xp6(1),i.Oqu(r.mobileConfig.title)}}function J(u,h){if(1&u){const r=i.EpF();i.TgZ(0,"button",9),i.NdJ("click",function(){i.CHM(r);const p=i.oxw(2);return i.KtG(p.handleDismiss())}),i.qZA()}2&u&&i.Q6J("mobile",!0)}function N(u,h){1&u&&i.GkF(0)}const Z=function(){return{displayAddonButton:!1}};function G(u,h){if(1&u){const r=i.EpF();i.TgZ(0,"div",10)(1,"fd-bar-element",11),i.YNc(2,N,1,0,"ng-container",12),i.qZA(),i.TgZ(3,"fd-bar-element",13)(4,"button",14),i.NdJ("click",function(){i.CHM(r);const p=i.oxw(2);return i.KtG(p.selectAll(p.allItemsSelected))}),i.qZA()()()}if(2&u){const r=i.oxw(2);i.xp6(2),i.Q6J("ngTemplateOutlet",(null==r.childContent?null:r.childContent.controlTemplate)||null)("ngTemplateOutletContext",i.DdM(3,Z)),i.xp6(2),i.Q6J("fdType",r.allItemsSelected?"emphasized":"transparent")}}function Q(u,h){1&u&&i.GkF(0)}function V(u,h){if(1&u){const r=i.EpF();i.TgZ(0,"fd-button-bar",15),i.NdJ("click",function(){i.CHM(r);const p=i.oxw(2);return i.KtG(p.handleApprove())}),i.qZA()}if(2&u){const r=i.oxw(2);i.Q6J("label",r.mobileConfig.approveButtonText)}}function U(u,h){if(1&u){const r=i.EpF();i.TgZ(0,"fd-button-bar",16),i.NdJ("click",function(){i.CHM(r);const p=i.oxw(2);return i.KtG(p.handleDismiss())}),i.qZA()}if(2&u){const r=i.oxw(2);i.Q6J("label",r.mobileConfig.cancelButtonText)}}function W(u,h){if(1&u&&(i.TgZ(0,"fd-dialog",1)(1,"fd-dialog-header"),i.YNc(2,L,2,1,"h1",2),i.YNc(3,J,1,1,"button",3),i.YNc(4,G,5,4,"ng-template",4),i.qZA(),i.TgZ(5,"fd-dialog-body"),i.YNc(6,Q,1,0,"ng-container",5),i.qZA(),i.TgZ(7,"fd-dialog-footer"),i.YNc(8,V,1,1,"fd-button-bar",6),i.YNc(9,U,1,1,"fd-button-bar",7),i.qZA()()),2&u){const r=h.$implicit,g=h.dialogConfig,p=i.oxw();i.Q6J("dialogConfig",g)("dialogRef",r),i.xp6(2),i.Q6J("ngIf",null==p.mobileConfig?null:p.mobileConfig.title),i.xp6(1),i.Q6J("ngIf",null==p.mobileConfig?null:p.mobileConfig.hasCloseButton),i.xp6(3),i.Q6J("ngTemplateOutlet",(null==p.childContent?null:p.childContent.listTemplate)||null),i.xp6(2),i.Q6J("ngIf",null==p.mobileConfig?null:p.mobileConfig.approveButtonText),i.xp6(1),i.Q6J("ngIf",null==p.mobileConfig?null:p.mobileConfig.cancelButtonText)}}let Y=(()=>{class u extends O.aj{constructor(r,g,p,$){super(r,g,p,O.oS.MULTI_INPUT,$),this.childContent=null}ngOnInit(){this._listenOnMultiInputOpenChange()}ngOnDestroy(){super.onDestroy()}selectAll(r){this._component.selectAllItems(!r)}handleDismiss(){this.dialogRef.dismiss(),this._component.dialogDismiss(this._selectedBackup)}handleApprove(){this.dialogRef.close(),this._component.dialogApprove()}_toggleDialog(r){r&&(this._selectedBackup=this._component.selected?.length?[...this._component.selected]:[],this._dialogService.hasOpenDialogs()||this._open())}_listenOnMultiInputOpenChange(){this._component.openChange.pipe((0,w.R)(this._onDestroy$)).subscribe(r=>this._toggleDialog(r)),this._component.allItemsSelectedChange.pipe((0,w.R)(this._onDestroy$)).subscribe(r=>this.allItemsSelected=r)}_open(){this.dialogRef=this._dialogService.open(this.dialogTemplate,{mobile:!0,disablePaddings:!0,...this.dialogConfig,backdropClickCloseable:!1,escKeyCloseable:!1,container:this._elementRef.nativeElement})}}return u.\u0275fac=function(r){return new(r||u)(i.Y36(i.SBq),i.Y36(f.xA),i.Y36(C.v),i.Y36(O.jq,8))},u.\u0275cmp=i.Xpm({type:u,selectors:[["fd-multi-input-mobile"]],viewQuery:function(r,g){if(1&r&&i.Gf(H,5),2&r){let p;i.iGM(p=i.CRH())&&(g.dialogTemplate=p.first)}},standalone:!0,features:[i.qOj,i.jDz],decls:2,vars:0,consts:[["dialogTemplate",""],[3,"dialogConfig","dialogRef"],["fd-title","",4,"ngIf"],["fd-dialog-close-button","",3,"mobile","click",4,"ngIf"],["fdkTemplate","subheader"],[4,"ngTemplateOutlet"],["fdType","emphasized",3,"label","click",4,"ngIf"],[3,"label","click",4,"ngIf"],["fd-title",""],["fd-dialog-close-button","",3,"mobile","click"],["fd-bar-middle",""],[1,"custom-multi-input-mobile-control-element"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"custom-multi-input-select-all-bar-element"],["fd-button","","glyph","multiselect-all",3,"fdType","click"],["fdType","emphasized",3,"label","click"],[3,"label","click"]],template:function(r,g){1&r&&i.YNc(0,W,10,7,"ng-template",null,0,i.W1O)},dependencies:[f.Su,y.a,P.H,A.g,d.A,D.D,F.S,S.s,k.J,B.N,E.r,M.O5,m.Fh,M.tP,t.hJ,R.r],styles:[".custom-multi-input-select-all-bar-element{min-width:2.25rem}.custom-multi-input-mobile-control-element{width:calc(100% - 2.25rem)}.custom-multi-input-mobile-control-element .fd-multi-input-input-group-custom{width:100%}\n"],encapsulation:2,changeDetection:0}),u})()},94544:(K,v,s)=>{s.d(v,{L:()=>x});var M=s(49671),T=s(97582),m=s(36028),t=s(65879),f=s(60095),O=s(65619),w=s(47394),C=s(52572),i=s(93997),y=s(37398),P=s(81374),A=s(27921),d=s(64751),D=s(66162),F=s(31380),S=s(34652),k=s(31480),B=s(67959),E=s(96814),R=s(68990),H=s(54742),L=s(27017),J=s(58567),N=s(17884),Z=s(63068),G=s(17480),Q=s(22538);class V{constructor(){this._selected=new Map,this.selectionChanged=new t.vpe}get selected(){return[...this._selected.values()]}isSelected(e){return this._selected.has(e)}select(e,n){n?this._selected.set(e,n):e.forEach(([l,o])=>this._selected.set(l,o)),this.selectionChanged.emit([...this._selected])}deselect(e){this._selected.delete(e),this.selectionChanged.emit([...this._selected])}clear(){this._selected.clear(),this.selectionChanged.emit([...this._selected])}}var U=s(16937),W=s(13991),Y=s(62742),u=s(14656),h=s(74107),r=s(31706),g=s(46686);const p=["control"],$=["list"],tt=["searchInputElement"],j=function(a){return{displayAddonButton:a}};function et(a,e){if(1&a&&t.GkF(0,8),2&a){t.oxw();const n=t.MAs(6),l=t.oxw();t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(2,j,l.displayAddonButton))}}function nt(a,e){1&a&&t.GkF(0)}function it(a,e){1&a&&t.GkF(0)}const ot=function(){return[]};function lt(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"fd-popover",9),t.NdJ("isOpenChange",function(o){t.CHM(n);const c=t.oxw(2);return t.KtG(c.openChangeHandle(o))})("input",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(!o.open&&o.openChangeHandle(!0))}),t.TgZ(1,"fd-popover-control")(2,"form",10),t.NdJ("submit",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o._onSubmit())}),t.YNc(3,nt,1,0,"ng-container",11),t.qZA()(),t.TgZ(4,"fd-popover-body"),t.YNc(5,it,1,0,"ng-container",12),t.Hsn(6),t.qZA()()}if(2&a){const n=t.oxw().ngIf,l=t.MAs(6),o=t.MAs(8),c=t.oxw();t.Q6J("isOpen",c.open)("triggers",t.DdM(11,ot))("maxWidth",c._popoverMaxWidth)("disabled",c.disabled)("fillControlMode",c.fillControlMode),t.xp6(3),t.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",t.VKq(12,j,c.displayAddonButton)),t.xp6(1),t.ekj("fd-popover__body--hidden",!n.displayedOptions.length),t.uIk("aria-hidden",!c.open),t.xp6(1),t.Q6J("ngTemplateOutlet",o)}}function st(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"fd-token",20),t.NdJ("onCloseClick",function(o){const _=t.CHM(n).$implicit,b=t.oxw(3);return t.KtG(b._onTokenClick(_,!1,o))})("onRemove",function(){const c=t.CHM(n).$implicit,_=t.oxw(3);return t.KtG(_._onTokenClick(c,!1))}),t._UZ(1,"span",21),t.qZA()}if(2&a){const n=e.$implicit,l=t.oxw(3);t.Q6J("disabled",l.disabled),t.xp6(1),t.Q6J("innerHtml",n.label,t.oJD)}}const at=function(a){return{length:a}};function ct(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"fd-input-group",13),t.NdJ("addOnButtonClicked",function(o){t.CHM(n);const c=t.oxw(2);return t.KtG(c._addOnButtonClicked(o))}),t.TgZ(1,"span",14),t._uU(2),t.ALo(3,"fdTranslate"),t.qZA(),t.TgZ(4,"fd-tokenizer",15,16),t.NdJ("moreClickedEvent",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o._moreClicked())}),t.YNc(6,st,2,2,"fd-token",17),t.TgZ(7,"input",18,19),t.NdJ("onComplete",function(o){t.CHM(n);const c=t.oxw(2);return t.KtG(c._handleComplete(o))})("keydown",function(o){t.CHM(n);const c=t.oxw(2);return t.KtG(c._handleInputKeydown(o))})("focus",function(){t.CHM(n);const o=t.MAs(5);return t.KtG(o._showAllTokens())})("blur",function(){t.CHM(n);const o=t.MAs(5);return t.KtG(o._hideTokens())}),t.ALo(9,"fdTranslate"),t.qZA()()()}if(2&a){const n=e.displayAddonButton,l=t.oxw().ngIf,o=t.oxw();t.Q6J("state",o.state)("buttonFocusable",o.buttonFocusable)("button",n)("disabled",o.disabled)("isExpanded",o.open&&!o.mobile&&l.displayedOptions.length>0)("isControl",!0)("glyph",n?o.glyph:"")("iconTitle",o.title),t.xp6(1),t.uIk("id",o.tokenHiddenId),t.xp6(1),t.Oqu(t.xi3(3,27,"coreMultiInput.tokensCountText",t.VKq(32,at,o.selected.length))),t.xp6(2),t.Q6J("compactCollapse",o.compactCollapse)("open",o.open)("tokenizerFocusable",!1),t.xp6(2),t.Q6J("ngForOf",l.selectedOptions)("ngForTrackBy",o._trackBy),t.xp6(1),t.Q6J("displayFn",o.displayFn)("matcher",o.typeAheadMatcher)("inputText",o._searchTermCtrl.value||"")("options",o.dropdownValues)("enable",o.autoComplete&&!o.mobile)("placeholder",o.placeholder)("formControl",o._searchTermCtrl)("ariaLabel",o.ariaLabel||t.lcZ(9,30,"coreMultiInput.multiInputAriaLabel"))("ariaLabelledBy",o.ariaLabelledBy),t.uIk("aria-required",o.required)("aria-describedby",o.tokenHiddenId)("id",o.inputId)}}const rt=function(a){return{option:a}};function ut(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"li",26),t.NdJ("click",function(o){const c=t.CHM(n),_=c.$implicit,b=c.index,I=t.oxw(4);return t.KtG(I._onCheckboxClick(_,o,b,!0))})("keyup",function(o){const c=t.CHM(n),_=c.$implicit,b=c.index,I=t.oxw(4);return t.KtG(I._onCheckboxKeyup(_,o,b))}),t.TgZ(1,"fd-checkbox",27),t.NdJ("click",function(o){const c=t.CHM(n),_=c.$implicit,b=c.index,I=t.oxw(4);return t.KtG(I._onCheckboxClick(_,o,b))}),t.qZA(),t.GkF(2,8),t.qZA()}if(2&a){const n=e.$implicit;t.oxw(3);const l=t.MAs(10);t.Q6J("selected",!!n.isSelected),t.uIk("aria-label",n.label),t.xp6(1),t.Q6J("value",n.isSelected),t.xp6(1),t.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",t.VKq(5,rt,n))}}function pt(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"li",28),t.NdJ("keyDown",function(o){t.CHM(n);const c=t.oxw(4);return t.KtG(c._showAllKeyDown(o))})("click",function(o){t.CHM(n);const c=t.oxw(4);return t.KtG(c._showAllClicked(o))}),t.TgZ(1,"a",29),t._uU(2),t.qZA()()}if(2&a){const n=t.oxw(4);t.xp6(2),t.hij("Show All (",n.dropdownValues.length,")")}}function dt(a,e){if(1&a){const n=t.EpF();t.TgZ(0,"ul",23),t.NdJ("focusEscapeList",function(o){t.CHM(n);const c=t.oxw(3);return t.KtG(c.handleListFocusEscape(o))}),t.YNc(1,ut,3,7,"li",24),t.YNc(2,pt,3,1,"li",25),t.qZA()}if(2&a){const n=t.oxw(2).ngIf,l=t.oxw();t.Udp("max-height",l.mobile?"auto":l.maxHeight)("min-width","100%"),t.Q6J("selection",!0)("mobileMode",l.mobile)("byline",l.byline),t.xp6(1),t.Q6J("ngForOf",n.displayedOptions)("ngForTrackBy",l._trackBy),t.xp6(1),t.Q6J("ngIf",l.showAllButton&&n.displayedOptions.length<l.dropdownValues.length)}}function _t(a,e){if(1&a&&t.YNc(0,dt,3,10,"ul",22),2&a){const n=t.oxw().ngIf;t.Q6J("ngIf",n.displayedOptions.length)}}function mt(a,e){if(1&a&&(t._UZ(0,"span",31),t.ALo(1,"highlight")),2&a){const n=t.oxw().option,l=t.oxw(2);t.Q6J("innerHtml",t.Dn7(1,1,n.label,l._searchTermCtrl.value||"",l.highlight),t.oJD)}}const ht=function(a){return{$implicit:a}};function ft(a,e){if(1&a&&(t.ynx(0),t.GkF(1,8),t.BQk()),2&a){const n=t.oxw().option,l=t.oxw(2);t.xp6(1),t.Q6J("ngTemplateOutlet",l.itemTemplate)("ngTemplateOutletContext",t.VKq(2,ht,n.item))}}function gt(a,e){if(1&a&&(t.YNc(0,mt,2,5,"span",30),t.YNc(1,ft,2,4,"ng-container",0)),2&a){const n=t.oxw(2);t.Q6J("ngIf",!n.itemTemplate),t.xp6(1),t.Q6J("ngIf",n.itemTemplate)}}function Ct(a,e){if(1&a&&(t.ynx(0),t.TgZ(1,"div",1)(2,"div",2),t.YNc(3,et,1,4,"ng-container",3),t.YNc(4,lt,7,14,"fd-popover",4),t.qZA()(),t.YNc(5,ct,10,34,"ng-template",null,5,t.W1O),t.YNc(7,_t,1,1,"ng-template",null,6,t.W1O),t.YNc(9,gt,2,2,"ng-template",null,7,t.W1O),t.BQk()),2&a){const n=t.oxw();t.xp6(3),t.Q6J("ngIf",n.mobile),t.xp6(1),t.Q6J("ngIf",!n.mobile)}}function X(a){return z(a)&&"item"in a&&"id"in a}function z(a){return"object"==typeof a&&null!==a&&"value"in a&&"label"in a}let Mt=0;class x{set searchTerm(e){this._searchTermCtrl.setValue(e)}get searchTerm(){return this._searchTermCtrl.value??""}set selected(e){if(this._selectionModel.clear(),e){const n=[...e],l=[];n.forEach(o=>{let c=this._optionItems.find(_=>_.value===o);c||(c=this._getOptionItem(o)),l.push(c)}),this._selectionModel.select(l.map(o=>[o.id,o]))}}get selected(){return this._selectionModel.selected.map(e=>e.value)}get _popoverMaxWidth(){return"none"===this.bodyMaxWidth?null:"number"==typeof this.bodyMaxWidth?this.bodyMaxWidth:this.elementRef.nativeElement.getBoundingClientRect().width}get _optionItems(){return this.optionItems$.value}get typeAheadMatcher(){return this.includes?(e,n)=>e.includes(n):(e,n)=>e.startsWith(n)}constructor(e,n,l,o,c,_,b,I){this._contentDensityObserver=e,this.elementRef=n,this._changeDetRef=l,this._dynamicComponentService=o,this._injector=c,this._viewContainerRef=_,this._rtlService=b,this._focusTrapService=I,this.placeholder="",this.disabled=!1,this.required=!1,this.compactCollapse=!0,this.maxHeight="300px",this.glyph="value-help",this.dropdownValues=[],this.openDropdownOnAddOnClicked=!0,this.inputId="",this.highlight=!0,this.filterFn=this._defaultFilter,this.valueFn=this._defaultValueFn,this.displayFn=this._defaultDisplay,this.newTokenParseFn=this._defaultParse,this.newTokenValidateFn=this._defaultTokenValidate,this.fillControlMode="at-least",this.buttonFocusable=!0,this.allowNewTokens=!1,this.mobile=!1,this.showAllButton=!0,this.bodyMaxWidth="none",this.mobileConfig={hasCloseButton:!0,approveButtonText:"Select"},this.includes=!1,this.byline=!1,this.autoComplete=!0,this.searchTermChange=new t.vpe,this.selectedChange=new t.vpe,this.open=!1,this.displayAddonButton=!0,this._tokenCountHiddenLabel="fd-multi-input-token-count-id-"+Mt++,this.tokenHiddenId=this._tokenCountHiddenLabel,this.openChange=new t.vpe,this.addOnButtonClicked=new t.vpe,this.allItemsSelectedChange=new t.vpe,this.optionItems$=new O.X([]),this._searchTermCtrl=new f.NI(""),this._selectionModel=new V,this._viewModel$=this._getViewModel(),this._subscriptions=new w.w0,this._rangeSelector=new d.Wh8,this._trackBy=(q,Tt)=>this.valueFn(Tt?.item),this.onChange=()=>{},this.onTouched=()=>{}}buildComponentCssClass(){if("value-help"===this.glyph&&"rtl"===this._dir){const e=this.elementRef.nativeElement.querySelector(".sap-icon--value-help");e&&(e.style.transform="scaleX(-1)")}return["fd-multi-input","fd-multi-input-custom",this.class]}_focusOut(e){this.elementRef.nativeElement.contains(e.relatedTarget)||this.onTouched()}ngOnInit(){this.buildComponentCssClass(),this._subscriptions.add(this._rtlService?.rtl.subscribe(e=>{this._dir=e?"rtl":"ltr",this.buildComponentCssClass()})),this.inputId||(this.inputId=(0,d.k$y)()),this._subscriptions.add(this._searchTermCtrl.valueChanges.pipe((0,i.x)()).subscribe(e=>{this.searchTermChange.emit(e??""),this._rangeSelector.reset()})),this._subscriptions.add(this._getViewModel().pipe((0,y.U)(e=>!e.displayedOptions.some(n=>!n.isSelected))).subscribe(e=>this.allItemsSelectedChange.emit(e)))}ngOnChanges(e){if(this.buildComponentCssClass(),e.dropdownValues||e.searchTerm||e.valueFn||e.displayFn){const n=(this.dropdownValues??[]).map(l=>this._getOptionItem(l));this.optionItems$.next(n),this._changeDetRef.markForCheck()}e.disabled&&(this.disabled?this._searchTermCtrl.disable():this._searchTermCtrl.enable())}ngAfterViewInit(){this.mobile&&this._setUpMobileMode(),this.tokenizer._showOverflowPopover=!1}ngOnDestroy(){this._subscriptions.unsubscribe()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this.elementRef.nativeElement.style.pointerEvents=e?"none":"auto",this._changeDetRef.detectChanges()}writeValue(e){this.selected=e,this._changeDetRef.markForCheck()}handleListFocusEscape(e){"up"===e&&!this.mobile&&this.searchInputElement.nativeElement.focus()}openChangeHandle(e){this.disabled||(!e&&this.open&&!this.mobile&&this.searchInputElement.nativeElement.focus(),this.open!==e&&this.openChange.emit(e),this.open=e,this.mobile||this._popoverOpenHandle(e),this.open?(this.disableParentFocusTrap(),this.searchInputElement?.nativeElement.focus()):(this._resetSearchTerm(),this.enableParentFocusTrap()),this.tokenizer.tokenizerInnerEl.nativeElement.scrollLeft=this.tokenizer.tokenizerInnerEl.nativeElement.scrollWidth,this._changeDetRef.detectChanges())}selectAllItems(e){this.selected=e?this._optionItems.map(n=>n.value):[],this._propagateChange()}_onCheckboxKeyup(e,n,l){d.yS$.isKeyCode(n,[m.L_,m.K5])&&this._onCheckboxClick(e,n,l)}_onCheckboxClick(e,n,l,o=!1){var c=this;return(0,M.Z)(function*(){const _=!c._selectionModel.isSelected(e.id);c._rangeSelector.onRangeElementToggled(l,n);const b=c._viewModel$.pipe((0,P.P)()).subscribe(I=>{c._rangeSelector.applyValueToEachInRange(q=>c._handleSelect(_,I.displayedOptions[q],!1)),c._changeDetRef.detectChanges()});c._subscriptions.add(b),o?c.openChangeHandle(!1):n.stopPropagation()})()}_onTokenClick(e,n,l){l?.preventDefault(),this._handleSelect(!1,e,n,!0)}_handleSelect(e,n,l=!0,o=!1){const c=this._selectionModel.selected.length;e?this._selectionModel.select(n.id,n):this._selectionModel.deselect(n.id),this._shouldPopoverBeUpdated(c,this._selectionModel.selected.length)&&this.popoverRef.refreshPosition(),l&&(this._resetSearchTerm(),this.searchInputElement.nativeElement.focus()),0===this._selectionModel.selected.length&&(this.searchInputElement.nativeElement.focus(),this._changeDetRef.detectChanges()),this._propagateChange(o)}_handleInputKeydown(e){d.yS$.isKeyCode(e,m.JH)&&!this.mobile?(e.altKey&&this.openChangeHandle(!0),this.listComponent&&(this.listComponent.setItemActive(0),e.preventDefault())):d.yS$.isKeyCode(e,[m.JH,m.LH,m.K5])?this.openChangeHandle(!0):d.yS$.isKeyCode(e,m.hY)?this.openChangeHandle(!1):d.yS$.isKeyCode(e,m.Mf)&&this.open?this.listComponent&&(this.listComponent.setItemActive(0),e.preventDefault()):(d.yS$.isKeyType(e,"alphabetical")||d.yS$.isKeyType(e,"numeric"))&&(this.open||(this.openChangeHandle(!0),this.searchInputElement.nativeElement.focus()))}_showAllClicked(e){e.preventDefault(),e.stopPropagation(),this._searchTermCtrl.setValue(""),this.searchInputElement.nativeElement.focus()}_showAllKeyDown(e){d.yS$.isKeyCode(e,[m.L_,m.K5])&&this._showAllClicked(e)}_onSubmit(){const e=this.searchTerm;if(""!==e&&!this._selectFirstFiltered(e)&&this.allowNewTokens&&this.newTokenValidateFn(this._searchTermCtrl.value??"")){const l=this.newTokenParseFn(this._searchTermCtrl.value??"");this._addNewTokenToDropDownValues(l),this._handleSelect(!0,l),this._searchTermCtrl.setValue(""),this.open=!1}}_handleComplete({term:e}){this.searchTerm=e}dialogDismiss(e){this.openChangeHandle(!1),this._resetSearchTerm(),this.selected=e}dialogApprove(){this._propagateChange(!0),this.openChangeHandle(!1),this._resetSearchTerm()}_moreClicked(){this.openChangeHandle(!0)}_addOnButtonClicked(e){this.addOnButtonClicked.emit(e),this.openDropdownOnAddOnClicked?this.openChangeHandle(!this.open):this.open&&this.openChangeHandle(!1)}disableParentFocusTrap(){this._focusTrapService?.pauseCurrentFocusTrap()}enableParentFocusTrap(){this._focusTrapService?.unpauseCurrentFocusTrap()}_addNewTokenToDropDownValues(e){this.dropdownValues.push(e);const n=this._getOptionItem(e);this.optionItems$.next([...this._optionItems,n])}_selectFirstFiltered(e){const n=this.filterFn(this.dropdownValues,e);if(Array.isArray(n)&&n.length>0&&this.autoComplete){const l=this._getOptionItem(n[0]);return this._handleSelect(!0,l),this._searchTermCtrl.setValue(""),this.open=!1,!0}return!1}_defaultFilter(e,n=""){const l=n.toLocaleLowerCase();return e.filter(o=>{if(o){const _=(X(o)?o.label:this.displayFn(o))?.toLocaleLowerCase()||"";return this.typeAheadMatcher(_,l)}})}_defaultValueFn(e){return e}_defaultDisplay(e){return"string"==typeof e?e:z(e)?e.label:void 0}_defaultParse(e){return e}_defaultTokenValidate(e){return!!e}_popoverOpenHandle(e){this.open=e}_propagateChange(e){if(!this.mobile||e){const n=this._selectionModel.selected.map(l=>l.value);this.onChange(n),this.selectedChange.emit(n)}}_shouldPopoverBeUpdated(e,n){return!!this.popoverRef&&(0===e&&1===n||1===e&&0===n)}_setUpMobileMode(){var e=this;return(0,M.Z)(function*(){const n=t.zs3.create({providers:[{provide:Q.v,useValue:e}],parent:e._injector});e._dynamicComponentService.createDynamicComponent({listTemplate:e.listTemplate,controlTemplate:e.controlTemplate},G.b,{containerRef:e._viewContainerRef},{injector:n})})()}_getItemIdentifier(e){if(!this.optionItemIdentifier){const n=this.valueFn(e);return"string"!=typeof n&&"number"!=typeof n&&"symbol"!=typeof n&&(0,t.X6Q)()&&console.warn("optionItemIdentifier is not set and valueFn does not return a string, number or symbol",e),n}return"function"==typeof this.optionItemIdentifier?this.optionItemIdentifier(e):(0,Z.Z)(e,this.optionItemIdentifier)}_resetSearchTerm(){this._searchTermCtrl.setValue(""),this._changeDetRef.detectChanges()}_getOptionItem(e){if(X(e))return e;const{label:n,value:l}=this._getValueAndLabelOfItem(e);return{id:this._getItemIdentifier(e),item:e,label:n,value:l,isSelected:!1}}_getValueAndLabelOfItem(e){const n="object"==typeof e&&null!==e?e[Object.keys(e)[0]]:e;let l=this.valueFn(e)??n,o=this.displayFn(e)??n;return z(e)&&(this.valueFn===this._defaultValueFn&&(l=e.value),this.displayFn===this._defaultDisplay&&(o=e.label)),{label:o,value:l}}_getViewModel(){return(0,C.a)([this._searchTermCtrl.valueChanges.pipe((0,A.O)(this._searchTermCtrl.value)),this._selectionModel.selectionChanged.pipe((0,A.O)(null)),this.optionItems$]).pipe((0,y.U)(()=>{const n=this.filterFn(this.dropdownValues,this._searchTermCtrl.value??""),l=(Array.isArray(n)?n:[]).map(o=>this._getOptionItem(o));return l.forEach(o=>o.isSelected=this._selectionModel.isSelected(o.id)),{selectedOptions:this._selectionModel.selected,displayedOptions:l}}))}}x.\u0275fac=function(e){return new(e||x)(t.Y36(H.c7),t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(d.avN),t.Y36(t.zs3),t.Y36(t.s_b),t.Y36(d.qFd,8),t.Y36(d.X$v,8))},x.\u0275cmp=t.Xpm({type:x,selectors:[["fd-multi-input"]],viewQuery:function(e,n){if(1&e&&(t.Gf(k.U$,5),t.Gf(p,5,t.Rgc),t.Gf($,5,t.Rgc),t.Gf(F.ns,5),t.Gf(tt,5,t.SBq),t.Gf(B.OZ,5)),2&e){let l;t.iGM(l=t.CRH())&&(n.popoverRef=l.first),t.iGM(l=t.CRH())&&(n.controlTemplate=l.first),t.iGM(l=t.CRH())&&(n.listTemplate=l.first),t.iGM(l=t.CRH())&&(n.listComponent=l.first),t.iGM(l=t.CRH())&&(n.searchInputElement=l.first),t.iGM(l=t.CRH())&&(n.tokenizer=l.first)}},hostBindings:function(e,n){1&e&&t.NdJ("focusout",function(o){return n._focusOut(o)})},inputs:{placeholder:"placeholder",disabled:"disabled",required:"required",compactCollapse:"compactCollapse",maxHeight:"maxHeight",glyph:"glyph",dropdownValues:"dropdownValues",openDropdownOnAddOnClicked:"openDropdownOnAddOnClicked",searchTerm:"searchTerm",inputId:"inputId",highlight:"highlight",selected:"selected",class:"class",filterFn:"filterFn",valueFn:"valueFn",displayFn:"displayFn",newTokenParseFn:"newTokenParseFn",optionItemIdentifier:"optionItemIdentifier",newTokenValidateFn:"newTokenValidateFn",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",fillControlMode:"fillControlMode",state:"state",buttonFocusable:"buttonFocusable",allowNewTokens:"allowNewTokens",mobile:"mobile",showAllButton:"showAllButton",bodyMaxWidth:"bodyMaxWidth",mobileConfig:"mobileConfig",includes:"includes",itemTemplate:"itemTemplate",title:"title",byline:"byline",autoComplete:"autoComplete",open:"open",displayAddonButton:"displayAddonButton",tokenHiddenId:"tokenHiddenId"},outputs:{searchTermChange:"searchTermChange",selectedChange:"selectedChange",openChange:"openChange",addOnButtonClicked:"addOnButtonClicked",allItemsSelectedChange:"allItemsSelectedChange"},standalone:!0,features:[t._Bn([{provide:f.JU,useExisting:(0,t.Gpc)(()=>x),multi:!0},S.ub,(0,D.YO)(x),(0,H.EQ)()]),t.TTD,t.jDz],ngContentSelectors:["*"],decls:2,vars:3,consts:[[4,"ngIf"],[1,"fd-multi-input","fd-multi-input-custom"],[1,"fd-multi-input-field"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["additionalBodyClass","fd-popover-custom-list","class","fd-multi-input-popover-custom",3,"isOpen","triggers","maxWidth","disabled","fillControlMode","isOpenChange","input",4,"ngIf"],["control",""],["list",""],["itemSource",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["additionalBodyClass","fd-popover-custom-list",1,"fd-multi-input-popover-custom",3,"isOpen","triggers","maxWidth","disabled","fillControlMode","isOpenChange","input"],[3,"submit"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],[1,"fd-multi-input-input-group-custom",3,"state","buttonFocusable","button","disabled","isExpanded","isControl","glyph","iconTitle","addOnButtonClicked"],["aria-hidden","true",1,"fd-multi-input__invisible-text"],["tabindex","-1",1,"fd-multi-input-tokenizer-custom",3,"compactCollapse","open","tokenizerFocusable","moreClickedEvent"],["tokenizer",""],[3,"disabled","onCloseClick","onRemove",4,"ngFor","ngForOf","ngForTrackBy"],["type","text","autocomplete","off","fd-form-control","","fd-input-group-input","","fdkAutoComplete","",1,"fd-input","fd-tokenizer__input","fd-multi-input-tokenizer-input",3,"displayFn","matcher","inputText","options","enable","placeholder","formControl","ariaLabel","ariaLabelledBy","onComplete","keydown","focus","blur"],["searchInputElement",""],[3,"disabled","onCloseClick","onRemove"],[3,"innerHtml"],["fd-list","","class","fd-multi-input-menu-overflow","aria-multiselectable","true",3,"selection","mobileMode","max-height","byline","min-width","focusEscapeList",4,"ngIf"],["fd-list","","aria-multiselectable","true",1,"fd-multi-input-menu-overflow",3,"selection","mobileMode","byline","focusEscapeList"],["fd-list-item","",3,"selected","click","keyup",4,"ngFor","ngForOf","ngForTrackBy"],["fd-list-item","","class","fd-multi-input-show-all",3,"keyDown","click",4,"ngIf"],["fd-list-item","",3,"selected","click","keyup"],[3,"value","click"],["fd-list-item","",1,"fd-multi-input-show-all",3,"keyDown","click"],["fd-link","","role","button","tabindex","0"],["fd-list-title","",3,"innerHtml",4,"ngIf"],["fd-list-title","",3,"innerHtml"]],template:function(e,n){1&e&&(t.F$t(),t.YNc(0,Ct,11,2,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,n._viewModel$))},dependencies:[E.O5,E.tP,k.U$,k.f$,f.u5,f._Y,f.Fj,f.JJ,f.JL,f.F,k.xN,L.ne,U.g,W.cS,B.Wh,Y.q,u.O,E.ax,D.Ac,d.ExV,f.UX,f.oH,F.pV,h.n,r.G,g.X,R.bK,J.N0,E.Ov,d.WeT,N.ni],styles:[".fd-multi-input-tokenizer-custom{width:calc(100% - 2.25rem)}[class*=--compact] .fd-multi-input-tokenizer-custom:not([class*=--cozy]):not([class*=--condensed]),.is-compact .fd-multi-input-tokenizer-custom:not(.is-cozy):not(.is-condensed),.fd-multi-input-tokenizer-custom[class*=--compact],.fd-multi-input-tokenizer-custom.is-compact{width:calc(100% - 2rem)}.fd-multi-input__invisible-text{display:none!important}.fd-multi-input-input-group-custom{max-width:100%}.fd-multi-input-custom{display:block}.fd-multi-input-item{cursor:pointer;padding:0}.fd-multi-input-popover-size{overflow:auto;display:block}.fd-multi-input-popover-custom.fd-popover-custom{max-width:100%;display:block}.fd-multi-input-show-all{width:100%;display:flex;justify-content:flex-end;background-color:transparent}.fd-multi-input-show-all .fd-link:active{color:inherit}.fd-multi-input-checkbox{width:100%;cursor:pointer}.fd-multi-input-checkbox .fd-checkbox__label{color:inherit}.fd-multi-input-menu-overflow{max-width:37.5rem}.fd-input.fd-multi-input-tokenizer-input{min-width:4rem;margin-top:0;margin-bottom:0;padding-left:0;background-color:transparent}.fd-list--multi-input{max-width:100%}.fd-popover__body--hidden{display:none}\n"],encapsulation:2,changeDetection:0}),(0,T.gn)([d.Mkd,(0,T.w6)("design:type",Function),(0,T.w6)("design:paramtypes",[]),(0,T.w6)("design:returntype",Array)],x.prototype,"buildComponentCssClass",null)},22538:(K,v,s)=>{s.d(v,{v:()=>T});const T=new(s(65879).OlP)("MultiInputComponent")}}]);