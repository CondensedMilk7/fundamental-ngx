"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[98412],{98412:(P,g,i)=>{i.r(g),i.d(g,{AdvancedExamplesDocsComponent:()=>O});var a=i(65879),C=i(71567),h=i(46731),m=i(84142),S=i(70014),u=i(71657),f=i(22096),v=i(37547),A=i(29202),Z=i(57314),I=i(28139),E=i(94724),w=i(38873),U=i(77229),D=i(50729);let L=(()=>{class n{constructor(){this.filterTypeEnum=u.vA,this.dataTypeEnum=u.g,this.source=new u.Gl(new k),this.childSource=new u.Rd(new M)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["fdp-doc-advanced-scrolling-example"]],standalone:!0,features:[a.jDz],decls:8,vars:21,consts:[["selectionMode","multiple","relationKey","children","emptyTableMessage","No data found","bodyHeight","300px","hasChildrenKey","hasChildren",3,"dataSource","childDataSource","isTreeTable","virtualScroll","pageScrolling","pageSize","renderAhead","pageScrollingThreshold","expandOnInit"],["table",""],["title","Order Line Items",3,"hideItemCount","hideSearchInput"],["name","name","key","name","label","Name","align","start",3,"sortable","filterable","dataType"],["name","description","key","description","label","Description"],["name","price","key","price.value","label","Price","align","end",3,"sortable","filterable","dataType"],["name","status","key","status","label","Status","align","center",3,"sortable","filterable","dataType"],[3,"table"]],template:function(t,r){if(1&t&&(a.TgZ(0,"fdp-table",0,1),a._UZ(2,"fdp-table-toolbar",2)(3,"fdp-column",3)(4,"fdp-column",4)(5,"fdp-column",5)(6,"fdp-column",6),a.qZA(),a._UZ(7,"fdp-table-p13-dialog",7)),2&t){const l=a.MAs(1);a.Q6J("dataSource",r.source)("childDataSource",r.childSource)("isTreeTable",!0)("virtualScroll",!0)("pageScrolling",!0)("pageSize",50)("renderAhead",50)("pageScrollingThreshold",80)("expandOnInit",!0),a.xp6(2),a.Q6J("hideItemCount",!1)("hideSearchInput",!0),a.xp6(1),a.Q6J("sortable",!0)("filterable",!0)("dataType",r.dataTypeEnum.STRING),a.xp6(2),a.Q6J("sortable",!0)("filterable",!0)("dataType",r.dataTypeEnum.NUMBER),a.xp6(1),a.Q6J("sortable",!0)("filterable",!0)("dataType",r.dataTypeEnum.STRING),a.xp6(1),a.Q6J("table",l)}},dependencies:[S.ky,A.a,Z.Z,I.U,E.$,w.w,U.E,D.l,h.Yp],encapsulation:2,changeDetection:0}),n})();class M extends u.hH{constructor(){super(...arguments),this.items=new Map,this.totalItems=200,this.startIndex=0,this.allItemsMap=new Map}rowChildrenCount(e){return(0,f.of)(this.totalItems)}fetch(e,t){const r=new Map;return t?.forEach(l=>{let s=this.allItemsMap.get(l);const c=e?.page.currentPage;if(s||(s=T(this.totalItems,l.level+1),this.allItemsMap.set(l,s)),e?.searchInput&&(s=this.search(s,e)),e?.sortBy&&(s=this.sort(s,e)),e?.filterBy&&(s=this.filter(s,e)),c&&e?.page){const o=(c-1)*e.page.pageSize;s=s.slice(o,o+e.page.pageSize)}r.set(l,s)}),(0,f.of)(r).pipe((0,v.g)(1e3))}filter(e,{filterBy:t}){return t.filter(({field:r})=>!!r).forEach(r=>{e=e.filter(l=>{switch(r.field){case"name":case"description":case"status":case"statusColor":return x(l,r);case"price.value":return b(l,r);default:return!1}})}),e}search(e,{searchInput:t,columnKeys:r}){const l=t?.text||"",s=r;return""===l.trim()||0===s.length?e:e.filter(c=>s.map(d=>p(d,c)).filter(d=>!!d).map(d=>d.toString()).some(d=>d.toLocaleLowerCase().includes(l.toLocaleLowerCase())))}sort(e,{sortBy:t}){return 0===(t=t.filter(({field:r})=>!!r)).length?e:e.sort((r,l)=>t.map(({field:s,direction:c})=>{const o=c===u.Sr.ASC?1:-1;return y(r,l,s)*o}).find((s,c,o)=>0!==s||c===o.length-1)??0)}}class k extends u.qF{constructor(e=0){super(),this.level=e,this.items=[],this.totalItems=5e3,this.startIndex=0}fetch(e){if(this.allItems=this.allItems||T(this.totalItems,this.level),this.items=[...this.allItems],e?.searchInput&&(this.items=this.search(this.items,e)),e?.sortBy&&(this.items=this.sort(e)),e?.filterBy&&(this.items=this.filter(this.items,e)),e?.page?.currentPage){const t=(e.page.currentPage-1)*e.page.pageSize;this.items=this.items.slice(t,t+e.page.pageSize)}return(0,f.of)(this.items).pipe((0,v.g)(1e3))}filter(e,{filterBy:t}){return t.filter(({field:r})=>!!r).forEach(r=>{e=e.filter(l=>{switch(r.field){case"name":case"description":case"status":case"statusColor":return x(l,r);case"price.value":return b(l,r);default:return!1}})}),e}search(e,{searchInput:t,columnKeys:r}){const l=t?.text||"",s=r;return""===l.trim()||0===s.length?e:e.filter(c=>s.map(d=>p(d,c)).filter(d=>!!d).map(d=>d.toString()).some(d=>d.toLocaleLowerCase().includes(l.toLocaleLowerCase())))}sort({sortBy:e}){const t=this.items.slice();return 0===(e=e.filter(({field:r})=>!!r)).length?t:t.sort((r,l)=>e.map(({field:s,direction:c})=>{const o=c===u.Sr.ASC?1:-1;return y(r,l,s)*o}).find((s,c,o)=>0!==s||c===o.length-1)??0)}}function T(n=5e3,e=0,t=0){return new Array(n).fill(null).map(()=>({name:`Laptops ${t++} (Level ${e+1})`,description:"pede malesuada",price:{value:489.01,currency:"EUR"},status:"Out of stock",statusColor:"negative",date:new h._U(2020,2,5),verified:!0,hasChildren:e<2}))}const y=(n,e,t)=>(t&&(n=p(t,n),e=p(t,e)),n>e?1:n===e?0:-1);function p(n,e){return n.split(".").reduce((t,r)=>t?t[r]:null,e)}const x=(n,e)=>{const t=e.value&&e.value.toLocaleLowerCase(),r=e.value2&&e.value2.toLocaleLowerCase()||"",l=p(e.field,n).toLocaleLowerCase();let s=!1;switch(e.strategy){case"equalTo":s=l===t;break;case"greaterThan":s=l>t;break;case"greaterThanOrEqualTo":s=l>=t;break;case"lessThan":s=l<t;break;case"lessThanOrEqualTo":s=l<=t;break;case"between":s=l>=t&&l<=r;break;case"beginsWith":s=l.startsWith(t);break;case"endsWith":s=l.endsWith(t);break;default:s=l.includes(t)}return e.exclude?!s:s},b=(n,e)=>{const t=Number.parseFloat(e.value),r=Number.parseFloat(e.value2)||0,l=Number.parseFloat(p(e.field,n));let s=!1;switch(e.strategy){case"greaterThan":s=l>t;break;case"greaterThanOrEqualTo":s=l>=t;break;case"lessThan":s=l<t;break;case"lessThanOrEqualTo":s=l<=t;break;case"between":s=l>=t&&l<=r;break;default:s=l===t}return e.exclude?!s:s};let O=(()=>{class n{constructor(){this.childService=(0,a.f3M)(m.cu),this.route=(0,a.f3M)(C.gz),this.pageScrollingTableFiles=[{language:"html",code:(0,m.H8)("advanced-scrolling/advanced-scrolling-example.component.html"),fileName:"advanced-scrolling-example",name:"advanced-scrolling-example.component.html"},{language:"typescript",code:(0,m.H8)("advanced-scrolling/advanced-scrolling-example.component.ts"),fileName:"advanced-scrolling-example",component:"AdvancedScrollingExampleComponent",name:"advanced-scrolling-example.component.ts"}],this.childService.setLink(this.route.snapshot.routeConfig?.path)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["fdp-doc-advanced-examples-docs"]],standalone:!0,features:[a.jDz],decls:28,vars:1,consts:[["id","page-scrolling","componentName","table"],[3,"exampleFiles"]],template:function(t,r){1&t&&(a.TgZ(0,"fd-docs-section-title",0),a._uU(1,"Handling large amount of data"),a.qZA(),a.TgZ(2,"description")(3,"p"),a._uU(4,"One of the scenarios of using Platform Table component, is to render the large amount of items."),a.qZA(),a.TgZ(5,"p"),a._uU(6,"Storing this amount directly in memory may lead to a browser performance issues."),a.qZA(),a.TgZ(7,"p"),a._uU(8," In order to keep the performance on a normal level, Platform Table component supports lazy loading of the items on scroll, and reusing rendered row components for row items. "),a.qZA(),a.TgZ(9,"p"),a._uU(10,"Additionally, Platform Table component supports lazy loading for a child row items."),a.qZA(),a.TgZ(11,"p"),a._uU(12," For this, developers need to pass Data source class that retrieves row's children into "),a.TgZ(13,"code"),a._uU(14,"[childDataSource]"),a.qZA(),a._uU(15," input property. "),a.qZA(),a.TgZ(16,"p")(17,"strong"),a._uU(18,"IMPORTANT:"),a.qZA(),a._uU(19," due to complexity of the children lazy loading logic, [childDataSource] can only accept classes derived from "),a.TgZ(20,"code"),a._uU(21,"TableChildrenDataProvider"),a.qZA(),a._uU(22,". "),a.qZA(),a.TgZ(23,"p"),a._uU(24,"This example shows combination of virtual scroll and lazy loading for item on each level."),a.qZA()(),a.TgZ(25,"component-example"),a._UZ(26,"fdp-doc-advanced-scrolling-example"),a.qZA(),a._UZ(27,"code-example",1)),2&t&&(a.xp6(27),a.Q6J("exampleFiles",r.pageScrollingTableFiles))},dependencies:[m.kZ,m.we,m.OZ,L,m.ED,h.Yp],encapsulation:2,changeDetection:0}),n})()}}]);