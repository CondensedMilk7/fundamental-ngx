<fdp-table
    #table
    [dataSource]="source"
    [childDataSource]="childSource"
    [isTreeTable]="true"
    selectionMode="multiple"
    relationKey="children"
    emptyTableMessage="No data found"
    bodyHeight="300px"
    [virtualScroll]="true"
    [pageScrolling]="true"
    [pageSize]="50"
    [renderAhead]="50"
    [pageScrollingThreshold]="80"
    hasChildrenKey="hasChildren"
    [expandOnInit]="true"
>
    <fdp-table-toolbar title="Order Line Items" [hideItemCount]="false" [hideSearchInput]="true"> </fdp-table-toolbar>

    <fdp-column
        name="name"
        key="name"
        label="Name"
        align="start"
        [groupable]="true"
        [sortable]="true"
        [dataType]="dataTypeEnum.STRING"
    >
    </fdp-column>

    <fdp-column name="description" key="description" label="Description"> </fdp-column>

    <fdp-column
        name="price"
        key="price.value"
        label="Price"
        align="end"
        [groupable]="true"
        [filterable]="true"
        [sortable]="true"
        [dataType]="dataTypeEnum.NUMBER"
    >
    </fdp-column>

    <fdp-column
        name="status"
        key="status"
        label="Status"
        align="center"
        [groupable]="true"
        [filterable]="true"
        [sortable]="true"
        [dataType]="dataTypeEnum.STRING"
    >
    </fdp-column>

    <fdp-column
        name="statusColor"
        key="statusColor"
        label="statusColor"
        align="center"
        [groupable]="true"
        [filterable]="true"
        [sortable]="true"
        [dataType]="dataTypeEnum.STRING"
    >
    </fdp-column>
</fdp-table>

<!-- View Settings Dialog-->
<fdp-table-view-settings-dialog [table]="table">
    <fdp-table-view-settings-filter column="price" label="Price" [type]="filterTypeEnum.CUSTOM">
        <ng-container *fdpViewSettingsFilterCustomDef="let model">
            <fdp-form-group #fg1 columnLayout="XL1-L1-M1-S1" labelLayout="vertical">
                <fdp-form-field label="Minimum Price">
                    <fdp-input type="number" name="min" [(ngModel)]="model.min"></fdp-input>
                </fdp-form-field>
                <fdp-form-field label="Maximum Price">
                    <fdp-input type="number" name="max" [(ngModel)]="model.max"></fdp-input>
                </fdp-form-field>
            </fdp-form-group>
        </ng-container>
    </fdp-table-view-settings-filter>

    <fdp-table-view-settings-filter
        column="status"
        [type]="filterTypeEnum.MULTI"
        label="Status"
        [values]="statusFilteringValues"
    >
    </fdp-table-view-settings-filter>

    <fdp-table-view-settings-filter
        column="statusColor"
        [type]="filterTypeEnum.SINGLE"
        label="Status Color"
        [values]="statusColorFilteringValues"
    >
    </fdp-table-view-settings-filter>
</fdp-table-view-settings-dialog>
