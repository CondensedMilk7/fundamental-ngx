import{a as ut}from"./chunk-K6OGZDNC.js";import"./chunk-YMJGOLQP.js";import{b as zo,c as jo,d as Go,e as Wo}from"./chunk-NNXRVAMR.js";import{a as Uo,b as Oo}from"./chunk-K5SOJWQA.js";import{a as ko,c as Po,d as Bo,e as _t,f as Vo,k as Lo,m as Ro}from"./chunk-SJZXZRUD.js";import{a as Ae}from"./chunk-BJ33LVNG.js";import{b as mt,c as Mo}from"./chunk-ITDPZ4ZC.js";import{Ab as kt,Ob as Ao,Sa as st,_ as $e,ea as vo,f as at,gc as Qe,ha as wo,ja as ze,kc as ft,oe as Eo,pa as _e,pe as ct,qa as je,qe as To,rb as Co,re as yo,sb as bo,tc as So,te as Do,uc as xo,ue as Fo,vc as He,ve as No,we as Io}from"./chunk-IACGEMKM.js";import{d as mo,e as _o,f as uo,i as go,v as Mt}from"./chunk-YS2CXKSC.js";import{E as pt,N as ho,O as Oe,U as dt,r as co,y as Z}from"./chunk-6LKTS3XZ.js";import{Ca as it,Da as rt,E as ke,Ea as lt,F as Pe,H as lo,Ka as te,L as Be,M as Ve,N as po,Q as so,T as Le,Y as Re,ba as Ue,da as fo,ia as nt,o as q,oa as X,ta as ee,w as ro}from"./chunk-HJFBXCT7.js";import{$d as no,A as Je,Aa as Kt,Ab as c,Bb as Jt,Bc as pe,Cb as Xt,G as Dt,Gb as et,Gf as io,Hb as H,Ig as be,J as Ft,Je as ot,Ka as ve,Kb as _,Lb as N,Mb as x,Nb as he,Pc as J,Qc as O,Rc as we,S as Nt,Sc as Ce,Tb as eo,U as ye,Ud as z,V as Gt,Vc as Ne,Wb as B,Wc as ao,Xa as Xe,Xb as me,Yb as re,Yc as tt,Zb as to,_a as Yt,a as ue,ab as P,ca as It,da as Wt,eb as r,fb as L,fc as g,g as zt,ga as $t,gc as v,hc as Fe,ja as Qt,ka as Ht,lb as ce,nb as m,nc as W,nd as Ie,ob as E,oc as Q,pb as p,pc as oo,qa as k,qb as s,qc as $,ra as qt,rb as f,rc as U,sa as Zt,sb as M,tb as b,u as ge,ub as A,vb as ne,wb as S,xa as De,xf as Me,ya as h,yb as u,z as jt,za as w}from"./chunk-52WO5KQ3.js";import{a as Y,b as le}from"./chunk-VIJJU4QR.js";function oe(e){return e.status==="approved"}function gt(e){return e.status!=="not started"}function $o(e){return e?.name}function vt(e){return e?.name}function Qo(e){return e?.id}function ht(e,i){return e.name.toLowerCase().indexOf(i.toLowerCase())>-1}function de(e,i){return i?.id??e}function Ee(e){return e.columns.reduce((i,o)=>i.concat(o.nodes),[])}function Ho(e,i){return i.filter(o=>Te(o,e.id))}function wt(){return{id:`blankId${(Math.random()*1e3).toFixed()}`,name:"",targets:[],approvers:[],status:"not started",blank:!0}}function qo(){return{id:`spaceId${(Math.random()*1e3).toFixed()}`,name:"",targets:[],approvers:[],status:"not started",space:!0}}function Te(e,i){return e.targets.includes(i)}var da=function(e){return{image:"",ariaLabel:e}};function sa(e,i){if(e&1){let o=S();s(0,"div",2)(1,"fd-radio-button",3),u("ngModelChange",function(n){h(o);let t=c();return w(t.selectedTeamId=n)})("click",function(){let t=h(o).$implicit,l=c();return w(l.onTeamRadioClick.emit(t))}),f(),s(2,"fdp-standard-list-item",4),u("click",function(){let t=h(o).$implicit,l=c();return w(l._showTeamDetails(t))}),f(),M(3,"fd-icon",5),f()}if(e&2){let o=i.$implicit,a=i.index,n=c();r(1),p("value",o.id)("name","team-radio"+a)("ngModel",n.selectedTeamId),ce("id","team-radio"+a),r(1),p("avatar",re(9,da,o.name))("description",o.description||o.members.length+" members")("title",o.name),ce("id","approval-team-"+o.id),r(1),p("glyph","navigation-"+(n.isRtl?"left":"right")+"-arrow")}}var Ct=(()=>{let i=class i{constructor(){this.teams=[],this.isRtl=!1,this.onTeamClick=new P,this.onTeamRadioClick=new P,this._trackByFn=de}_showTeamDetails(a){this.onTeamClick.emit(a)}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=k({type:i,selectors:[["fdp-approval-flow-team-list"]],hostAttrs:[1,"fdp-approval-flow-team-list"],inputs:{teams:"teams",isRtl:"isRtl",selectedTeamId:"selectedTeamId"},outputs:{onTeamClick:"onTeamClick",onTeamRadioClick:"onTeamRadioClick"},standalone:!0,features:[B],decls:3,vars:3,consts:[["fdCompact","",3,"hasByLine"],["fd-form-item","",4,"ngFor","ngForOf","ngForTrackBy"],["fd-form-item",""],[3,"value","name","ngModel","ngModelChange","click"],[3,"avatar","description","title","click"],[3,"glyph"]],template:function(n,t){n&1&&(s(0,"fdp-list",0)(1,"fd-form-group"),m(2,sa,4,11,"div",1),f()()),n&2&&(p("hasByLine",!0),r(2),p("ngForOf",t.teams)("ngForTrackBy",t._trackByFn))},dependencies:[Qe,q,pt,J,Oe,st,te,X,ee,He,be],styles:[`.fdp-approval-flow-team-list .fd-form-item{position:relative;margin-bottom:0}.fdp-approval-flow-team-list .fd-form-item fd-radio-button{position:absolute;z-index:1;top:1.4rem}.fdp-approval-flow-team-list .fd-form-item .fd-list__item{padding-left:2rem!important;cursor:pointer}.fdp-approval-flow-team-list .fd-form-item fd-icon{position:absolute;right:1rem;top:2rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);cursor:pointer}.fdp-approval-flow-team-list .fd-form-item fd-avatar{color:#fff;color:var(--sapBaseColor, #fff)}[dir=rtl] .fdp-approval-flow-team-list .fd-form-item fd-icon,.fdp-approval-flow-team-list[dir=rtl] .fd-form-item fd-icon{right:auto;left:1rem}[dir=rtl] .fdp-approval-flow-team-list .fd-list__item,.fdp-approval-flow-team-list[dir=rtl] .fd-list__item{padding-right:2rem!important;padding-left:0!important}
`],encapsulation:2,changeDetection:0});let e=i;return e})();var fa=function(e){return{data:e}};function ca(e,i){if(e&1&&(ne(0,5),g(1,"async")),e&2){let o=c();p("ngTemplateOutlet",o.detailsTemplate)("ngTemplateOutletContext",re(4,fa,v(1,2,o.details)))}}var bt=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=k({type:i,selectors:[["fdp-approval-flow-user-details"]],hostAttrs:[1,"fdp-approval-flow-user-details"],inputs:{user:"user",details:"details",detailsTemplate:"detailsTemplate"},standalone:!0,features:[B],decls:8,vars:4,consts:[[1,"fdp-approval-flow-user-details__user-info"],["size","s",3,"image"],[1,"fdp-approval-flow-user-details__name"],[1,"fdp-approval-flow-user-details__description"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,t){n&1&&(s(0,"div",0),M(1,"fd-avatar",1),s(2,"div")(3,"div",2),_(4),f(),s(5,"div",3),_(6),f()()(),m(7,ca,2,6,"ng-container",4)),n&2&&(r(1),p("image",t.user.imgUrl),r(3),N(t.user.name),r(2),N(t.user.description),r(1),p("ngIf",t.detailsTemplate))},dependencies:[ft,O,Ne,ao],styles:[`.fdp-approval-flow-user-details__user-info{display:flex;align-items:center;margin-bottom:1rem}.fdp-approval-flow-user-details__name{font-size:1rem}.fdp-approval-flow-user-details__description{color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70)}
`],encapsulation:2,changeDetection:0});let e=i;return e})();function ma(e,i){e&1&&(b(0),_(1),g(2,"fdTranslate"),A()),e&2&&(r(1),x(" ",v(2,1,"platformApprovalFlow.userListSelectedItemsCountSingular")," "))}var _a=function(e){return{count:e}};function ua(e,i){if(e&1&&(_(0),g(1,"fdTranslate")),e&2){let o=c(2);x(" ",Fe(1,1,"platformApprovalFlow.userListSelectedItemsCountPlural",re(4,_a,o._selectedItems.length))," ")}}function ga(e,i){if(e&1&&(s(0,"div",3),m(1,ma,3,3,"ng-container",4),m(2,ua,2,6,"ng-template",null,5,U),f()),e&2){let o=E(3),a=c();r(1),p("ngIf",a._selectedItems.length===1)("ngIfElse",o)}}var va=function(e,i){return{image:e,ariaLabel:i}};function ha(e,i){if(e&1){let o=S();s(0,"fdp-standard-list-item",6),u("click",function(n){let l=h(o).$implicit,d=c();return n.stopPropagation(),w(d.onUserClick.emit(l))}),f()}if(e&2){let o=i.$implicit,a=c();p("avatar",to(5,va,o.imgUrl,o.name))("description",o.description)("ariaLabel",o.name)("title",o.name),ce("id",a._idPrefix+o.id)}}var Zo=100,wa=10,We=(()=>{let i=class i{constructor(a){this._cdr=a,this.users=[],this.selectedUsers=[],this.isSelectable=!0,this.onUserClick=new P,this.onSelectionChange=new P,this._selectedItems=[],this._idPrefix="approval-node-user-",this._trackByFn=de,this._displayUsers=[]}ngAfterViewInit(){if(this.selectedUsers.length){let a=this.selectedUsers.map(n=>n.name);this._selectedItems=this.listItems.filter(n=>!!n.avatar?.ariaLabel&&a.includes(n.avatar.ariaLabel)),this._selectedItems.forEach(n=>{n._selected=!0,this.list._selectItem(n)}),this._cdr.detectChanges()}}ngOnChanges(a){a.users&&this._collectDataProgressive()}ngOnDestroy(){this._killInterval()}_onSelect(a){this._selectedItems=a.selectedItems,this.onSelectionChange.emit(this._getUsersFromSelectedItems(a.selectedItems))}_getUsersFromSelectedItems(a){return a.map(n=>this.users.find(t=>`${this._idPrefix+t.id}`===n.itemEl.nativeElement.id)).filter(n=>!!n)}_collectDataProgressive(){if(this._killInterval(),this._displayUsers=[],!this.users?.length)return;let a={currentIndex:0};this._userCollectorIntervalFn(a),this._intervalID=window.setInterval(this._userCollectorIntervalFn.bind(this),wa,a)}_userCollectorIntervalFn(a){let n=a.currentIndex+Zo,t=[];for(let l=a.currentIndex;l<=n;l++){if(l>=this.users.length){this._killInterval();break}t.push(this.users[l])}a.currentIndex+=Zo,this._displayUsers.push(...t),this._cdr.markForCheck()}_killInterval(){this._intervalID&&clearInterval(this._intervalID)}};i.\u0275fac=function(n){return new(n||i)(L(pe))},i.\u0275cmp=k({type:i,selectors:[["fdp-approval-flow-user-list"]],viewQuery:function(n,t){if(n&1&&(Q(Qe,5),Q(He,5)),n&2){let l;W(l=$())&&(t.list=l.first),W(l=$())&&(t.listItems=l)}},hostAttrs:[1,"fdp-approval-flow-user-list"],inputs:{users:"users",selectedUsers:"selectedUsers",isSelectable:"isSelectable"},outputs:{onUserClick:"onUserClick",onSelectionChange:"onSelectionChange"},standalone:!0,features:[De,B],decls:3,vars:9,consts:[["class","fdp-approval-flow-user-list__selected-count",4,"ngIf"],[3,"selectionMode","selection","navigationIndicator","hasByLine","ngModel","selectedItems","ngModelChange","selectedItemChange"],[3,"avatar","description","ariaLabel","title","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"fdp-approval-flow-user-list__selected-count"],[4,"ngIf","ngIfElse"],["multipleItems",""],[3,"avatar","description","ariaLabel","title","click"]],template:function(n,t){n&1&&(m(0,ga,4,2,"div",0),s(1,"fdp-list",1),u("ngModelChange",function(d){return t._selectedItems=d})("selectedItemChange",function(d){return t._onSelect(d)}),m(2,ha,1,8,"fdp-standard-list-item",2),f()),n&2&&(p("ngIf",t._selectedItems.length),r(1),p("selectionMode",t.isSelectable?"multi":"none")("selection",t.isSelectable)("navigationIndicator",!0)("hasByLine",!0)("ngModel",t._selectedItems)("selectedItems",t._selectedItems),r(1),p("ngForOf",t._displayUsers)("ngForTrackBy",t._trackByFn))},dependencies:[O,Qe,te,X,ee,J,He,Z],styles:[`.fdp-approval-flow-user-list{display:block;margin-top:-1rem}.fdp-approval-flow-user-list__selected-count{line-height:2rem;margin:0 -1rem;padding:0 1rem;background:#f2f2f2;background:var(--sapList_HeaderBackground, #f2f2f2)}
`],encapsulation:2,changeDetection:0});let e=i;return e})();var ae=function(e){return e.SELECT_TEAM="SELECT_TEAM",e.SELECT_USER="SELECT_USER",e.VIEW_TEAM_MEMBERS="VIEW_TEAM_MEMBERS",e.USER_DETAILS="USER_DETAILS",e}(ae||{}),At=(()=>{let i=class i{constructor(){this.onViewChange=new P}get isUserDetailsMode(){return this.currentView===ae.USER_DETAILS}get isTeamMembersMode(){return this.currentView===ae.VIEW_TEAM_MEMBERS}get isSelectUserMode(){return this.currentView===ae.SELECT_USER}get isSelectTeamMode(){return this.currentView===ae.SELECT_TEAM}get team(){return this.selectedTeam}setCurrentView(a){this.currentView=a,this.onViewChange.emit()}resetView(){this.currentView=void 0,this.onViewChange.emit()}selectTeam(a){this.selectedTeam=a}resetTeam(){this.selectedTeam=void 0}};i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=Qt({token:i,factory:i.\u0275fac});let e=i;return e})();function ba(e,i){e&1&&(b(0),_(1),g(2,"fdTranslate"),A()),e&2&&(r(1),x(" ",v(2,1,"platformApprovalFlow.addNodeDialogHeaderAddApprovers")," "))}function Aa(e,i){e&1&&(b(0),_(1),g(2,"fdTranslate"),A()),e&2&&(r(1),x(" ",v(2,1,"platformApprovalFlow.addNodeDialogHeaderEditApprover")," "))}function Sa(e,i){e&1&&(b(0),_(1),g(2,"fdTranslate"),A()),e&2&&(r(1),x(" ",v(2,1,"platformApprovalFlow.addNodeDialogHeaderAddApproverTeam")," "))}function xa(e,i){if(e&1){let o=S();b(0),s(1,"fd-icon",5),u("click",function(){h(o);let n=c(2);return w(n._exitTeamMembersMode())}),f(),_(2),A()}if(e&2){let o=c(2),a;r(1),p("glyph",o._headerArrowGlyph),r(1),he(" ",(a=o.viewService.team==null?null:o.viewService.team.name)!==null&&a!==void 0?a:""," (",(a=o.viewService.team==null||o.viewService.team.members==null?null:o.viewService.team.members.length)!==null&&a!==void 0?a:0,") ")}}function Ea(e,i){if(e&1){let o=S();b(0),s(1,"fd-icon",5),u("click",function(){h(o);let n=c(2);return w(n._exitUserDetailsMode())}),f(),_(2),g(3,"fdTranslate"),A()}if(e&2){let o=c(2);r(1),p("glyph",o._headerArrowGlyph),r(1),x(" ",v(3,2,"platformApprovalFlow.addNodeDialogHeaderDetail")," ")}}var Ta=function(){return[]};function ya(e,i){if(e&1){let o=S();s(0,"fdp-search-field",6),u("inputChange",function(n){h(o);let t=c(2);return w(t._onSearchStringChange(n.text))}),g(1,"fdTranslate"),f()}e&2&&p("placeholder",v(1,2,"platformApprovalFlow.addNodeSearchPlaceholder"))("suggestions",me(4,Ta))}function Da(e,i){if(e&1&&(s(0,"p"),m(1,ba,3,3,"ng-container",2),m(2,Aa,3,3,"ng-container",2),m(3,Sa,3,3,"ng-container",2),m(4,xa,3,3,"ng-container",2),m(5,Ea,4,4,"ng-container",2),f(),m(6,ya,2,5,"fdp-search-field",4)),e&2){let o=c();r(1),p("ngIf",!o._selectMode&&!o._data.isEdit),r(1),p("ngIf",!o._selectMode&&o._data.isEdit),r(1),p("ngIf",o.viewService.isSelectUserMode||o.viewService.isSelectTeamMode),r(1),p("ngIf",o.viewService.isTeamMembersMode),r(1),p("ngIf",o.viewService.isUserDetailsMode),r(1),p("ngIf",o._selectMode&&!o._userToShowDetails)}}function Fa(e,i){if(e&1&&(s(0,"li",16),_(1),g(2,"fdTranslate"),f()),e&2){let o=c().$implicit;p("value",o),r(1),x(" ",v(2,2,"platformApprovalFlow.addNodeDialogNodeTypeSerial")," ")}}function Na(e,i){if(e&1&&(s(0,"li",16),_(1),g(2,"fdTranslate"),f()),e&2){let o=c().$implicit;p("value",o),r(1),x(" ",v(2,2,"platformApprovalFlow.addNodeDialogNodeTypeParallel")," ")}}function Ia(e,i){if(e&1&&(b(0)(1,14),m(2,Fa,3,4,"li",15),m(3,Na,3,4,"li",15),A()()),e&2){let o=i.$implicit,a=c(3);r(1),p("ngSwitch",o),r(1),p("ngSwitchCase",a._nodeTypes.SERIAL),r(1),p("ngSwitchCase",a._nodeTypes.PARALLEL)}}function Ma(e,i){if(e&1){let o=S();s(0,"div",8)(1,"label",9),_(2),g(3,"fdTranslate"),f(),s(4,"fd-select",10),u("valueChange",function(n){h(o);let t=c(2);return w(t._nodeType=n)}),m(5,Ia,4,3,"ng-container",11),f()()}if(e&2){let o=c(2);r(2),x(" ",v(3,3,"platformApprovalFlow.addNodeDialogNodeType")," "),r(2),p("value",o._nodeType),r(1),p("ngForOf",o._nodeTypesArray)}}function ka(e,i){if(e&1&&(s(0,"li",16),_(1),g(2,"fdTranslate"),f()),e&2){let o=c().$implicit;p("value",o),r(1),x(" ",v(2,2,"platformApprovalFlow.addNodeDialogApproverTypeUser")," ")}}function Pa(e,i){if(e&1&&(s(0,"li",16),_(1),g(2,"fdTranslate"),f()),e&2){let o=c().$implicit;p("value",o),r(1),x(" ",v(2,2,"platformApprovalFlow.addNodeDialogApproverTypeTeamAnyone")," ")}}function Ba(e,i){if(e&1&&(s(0,"li",16),_(1),g(2,"fdTranslate"),f()),e&2){let o=c().$implicit;p("value",o),r(1),x(" ",v(2,2,"platformApprovalFlow.addNodeDialogApproverTypeTeamEveryone")," ")}}function Va(e,i){if(e&1&&(b(0)(1,14),m(2,ka,3,4,"li",15),m(3,Pa,3,4,"li",15),m(4,Ba,3,4,"li",15),A()()),e&2){let o=i.$implicit,a=c(2);r(1),p("ngSwitch",o),r(1),p("ngSwitchCase",a._approverTypes.SINGLE_USER),r(1),p("ngSwitchCase",a._approverTypes.ANYONE),r(1),p("ngSwitchCase",a._approverTypes.EVERYONE)}}function La(e,i){if(e&1){let o=S();s(0,"fd-multi-input",17),u("ngModelChange",function(n){h(o);let t=c(2);return w(t._selectedApprovers=n)})("openChange",function(){h(o);let n=c(2);return w(n._goToSelectMode())})("selectedChange",function(n){h(o);let t=c(2);return w(t._setSelectedApprovers(n))}),f()}if(e&2){let o=c(2);p("showAllButton",!1)("dropdownValues",o._selectedApprovers)("ngModel",o._selectedApprovers)("displayFn",o._displayUserFn)}}function Ra(e,i){if(e&1){let o=S();s(0,"fd-multi-input",18),u("ngModelChange",function(n){h(o);let t=c(2);return w(t._selectedTeamArray=n)})("openChange",function(){h(o);let n=c(2);return w(n._goToSelectMode())}),f()}if(e&2){let o=c(2);p("showAllButton",!1)("dropdownValues",o._selectedTeamArray)("ngModel",o._selectedTeamArray)("displayFn",o._displayTeamFn)}}function Ua(e,i){if(e&1){let o=S();s(0,"div",8)(1,"fd-checkbox",19),u("ngModelChange",function(n){h(o);let t=c(2);return w(t._addToNextSerial=n)}),_(2),g(3,"fdTranslate"),f()()}if(e&2){let o=c(2);r(1),p("ngModel",o._addToNextSerial),r(1),x(" ",v(3,2,"platformApprovalFlow.addNodeDialogAddToNext")," ")}}function Oa(e,i){if(e&1){let o=S();s(0,"div",8)(1,"label",9),_(2),g(3,"fdTranslate"),f(),s(4,"fd-date-picker",20),u("ngModelChange",function(n){h(o);let t=c(2);return w(t._dueDate=n)}),f()()}if(e&2){let o=c(2);r(2),N(v(3,3,"platformApprovalFlow.addNodeDialogDueDate")),r(2),p("state",o._dueDate?null:"error")("ngModel",o._dueDate)}}function za(e,i){if(e&1){let o=S();b(0),m(1,Ma,6,5,"div",7),s(2,"div",8)(3,"label",9),_(4),g(5,"fdTranslate"),f(),s(6,"fd-select",10),u("valueChange",function(n){h(o);let t=c();return w(t._approverType=n)}),m(7,Va,5,4,"ng-container",11),f()(),s(8,"div",8)(9,"label",9),_(10),g(11,"fdTranslate"),f(),m(12,La,1,4,"fd-multi-input",12),m(13,Ra,1,4,"fd-multi-input",13),f(),m(14,Ua,4,4,"div",7),m(15,Oa,5,5,"div",7),A()}if(e&2){let o=c();r(1),p("ngIf",o._data.showNodeTypeSelect),r(3),x(" ",v(5,9,"platformApprovalFlow.addNodeDialogApproverType")," "),r(2),p("value",o._approverType),r(1),p("ngForOf",o._approverTypesArray),r(3),N(v(11,11,"platformApprovalFlow.addNodeDialogUserOrTeam")),r(2),p("ngIf",o._isSingleUserMode),r(1),p("ngIf",!o._isSingleUserMode),r(1),p("ngIf",o._nodeType===o._nodeTypes.PARALLEL),r(1),p("ngIf",o._checkDueDate)}}function ja(e,i){if(e&1){let o=S();s(0,"fdp-approval-flow-team-list",23),u("onTeamClick",function(n){h(o);let t=c(3);return w(t._viewTeamMembers(n))})("onTeamRadioClick",function(n){h(o);let t=c(3);return w(t._setSelectedTeam(n))}),f()}if(e&2){let o=c(3);p("isRtl",o._data.rtl)("teams",o._teams)("selectedTeamId",o._selectedTeam==null?null:o._selectedTeam.id)}}function Ga(e,i){if(e&1&&(b(0),m(1,ja,1,3,"fdp-approval-flow-team-list",22),A()),e&2){let o=c(2),a=E(10);r(1),p("ngIf",!o._data.teamDataSource.isDataLoading)("ngIfElse",a)}}function Wa(e,i){if(e&1){let o=S();s(0,"fdp-approval-flow-user-list",25),u("onUserClick",function(n){h(o);let t=c(3);return w(t._seeUserDetails(n))})("onSelectionChange",function(n){h(o);let t=c(3);return w(t._selectedApprovers=n)}),f()}if(e&2){let o=c(3);p("users",o.viewService.isSelectUserMode?o._approvers:o._filteredTeamMembers)("isSelectable",o.viewService.isSelectUserMode)("selectedUsers",o._selectedApprovers)}}function $a(e,i){if(e&1&&(b(0),m(1,Wa,1,3,"fdp-approval-flow-user-list",24),A()),e&2){let o=c(2),a=E(10);r(1),p("ngIf",o.viewService.isSelectUserMode||!o._data.userDataSource.isDataLoading)("ngIfElse",a)}}function Qa(e,i){if(e&1&&M(0,"fdp-approval-flow-user-details",26),e&2){let o=c(2);p("user",o._userToShowDetails)("detailsTemplate",o._data.userDetailsTemplate)("details",o._userToShowDetailsData$)}}function Ha(e,i){if(e&1&&(b(0),m(1,Ga,2,2,"ng-container",2),m(2,$a,2,2,"ng-container",2),m(3,Qa,1,3,"fdp-approval-flow-user-details",21),A()),e&2){let o=c();r(1),p("ngIf",o.viewService.isSelectTeamMode),r(1),p("ngIf",o.viewService.isSelectUserMode||o.viewService.isTeamMembersMode),r(1),p("ngIf",o.viewService.isUserDetailsMode&&o._userToShowDetails)}}function qa(e,i){if(e&1){let o=S();b(0),s(1,"fd-button-bar",27),u("click",function(){h(o);let n=c();return w(n._submit())}),g(2,"fdTranslate"),f(),s(3,"fd-button-bar",28),u("click",function(){h(o);let n=c();return w(n.dialogRef.close())}),g(4,"fdTranslate"),f(),A()}if(e&2){let o=c();r(1),p("label",v(2,3,"platformApprovalFlow.addNodeAddActionBtnLabel"))("disabled",o._isMainSubmitButtonDisabled),r(2),p("label",v(4,5,"platformApprovalFlow.addNodeCancelActionBtnLabel"))}}function Za(e,i){if(e&1){let o=S();b(0),s(1,"fd-button-bar",27),u("click",function(){h(o);let n=c(2);return w(n._confirmSelectedApprovers())}),g(2,"fdTranslate"),f(),s(3,"fd-button-bar",28),u("click",function(){h(o);let n=c(2);return w(n._exitSelectMode())}),g(4,"fdTranslate"),f(),A()}if(e&2){let o=c(2);r(1),p("label",v(2,3,"platformApprovalFlow.addNodeSelectApproverActionBtnLabel"))("disabled",!o._selectedApprovers.length),r(2),p("label",v(4,5,"platformApprovalFlow.addNodeCancelApproverSelectionActionBtnLabel"))}}function Ka(e,i){if(e&1){let o=S();b(0),s(1,"fd-button-bar",27),u("click",function(){h(o);let n=c(2);return w(n._confirmSelectedTeam())}),g(2,"fdTranslate"),f(),s(3,"fd-button-bar",28),u("click",function(){h(o);let n=c(2);return w(n._exitSelectMode())}),g(4,"fdTranslate"),f(),A()}if(e&2){let o=c(2);r(1),p("label",v(2,3,"platformApprovalFlow.addNodeSelectApproverActionBtnLabel"))("disabled",!o._selectedTeam&&!o.viewService.team),r(2),p("label",v(4,5,"platformApprovalFlow.addNodeCancelApproverSelectionActionBtnLabel"))}}function Ya(e,i){if(e&1){let o=S();b(0),s(1,"fd-button-bar",28),u("click",function(){h(o);let n=c(2);return w(n._exitTeamMembersMode())}),g(2,"fdTranslate"),f(),A()}e&2&&(r(1),p("label",v(2,1,"platformApprovalFlow.addNodeApproverOrTeamDetailsCloseActionBtnLabel")))}function Ja(e,i){if(e&1){let o=S();b(0),s(1,"fd-button-bar",28),u("click",function(){h(o);let n=c(2);return w(n._exitUserDetailsMode())}),g(2,"fdTranslate"),f(),A()}e&2&&(r(1),p("label",v(2,1,"platformApprovalFlow.addNodeApproverOrTeamDetailsCloseActionBtnLabel")))}function Xa(e,i){if(e&1&&(b(0),m(1,Za,5,7,"ng-container",2),m(2,Ka,5,7,"ng-container",2),m(3,Ya,3,3,"ng-container",2),m(4,Ja,3,3,"ng-container",2),A()),e&2){let o=c();r(1),p("ngIf",o.viewService.isSelectUserMode),r(1),p("ngIf",o.viewService.isSelectTeamMode),r(1),p("ngIf",o.viewService.isTeamMembersMode),r(1),p("ngIf",o.viewService.isUserDetailsMode)}}function en(e,i){e&1&&M(0,"fd-busy-indicator",29),e&2&&p("loading",!0)("block",!0)}var ie=function(e){return e.SERIAL="SERIAL",e.PARALLEL="PARALLEL",e}(ie||{}),qe=function(e){return e.SINGLE_USER="SINGLE_USER",e.ANYONE="ANYONE",e.EVERYONE="EVERYONE",e}(qe||{}),Ze=(()=>{let i=class i{constructor(a,n,t){this.dialogRef=a,this.viewService=n,this._cdr=t,this._nodeType=ie.SERIAL,this._nodeTypes=ie,this._nodeTypesArray=Object.keys(ie),this._approverType=qe.SINGLE_USER,this._approverTypes=qe,this._approverTypesArray=Object.keys(qe),this._dueDate=kt.getNow(),this._selectMode=!1,this._approvers=[],this._teams=[],this._selectedApprovers=[],this._selectedTeamArray=[],this._selectedTeamMembers=[],this._filteredTeamMembers=[],this._checkDueDate=!1,this._displayUserFn=vt,this._displayTeamFn=$o,this._trackByFn=de,this._addToNextSerial=!1}get _data(){return this.dialogRef.data}get _isSingleUserMode(){return this._approverType===this._approverTypes.SINGLE_USER}get _isMainSubmitButtonDisabled(){return!(this._isSingleUserMode?this._selectedApprovers:this._selectedTeamArray).length||this._checkDueDate&&!this._dueDate}get _headerArrowGlyph(){return"navigation-"+(this._data.rtl?"right":"left")+"-arrow"}ngOnInit(){this._data.teamDataSource.match(),this._data.userDataSource.match();let a=this._data.teamDataSource.open(),n=this._data.userDataSource.open();switch(this._dataSourceSub=Je([a,n]).subscribe(([t,l])=>{if(this._teams=t,this._approvers=l,this._data.isEdit){this._checkDueDate=!!this._data.checkDueDate,this._checkDueDate&&this._data.node?.dueDate&&(this._dueDate=kt.getFdDateByDate(new Date(this._data.node.dueDate))),this._selectedApprovers=[...this._data.node?.approvers??[]];let d=this._data.node?.approvalTeamId&&this._teams.find(C=>C.id===this._data.node?.approvalTeamId);d&&(this.viewService.selectTeam(d),this._selectedTeam=d,this._selectedTeamArray=[d],this._approverType=this._data.node?.isEveryoneApprovalNeeded?this._approverTypes.EVERYONE:this._approverTypes.ANYONE)}this._cdr.detectChanges()}),this._viewChangeSub=this.viewService.onViewChange.subscribe(()=>{this._onSearchStringChange(""),this._cdr.detectChanges()}),this._data.nodeTarget){case"empty":case"before":case"after":this._nodeType=this._nodeTypes.SERIAL;break;case"parallel":this._nodeType=this._nodeTypes.PARALLEL;break}}ngOnDestroy(){this._viewChangeSub.unsubscribe(),this._dataSourceSub.unsubscribe(),this._data.userDataSource.close(),this._data.teamDataSource.close()}_goToSelectMode(){this._selectMode=!0,this.viewService.setCurrentView(this._isSingleUserMode?ae.SELECT_USER:ae.SELECT_TEAM),this._cdr.detectChanges()}_exitSelectMode(){this._selectedApprovers.length&&!this._data.node?.approvers.length&&(this._selectedApprovers=[]),!this._data.isEdit&&!this._data.node?.approvalTeamId&&this.viewService.resetTeam(),this._selectMode=!1,this.viewService.resetView(),this._cdr.detectChanges()}_setSelectedApprovers(a){this._selectedApprovers=a,this._confirmSelectedApprovers()}_confirmSelectedApprovers(){this._data.node&&(this._data.node.approvers=this._selectedApprovers,this._data.node.variousTeams=this._data.node.approvers.some(a=>a.teamId!==this._data.node.approvers[0].teamId),this._data.node.description=this._data.node.variousTeams?"":this._selectedApprovers[0]?.description,delete this._data.node.approvalTeamId,delete this._data.node.isEveryoneApprovalNeeded,this._exitSelectMode())}_setSelectedTeam(a){this.viewService.selectTeam(a)}_confirmSelectedTeam(){this.viewService.team&&(this._selectedTeam=this.viewService.team,this._selectedTeamArray=[this.viewService.team],this._data.node&&(this._data.node.variousTeams=!1,this._data.node.approvalTeamId=this.viewService.team.id,this._data.node.description=this.viewService.team.name,this._data.node.isEveryoneApprovalNeeded=this._approverType===qe.EVERYONE),this._exitSelectMode())}_seeUserDetails(a){this.viewService.setCurrentView(ae.USER_DETAILS),this._userToShowDetails=a,this._userToShowDetailsData$=this._data.userDataSource.dataProvider.getOne(new Map([["id",a.id]])),this._cdr.detectChanges()}_exitUserDetailsMode(){this.viewService.setCurrentView(this.viewService.team?ae.VIEW_TEAM_MEMBERS:ae.SELECT_USER),this._userToShowDetails=void 0,this._userToShowDetailsData$=void 0,this._cdr.detectChanges()}_viewTeamMembers(a){this.viewService.selectTeam(a),this.viewService.setCurrentView(ae.VIEW_TEAM_MEMBERS),this._selectedTeamMembers=a.members,this._setFilteredTeamMembers(this._selectedTeamMembers),this._cdr.detectChanges()}_exitTeamMembersMode(){this.viewService.setCurrentView(ae.SELECT_TEAM),this.viewService.resetTeam(),this._selectedTeamMembers=[],this._cdr.detectChanges()}_submit(){this._data.node&&!this._isSingleUserMode&&this._selectedTeam&&(this._data.node.approvers=[...this._selectedTeam.members]),this._data.node&&this._checkDueDate&&(this._data.node.dueDate=this._dueDate.toDate()),this.dialogRef.close({node:this._data.node,nodeType:this._nodeType,toNextSerial:this._addToNextSerial})}_onSearchStringChange(a=""){let n=new Map([["query",a]]);this.viewService.isSelectUserMode?this._data.userDataSource.match(n):this.viewService.isSelectTeamMode?this._data.teamDataSource.match(n):this.viewService.isTeamMembersMode&&this._setFilteredTeamMembers(this._selectedTeamMembers.filter(t=>ht(t,a)))}_setFilteredTeamMembers(a){this._filteredTeamMembers=[...a],this._cdr.detectChanges()}};i.\u0275fac=function(n){return new(n||i)(L(ke),L(At),L(pe))},i.\u0275cmp=k({type:i,selectors:[["fdp-approval-flow-add-node"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-add-node"],standalone:!0,features:[B],decls:11,vars:8,consts:[["fdCompact",""],["fdkTemplate","header"],[4,"ngIf"],["loadingTpl",""],[3,"placeholder","suggestions","inputChange",4,"ngIf"],[3,"glyph","click"],[3,"placeholder","suggestions","inputChange"],["fd-form-item","",4,"ngIf"],["fd-form-item",""],["fd-form-label",""],[3,"value","valueChange"],[4,"ngFor","ngForOf"],[3,"showAllButton","dropdownValues","ngModel","displayFn","ngModelChange","openChange","selectedChange",4,"ngIf"],[3,"showAllButton","dropdownValues","ngModel","displayFn","ngModelChange","openChange",4,"ngIf"],[3,"ngSwitch"],["fd-option","",3,"value",4,"ngSwitchCase"],["fd-option","",3,"value"],[3,"showAllButton","dropdownValues","ngModel","displayFn","ngModelChange","openChange","selectedChange"],[3,"showAllButton","dropdownValues","ngModel","displayFn","ngModelChange","openChange"],[3,"ngModel","ngModelChange"],["type","single",3,"state","ngModel","ngModelChange"],[3,"user","detailsTemplate","details",4,"ngIf"],[3,"isRtl","teams","selectedTeamId","onTeamClick","onTeamRadioClick",4,"ngIf","ngIfElse"],[3,"isRtl","teams","selectedTeamId","onTeamClick","onTeamRadioClick"],[3,"users","isSelectable","selectedUsers","onUserClick","onSelectionChange",4,"ngIf","ngIfElse"],[3,"users","isSelectable","selectedUsers","onUserClick","onSelectionChange"],[3,"user","detailsTemplate","details"],["fdType","emphasized",3,"label","disabled","click"],["fdkInitialFocus","","fdType","transparent",3,"label","click"],[3,"loading","block"]],template:function(n,t){n&1&&(s(0,"fd-dialog",0)(1,"fd-dialog-header"),m(2,Da,7,6,"ng-template",1),f(),s(3,"fd-dialog-body"),m(4,za,16,13,"ng-container",2),m(5,Ha,4,3,"ng-container",2),f(),s(6,"fd-dialog-footer"),m(7,qa,5,7,"ng-container",2),m(8,Xa,5,4,"ng-container",2),f()(),m(9,en,1,2,"ng-template",null,3,U)),n&2&&(r(1),H("show-search",t._selectMode&&!t._userToShowDetails),r(2),H("fd-dialog__body--auto-height",t.viewService.isUserDetailsMode),r(1),p("ngIf",!t._selectMode),r(1),p("ngIf",t._selectMode),r(2),p("ngIf",!t._selectMode),r(1),p("ngIf",t._selectMode))},dependencies:[Ue,q,Re,Me,O,be,ut,Pe,Oe,ho,bo,J,we,Ce,Co,Ae,te,X,ee,dt,Ao,Ct,We,bt,Le,Ve,ro,Z],styles:[`.fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}
`,`.fdp-approval-flow-add-node .fd-dialog__body{width:20rem;height:27rem}.fdp-approval-flow-add-node .fd-dialog__body--auto-height{height:auto}
`],encapsulation:2,changeDetection:0});let e=i;return e})();function tn(e,i){if(e&1){let o=S();s(0,"fd-icon",10),u("click",function(){h(o);let n=c(2);return w(n._exitUserDetailsMode())})("keyup.space",function(){h(o);let n=c(2);return w(n._exitUserDetailsMode())})("keyup.enter",function(){h(o);let n=c(2);return w(n._exitUserDetailsMode())}),f()}if(e&2){let o=c(2);p("glyph","navigation-"+(o._data.rtl?"right":"left")+"-arrow")}}function on(e,i){if(e&1&&(b(0),_(1),A()),e&2){let o=c(2),a;r(1),he("",o._data.node==null?null:o._data.node.description," (",(a=o._data.node==null||o._data.node.approvers==null?null:o._data.node.approvers.length)!==null&&a!==void 0?a:0,")")}}var an=function(){return[]};function nn(e,i){if(e&1){let o=S();s(0,"fdp-search-field",11),u("inputChange",function(n){h(o);let t=c(2);return w(t._onSearchStringChange(n.text))}),g(1,"fdTranslate"),f()}e&2&&p("placeholder",v(1,2,"platformApprovalFlow.addNodeSearchPlaceholder"))("suggestions",me(4,an))}function rn(e,i){if(e&1&&(s(0,"p"),m(1,tn,1,1,"fd-icon",7),m(2,on,2,2,"ng-container",8),f(),m(3,nn,2,5,"fdp-search-field",9)),e&2){let o=c(),a=E(11);r(1),p("ngIf",o._userToShowDetails&&(o._data.node==null?null:o._data.node.approvers)&&o._data.node.approvers.length>1),r(1),p("ngIf",o._isListMode&&!o._userToShowDetails)("ngIfElse",a),r(1),p("ngIf",!o._userToShowDetails&&o._isListMode)}}function ln(e,i){if(e&1&&M(0,"fdp-approval-flow-user-details",12),e&2){let o=c();p("user",o._userToShowDetails)("detailsTemplate",o._data.userDetailsTemplate)("details",o._userToShowDetailsData$)}}function pn(e,i){if(e&1){let o=S();s(0,"fdp-approval-flow-user-list",13),u("onUserClick",function(n){h(o);let t=c();return w(t._seeUserDetails(n))})("onSelectionChange",function(n){h(o);let t=c();return w(t._selectedUsers=n)}),f()}if(e&2){let o=c();p("users",o._listItems)}}function dn(e,i){if(e&1){let o=S();b(0),s(1,"fd-button-bar",14),u("click",function(){h(o);let n=c();return w(n._sendReminder())}),g(2,"fdTranslate"),f(),A()}if(e&2){let o=c();r(1),p("label",v(2,2,"platformApprovalFlow.userDetailsSendReminderBtnLabel"))("disabled",!o._data.allowSendReminder||o._isListMode&&!o._selectedUsers.length)}}function sn(e,i){e&1&&(_(0),g(1,"fdTranslate")),e&2&&x(" ",v(1,1,"platformApprovalFlow.userDetailsHeader"),`
`)}var Ke=(()=>{let i=class i{constructor(a,n){this.dialogRef=a,this._cdr=n,this._isListMode=!1,this._listItems=[],this._selectedUsers=[]}get _data(){return this.dialogRef.data}ngOnInit(){if(this._isListMode=(this._data.node?.approvers.length??0)>1,this._isListMode)this._setListItems(this._data.node?.approvers??[]);else{let a=this._data.watcher||this._data.node?.approvers[0];a?this._seeUserDetails(a):this.dialogRef.close()}}_setListItems(a=[]){this._listItems=[...a],this._cdr.detectChanges()}_exitUserDetailsMode(){this._userToShowDetails=void 0,this._isListMode=!0}_seeUserDetails(a){this._userToShowDetails=a,this._userToShowDetailsData$=this._data.userDataSource.dataProvider.getOne(new Map([["id",a.id]])),this._isListMode=!1,this._selectedUsers=[],this._cdr.detectChanges()}_sendReminder(){let a=this._isListMode?this._selectedUsers:this._data.node?.approvers;this.dialogRef.close(a)}_onSearchStringChange(a){if(!a){this._setListItems(this._data.node?.approvers);return}this._setListItems(this._data.node?.approvers.filter(n=>ht(n,a)))}};i.\u0275fac=function(n){return new(n||i)(L(ke),L(pe))},i.\u0275cmp=k({type:i,selectors:[["fdp-approval-flow-approver-details"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-approver-details"],standalone:!0,features:[B],decls:12,vars:8,consts:[["fdkTemplate","header"],[3,"user","detailsTemplate","details",4,"ngIf"],[3,"users","onUserClick","onSelectionChange",4,"ngIf"],["fdCompact",""],[4,"ngIf"],["fdkInitialFocus","","fdType","transparent",3,"label","click"],["defaultHeader",""],["tabindex","0","role","button",3,"glyph","click","keyup.space","keyup.enter",4,"ngIf"],[4,"ngIf","ngIfElse"],["fdCompact","",3,"placeholder","suggestions","inputChange",4,"ngIf"],["tabindex","0","role","button",3,"glyph","click","keyup.space","keyup.enter"],["fdCompact","",3,"placeholder","suggestions","inputChange"],[3,"user","detailsTemplate","details"],[3,"users","onUserClick","onSelectionChange"],["fdType","emphasized",3,"label","disabled","click"]],template:function(n,t){n&1&&(s(0,"fd-dialog")(1,"fd-dialog-header"),m(2,rn,4,4,"ng-template",0),f(),s(3,"fd-dialog-body"),m(4,ln,1,3,"fdp-approval-flow-user-details",1),m(5,pn,1,1,"fdp-approval-flow-user-list",2),f(),s(6,"fd-dialog-footer",3),m(7,dn,3,4,"ng-container",4),s(8,"fd-button-bar",5),u("click",function(){return t.dialogRef.close("Cancel")}),g(9,"fdTranslate"),f()()(),m(10,sn,2,3,"ng-template",null,6,U)),n&2&&(r(1),H("show-search",!t._userToShowDetails&&t._isListMode),r(3),p("ngIf",t._userToShowDetails),r(1),p("ngIf",t._isListMode),r(2),p("ngIf",t._isListMode||t._userToShowDetails&&(t._data.node==null||t._data.node.approvers==null?null:t._data.node.approvers.length)===1),r(1),p("label",v(9,6,"platformApprovalFlow.userDetailsCancelBtnLabel")))},dependencies:[Ue,Re,Me,O,be,ut,q,Pe,bt,We,Le,Ve,Z],styles:[`.fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}
`],encapsulation:2,changeDetection:0});let e=i;return e})();function Yo(e){let i={columns:[],errors:!1};if(!e.length)return i;let o=fn(e),a=cn(e);if(!o.length||!a.length)return console.warn("Err: Not possible to build graph because root or final nodes aren't present!"),i.errors=!0,i;let n=mn(o,e);if(!n.length)return console.warn("Err: Not possible to build graph!"),i.errors=!0,i;let t=_n(n),l=un(t),d=vn(l),C=hn(d),I=wn(C),V=Cn(I),j=bn(V),G=An(j);return i.columns=xn(G),i}function Jo(e){let i=Ee(e),o={};return e.columns.forEach((a,n)=>{a.nodes.forEach((t,l)=>{let d=Ho(t,i),C=d.length?d.every(xe=>oe(xe)):!1,I=!d.length&&!t.space,V=!t.targets.length&&!t.space,j=d.length>1,G=n===0&&a.nodes.length>1&&l===0,R=n===e.columns.length-1&&a.nodes.length>1&&l===0;o[t.id]={parents:d,isRoot:I,isFinal:V,parallelStart:t.targets.length>1,parallelEnd:j,columnIndex:n,nodeIndex:l,canAddNodeBefore:!gt(t)&&!C,canAddNodeBeforeAll:I&&G,canAddNodeAfter:!oe(t),canAddNodeAfterAll:!oe(t)&&(V&&R||j&&t.blank),canAddParallel:!oe(t),isVerticalLineBeforeSolid:t.space&&e.columns[n-1]?.allNodesApproved,isVerticalLineAfterSolid:t.space&&a.allNodesApproved,firstOfMultipleRootNodes:G,firstOfMultipleFinalNodes:R,rootNodesApproved:n===0&&a.allNodesApproved}})}),e.columns.forEach(a=>{a.nodes.forEach((n,t)=>{let l=o[n.id];l.isLastInParallel=o[n.targets[0]]?.parallelEnd,l.isFirstInParallel=o[l.parents[0]?.id]?.parallelStart;let d=a.index,C=d?e.columns[d-1]:void 0,I=d?e.columns[d+1]:void 0,V=C?.nodes[t],j=I?.nodes[t];l.renderAddNodeAfterButton=l.canAddNodeAfter&&(l.isFinal||l.parallelStart||l.isLastInParallel||j?.blank);let G=I?.nodes;if(l.parallelStart&&G){let xe=G.filter(fe=>n.targets.includes(fe.id)),yt=G.findIndex(fe=>fe.id===xe[0].id),se=G.findIndex(fe=>fe.id===xe[xe.length-1].id);for(let fe=yt+1;fe<=se;fe++)o[G[fe].id].renderVerticalLineBefore=!0}let R=C?.nodes;if(l.parallelEnd&&R){let xe=R.findIndex(se=>se.id===l.parents[0].id),yt=R.findIndex(se=>se.id===l.parents[l.parents.length-1].id);for(let se=xe+1;se<=yt;se++)o[R[se].id].renderVerticalLineAfter=!0}l.renderVerticalLineBefore=l.renderVerticalLineBefore?!0:t>0&&!V,l.renderVerticalLineAfter=l.renderVerticalLineAfter?!0:t>0&&!j})}),o}function fn(e){return e.filter(i=>e.every(o=>!Te(o,i.id)))}function cn(e){return e.filter(i=>!i.targets.length)}function mn(e,i){let o=[],a=[];for(let n=0;n<e.length;n++)for(a.push([e[n]]);a.length;){let t=a.pop(),l;if(t&&(l=t[t.length-1]),!l)return[];l.targets.length?l.targets.forEach(d=>{let C=i.find(V=>V.id===d);if(!C)return;let I=[...t,C];a.push(I)}):o.push(t)}return o}function _n(e){let i=[];return e.forEach(o=>{let a=o.length-1;for(let n=o.length-1;n>0&&o[n].blank;--n)a=n-1;o[a].targets=[],i.push(o.slice(0,a+1))}),i}function un(e){let i=[],o=e.map(n=>n.length),a=Math.max(...o);return e.forEach(n=>{if(n.length===a){i.push(n);return}n.forEach((t,l)=>{let d=gn(t,i);if(d.length&&d[0].id!==n[l+1]?.id){n.splice(l+1,0,...d);return}let C=e.map(V=>V.indexOf(t)),I=Math.max(...C);if(l<I){d=Ko(I-l,n[l-1].status),d[d.length-1].targets=[t.id],n[l-1].targets=[d[0].id],n.splice(l,0,...d);return}if(l===I&&l===n.length-1){d=Ko(a-n.length,n[l].status),n[l].targets=[d[0].id],n.splice(l+1,0,...d);return}}),i.push(n)}),i}function gn(e,i){let o=[],a=i.find(n=>{let t=n.indexOf(e);return t>-1&&n[t+1]?.blank});if(a){let n=a.indexOf(e)+1,t=a.findIndex((l,d)=>d>n&&!l.blank);o.push(...a.slice(n,t>0?t:void 0))}return o}function Ko(e,i){let o=[],a,n;for(let t=e;t>0;t--)a=Object.assign({},wt(),{targets:n?[n]:[],status:i}),n=a.id,o.unshift(a);return o}function vn(e){if(e.length===1)return e;let i=[],o=0;e.forEach((t,l)=>{for(let d=0;d<e.length;d++)if(l!==d&&!i.some(C=>l===C[1]&&d===C[0])){o=0;for(let C=0;C<t.length;C++)t[C].id===e[d][C].id&&o++;i.push([l,d,o])}}),i=i.sort((t,l)=>t[2]>l[2]?-1:1);let a=[],n=[];return i.forEach(t=>{a.some(l=>l===t[0])||(n.push(e[t[0]]),a.push(t[0])),a.some(l=>l===t[1])||(n.push(e[t[1]]),a.push(t[1]))}),n}function hn(e){let i=[];return e.forEach((o,a)=>{o.forEach(n=>{e.forEach((t,l)=>{l!==a&&t.indexOf(n)>-1&&t.splice(t.indexOf(n),1,qo())})}),i.push(o)}),i}function wn(e){return e.reduce((i,o)=>(o.every(a=>a.space)||i.push(o),i),[])}function Cn(e){let i=[],o=[];for(let a=0;a<e[0].length;a++){o=[];for(let n=0;n<e.length;n++)o.push(e[n][a]);i.push(o)}return i}function bn(e){let i=[];return e.forEach(o=>{let a;for(let n=o.length-1;n>=0;n--)if(!o[n].space){a=n;break}a<o.length?i.push(o.slice(0,a+1)):i.push(o)}),i}function An(e){let i=[];return e.forEach(o=>{o.every(n=>n.blank||n.space)?o.forEach(n=>{n.blank&&Sn(n.id,n.targets,e)}):i.push(o)}),i}function Sn(e,i,o){o.forEach(a=>{a.forEach(n=>{Te(n,e)&&(n.targets=n.targets.filter(t=>t!==e),n.targets.push(...i))})})}function xn(e){let i=[];return e.forEach((o,a)=>{o.forEach(n=>n.colIndex=a),i.push({nodes:o,index:a,allNodesApproved:o.every(n=>oe(n))})}),i}function En(e,i){e&1&&(b(0),_(1),g(2,"fdTranslate"),A()),e&2&&(r(1),x(" ",v(2,1,"platformApprovalFlow.messagesApproverAddedSuccess")," "))}function Tn(e,i){e&1&&(b(0),_(1),g(2,"fdTranslate"),A()),e&2&&(r(1),x(" ",v(2,1,"platformApprovalFlow.messagesTeamAddedSuccess")," "))}function yn(e,i){e&1&&(b(0),_(1),g(2,"fdTranslate"),A()),e&2&&(r(1),x(" ",v(2,1,"platformApprovalFlow.messagesNodeEdited")," "))}function Dn(e,i){e&1&&(b(0),_(1),g(2,"fdTranslate"),A()),e&2&&(r(1),x(" ",v(2,1,"platformApprovalFlow.messagesNodeRemovedSingular")," "))}function Fn(e,i){e&1&&(b(0),_(1),g(2,"fdTranslate"),A()),e&2&&(r(1),x(" ",v(2,1,"platformApprovalFlow.messagesNodeRemovedPlural")," "))}function Nn(e,i){e&1&&(b(0),_(1),g(2,"fdTranslate"),A()),e&2&&(r(1),x(" ",v(2,1,"platformApprovalFlow.messagesTeamRemoved")," "))}function In(e,i){e&1&&(b(0),_(1),g(2,"fdTranslate"),A()),e&2&&(r(1),x(" ",v(2,1,"platformApprovalFlow.messagesErrorBuildGraph")," "))}function Mn(e,i){if(e&1){let o=S();s(0,"a",5),u("click",function(n){h(o);let t=c().index,l=c();return w(l._undoLastAction(t,n))})("keyup.enter",function(n){h(o);let t=c().index,l=c();return w(l._undoLastAction(t,n))})("keyup.space",function(n){h(o);let t=c().index,l=c();return w(l._undoLastAction(t,n))}),_(1),g(2,"fdTranslate"),f()}e&2&&(r(1),x(" ",v(2,1,"platformApprovalFlow.messagesUndoAction")," "))}function kn(e,i){if(e&1){let o=S();s(0,"fd-message-strip",1),u("onDismiss",function(){let t=h(o).index,l=c();return w(l._dismissMessage(t))}),s(1,"bdi")(2,"span",2),m(3,En,3,3,"ng-container",3),m(4,Tn,3,3,"ng-container",3),m(5,yn,3,3,"ng-container",3),m(6,Dn,3,3,"ng-container",3),m(7,Fn,3,3,"ng-container",3),m(8,Nn,3,3,"ng-container",3),m(9,In,3,3,"ng-container",3),f(),m(10,Mn,3,3,"a",4),f()()}if(e&2){let o=i.$implicit,a=c();p("type",o.type==="error"?"error":"success")("dismissible",o.type!=="error"),r(2),p("ngSwitch",o.type),r(1),p("ngSwitchCase","approverAddSuccess"),r(1),p("ngSwitchCase","teamAddSuccess"),r(1),p("ngSwitchCase","nodeEdit"),r(1),p("ngSwitchCase","nodeRemove"),r(1),p("ngSwitchCase","nodesRemove"),r(1),p("ngSwitchCase","teamRemove"),r(1),p("ngSwitchCase","error"),r(1),p("ngIf",a.undoLastActionAvailable)}}var Xo=(()=>{let i=class i{constructor(){this.messages=[],this.undoLastActionAvailable=!1,this.messagesChange=new P,this.undoLastAction=new P,this._trackByFn=de}_dismissMessage(a){this.messages.splice(a,1)}_undoLastAction(a,n){n.preventDefault(),this._dismissMessage(a),this.undoLastAction.emit()}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=k({type:i,selectors:[["fdp-approval-flow-messages"]],hostAttrs:[1,"fdp-approval-flow-messages"],inputs:{messages:"messages",undoLastActionAvailable:"undoLastActionAvailable"},outputs:{messagesChange:"messagesChange",undoLastAction:"undoLastAction"},standalone:!0,features:[B],decls:1,vars:1,consts:[["class","fdp-approval-flow-messages__item",3,"type","dismissible","onDismiss",4,"ngFor","ngForOf"],[1,"fdp-approval-flow-messages__item",3,"type","dismissible","onDismiss"],[3,"ngSwitch"],[4,"ngSwitchCase"],["href","#",3,"click","keyup.enter","keyup.space",4,"ngIf"],["href","#",3,"click","keyup.enter","keyup.space"]],template:function(n,t){n&1&&m(0,kn,11,11,"fd-message-strip",0),n&2&&p("ngForOf",t.messages)},dependencies:[J,at,we,Ce,O,Z],styles:[`.fdp-approval-flow-messages__item:not(:last-child){margin-bottom:1rem}
`],encapsulation:2,changeDetection:0});let e=i;return e})();var Bt=(()=>{let i=class i{constructor(a){this.elRef=a,this.active=!1}_checkIfNodeDraggedInDropZone(a){this.active=!1;let n=this.elRef.nativeElement.getBoundingClientRect();n.top+n.height>a.top&&n.left+n.width>a.left&&n.bottom-n.height<a.bottom&&n.right-n.width<a.right&&(this.active=!0)}};i.\u0275fac=function(n){return new(n||i)(L(Xe))},i.\u0275dir=Zt({type:i,selectors:[["","fdp-approval-flow-drop-zone",""]],inputs:{placement:"placement"},exportAs:["fdp-approval-flow-drop-zone"],standalone:!0});let e=i;return e})();var Bn=["overflowMenuButton"],Vn=["nodeContent"];function Ln(e,i){if(e&1&&M(0,"div",11),e&2){let o=c();H("fdp-approval-flow-node__vertical-line-before-solid",o._isVerticalLineBeforeSolid)}}function Rn(e,i){if(e&1&&M(0,"div",12),e&2){let o=c();H("fdp-approval-flow-node__vertical-line-after-solid",o._isVerticalLineAfterSolid)}}function Un(e,i){e&1&&M(0,"div",16)}function On(e,i){e&1&&M(0,"div",17)}function zn(e,i){e&1&&M(0,"div",18)}function jn(e,i){if(e&1&&(b(0),m(1,Un,1,0,"div",13),m(2,On,1,0,"div",14),m(3,zn,1,0,"div",15),Xt(4),A()),e&2){let o=c();r(1),p("ngIf",o.renderArrow),r(1),p("ngIf",o._isRoot&&(o.meta==null?null:o.meta.nodeIndex)===0),r(1),p("ngIf",o._isFinal&&(o.meta==null?null:o.meta.nodeIndex)===0)}}function Gn(e,i){if(e&1&&(s(0,"button",20),u("click",function(a){return a.stopPropagation()}),g(1,"fdTranslate"),f()),e&2){let o=c(2),a=E(18);p("title",v(1,3,"platformApprovalFlow.nodeMenuButtonTitle"))("fdMenuTrigger",a)("disabled",o._isEditActionsAvailable)}}function Wn(e,i){if(e&1&&m(0,Gn,2,5,"button",19),e&2){let o=c();p("ngIf",!(o.node!=null&&o.node.disableActions))}}function $n(e,i){if(e&1&&(b(0),_(1),A()),e&2){let o=c(2);r(1),x(" ",o.node.approvers[0].name," ")}}var Vt=function(e){return{count:e}};function Qn(e,i){if(e&1&&(_(0),g(1,"fdTranslate")),e&2){let o=c(2);x(" ",Fe(1,1,"platformApprovalFlow.nodeMembersCount",re(4,Vt,o.node.approvers.length))," ")}}function Hn(e,i){if(e&1&&(b(0),_(1),A()),e&2){let o=c(2);r(1),x(" ",o.node.approvers.length>1?o.node.description:o.node.approvers.length?o.node.approvers[0].description:""," ")}}function qn(e,i){e&1&&(_(0),g(1,"fdTranslate")),e&2&&x(" ",v(1,1,"platformApprovalFlow.nodeVariousTeams")," ")}function Zn(e,i){e&1&&ne(0)}function Kn(e,i){e&1&&(b(0),_(1),g(2,"fdTranslate"),A()),e&2&&(r(1),x(" ",v(2,1,"platformApprovalFlow.nodeStatusDueToday")," "))}function Yn(e,i){if(e&1&&(b(0),_(1),g(2,"fdTranslate"),A()),e&2){let o=c(4);r(1),x(" ",Fe(2,1,"platformApprovalFlow.nodeStatusDueInXDays",re(4,Vt,o.dueDateThreshold-o._dueIn))," ")}}function Jn(e,i){if(e&1&&(b(0),_(1),g(2,"fdTranslate"),A()),e&2){let o=c(4);r(1),x(" ",Fe(2,1,"platformApprovalFlow.nodeStatusXDaysOverdue",re(4,Vt,o._dueIn-o.dueDateThreshold))," ")}}function Xn(e,i){if(e&1&&(b(0),m(1,Kn,3,3,"ng-container",2),m(2,Yn,3,6,"ng-container",2),m(3,Jn,3,6,"ng-container",2),A()),e&2){let o=c(3);r(1),p("ngIf",o._dueIn===o.dueDateThreshold),r(1),p("ngIf",o._dueIn<o.dueDateThreshold),r(1),p("ngIf",o._dueIn>o.dueDateThreshold)}}function ei(e,i){if(e&1&&(m(0,Zn,1,0,"ng-container",29),m(1,Xn,4,3,"ng-container",2)),e&2){let o=c(2),a=E(16),n=E(14);p("ngIf",o.approvalStatusTemplate)("ngIfThen",a)("ngIfElse",n),r(1),p("ngIf",o.checkDueDate&&o._showDueDateWarning)}}function ti(e,i){if(e&1&&(s(0,"div",21)(1,"div",22),m(2,$n,2,1,"ng-container",23),m(3,Qn,2,6,"ng-template",null,24,U),f(),s(5,"div",25),m(6,Hn,2,1,"ng-container",23),m(7,qn,2,3,"ng-template",null,26,U),f(),s(9,"fdp-object-status",27),m(10,ei,2,4,"ng-template",28),f()()),e&2){let o=E(4),a=E(8),n=c();r(1),H("fdp-approval-flow-node__name--members-count",n.node.approvers.length>1),p("id",n.approvalFlowNodeId),r(1),p("ngIf",n.node.approvers.length===1)("ngIfElse",o),r(4),p("ngIf",!n.node.variousTeams)("ngIfElse",a),r(3),p("status",n._objectStatus)("inverted",!0)}}function oi(e,i){e&1&&ne(0)}var ai=function(){return{placement:"before-all"}};function ni(e,i){if(e&1&&(b(0),m(1,oi,1,0,"ng-container",30),A()),e&2){c();let o=E(12);r(1),p("ngTemplateOutlet",o)("ngTemplateOutletContext",me(2,ai))}}function ii(e,i){e&1&&ne(0)}var ri=function(){return{placement:"before"}};function li(e,i){if(e&1&&(b(0),m(1,ii,1,0,"ng-container",30),A()),e&2){c();let o=E(12);r(1),p("ngTemplateOutlet",o)("ngTemplateOutletContext",me(2,ri))}}function pi(e,i){e&1&&ne(0)}var di=function(){return{placement:"after"}};function si(e,i){if(e&1&&(b(0),m(1,pi,1,0,"ng-container",30),A()),e&2){c();let o=E(12);r(1),p("ngTemplateOutlet",o)("ngTemplateOutletContext",me(2,di))}}function fi(e,i){e&1&&ne(0)}var ci=function(){return{placement:"after-all"}};function mi(e,i){if(e&1&&(b(0),m(1,fi,1,0,"ng-container",30),A()),e&2){c();let o=E(12);r(1),p("ngTemplateOutlet",o)("ngTemplateOutletContext",me(2,ci))}}function _i(e,i){if(e&1){let o=S();s(0,"button",34),u("click",function(){h(o);let n=c().placement,t=c();return w(t.onAdd.emit(n))}),g(1,"fdTranslate"),f()}if(e&2){let o=c().placement,a=E(2),n=c();et("visibility",a.active?"hidden":""),H("fdp-approval-flow-node__add--blank",n._blank)("fdp-approval-flow-node__add--before",!n._blank&&(o==="before"||o==="before-all"))("fdp-approval-flow-node__add--before-all",!n._blank&&o==="before-all")("fdp-approval-flow-node__add--after",!n._blank&&(o==="after"||o==="after-all"))("fdp-approval-flow-node__add--after-all",o==="after-all"),p("title",v(1,13,"platformApprovalFlow.addNodeButtonTitle"))}}function ui(e,i){if(e&1&&(m(0,_i,2,15,"button",31),M(1,"div",32,33)),e&2){let o=i.placement,a=E(2),n=c();p("ngIf",n.node.status!=="approved"),r(1),H("fdp-approval-flow-node__drop-zone--active",a.active)("fdp-approval-flow-node__drop-zone--blank",n.isNextNodeBlank)("fdp-approval-flow-node__drop-zone--partial",n._dropZonePartial(o)),p("placement",o)}}function gi(e,i){e&1&&(b(0),_(1),g(2,"fdTranslate"),A()),e&2&&(r(1),N(v(2,1,"platformApprovalFlow.statusApproved")))}function vi(e,i){e&1&&(b(0),_(1),g(2,"fdTranslate"),A()),e&2&&(r(1),N(v(2,1,"platformApprovalFlow.statusRejected")))}function hi(e,i){e&1&&(b(0),_(1),g(2,"fdTranslate"),A()),e&2&&(r(1),N(v(2,1,"platformApprovalFlow.statusInProgress")))}function wi(e,i){e&1&&(b(0),_(1),g(2,"fdTranslate"),A()),e&2&&(r(1),N(v(2,1,"platformApprovalFlow.statusNotStarted")))}function Ci(e,i){if(e&1&&(b(0)(1,35),m(2,gi,3,3,"ng-container",36),m(3,vi,3,3,"ng-container",36),m(4,hi,3,3,"ng-container",36),m(5,wi,3,3,"ng-container",36),A()()),e&2){let o=c(2);r(1),p("ngSwitch",o.node.status),r(1),p("ngSwitchCase","approved"),r(1),p("ngSwitchCase","rejected"),r(1),p("ngSwitchCase","in progress"),r(1),p("ngSwitchCase","not started")}}function bi(e,i){if(e&1&&m(0,Ci,6,5,"ng-container",2),e&2){let o=c();p("ngIf",!o.checkDueDate||!o._showDueDateWarning)}}var Ai=function(e){return{node:e}};function Si(e,i){if(e&1&&ne(0,38),e&2){let o=c(3);p("ngTemplateOutlet",o.approvalStatusTemplate)("ngTemplateOutletContext",re(2,Ai,o.node))}}function xi(e,i){if(e&1&&(b(0),m(1,Si,1,4,"ng-container",37),A()),e&2){let o=c(2);r(1),p("ngIf",o.approvalStatusTemplate)}}function Ei(e,i){if(e&1&&m(0,xi,2,1,"ng-container",2),e&2){let o=c();p("ngIf",!o.checkDueDate||!o._showDueDateWarning)}}function Ti(e,i){if(e&1){let o=S();s(0,"li",39),u("click",function(){h(o);let n=c();return E(18).close(),w(n.onAdd.emit("before"))}),s(1,"div",40)(2,"span",41),_(3),g(4,"fdTranslate"),f()()()}e&2&&(r(3),N(v(4,1,"platformApprovalFlow.nodeActionAddApproversBefore")))}function yi(e,i){if(e&1){let o=S();s(0,"li",39),u("click",function(){h(o);let n=c();return E(18).close(),w(n.onAdd.emit("after"))}),s(1,"div",40)(2,"span",41),_(3),g(4,"fdTranslate"),f()()()}e&2&&(r(3),N(v(4,1,"platformApprovalFlow.nodeActionAddApproversAfter")))}function Di(e,i){if(e&1){let o=S();s(0,"li",39),u("click",function(){h(o);let n=c();return E(18).close(),w(n.onAdd.emit("parallel"))}),s(1,"div",40)(2,"span",41),_(3),g(4,"fdTranslate"),f()()()}e&2&&(r(3),N(v(4,1,"platformApprovalFlow.nodeActionAddApproversParallel")))}function Fi(e,i){if(e&1){let o=S();s(0,"li",39),u("click",function(){h(o);let n=c();return E(18).close(),w(n.onEdit.emit())}),s(1,"div",40)(2,"span",41),_(3),g(4,"fdTranslate"),f()()()}e&2&&(r(3),x(" ",v(4,1,"platformApprovalFlow.nodeActionEditApprover"),""))}function Ni(e,i){if(e&1){let o=S();s(0,"li",39),u("click",function(){h(o);let n=c();return E(18).close(),w(n.onDelete.emit())}),s(1,"div",40)(2,"span",41),_(3),g(4,"fdTranslate"),f()()()}e&2&&(r(3),x(" ",v(4,1,"platformApprovalFlow.nodeActionRemove"),""))}var Ii=["*"],Mi={approved:"positive",rejected:"negative","in progress":"informative","not started":""},ea=1e3*60*60*24,ki=0,Ye=(()=>{let i=class i{get _blank(){return!!this.node?.blank}get _space(){return!!this.node?.space}get _isRoot(){return this.meta?.isRoot}get _isFinal(){return this.meta?.isFinal}get _renderLineBefore(){return!this.node?.blank}get _renderLineAfter(){return!this.node?.blank||this._isFinal}get _isApproved(){return this.node&&oe(this.node)}get _isParentApproved(){return this.meta?.parents?.length?this.meta.parents.every(a=>oe(a)):!!this.meta?.rootNodesApproved}get _isNodeSelected(){return this.isEdit&&this._isSelected}get _isParallelStart(){return!!this.meta?.parallelStart}get _isParallelEnd(){return!!this.meta?.parallelEnd}get _isFirstInParallel(){return!!this.meta?.isFirstInParallel}get _isLastInParallel(){return!!this.meta?.isLastInParallel}get _lastBlank(){return this._blank&&this.node.targets.length===0}get _isSelected(){return!!this.node.selected}constructor(a,n,t){this._elRef=a,this._cdr=n,this._rtlService=t,this.renderArrow=!1,this.checkDueDate=!1,this.dueDateThreshold=7,this.allNodesInColumnApproved=!1,this._showDueDateWarning=!1,this._dueIn=0,this.onAdd=new P,this.onEdit=new P,this.onDelete=new P,this.approvalFlowNodeId="fdp-approval-flow-node-"+ki++,this._subscriptions=new ue,this._translationResolver=new co}get _nativeElement(){return this._elRef.nativeElement}get _isNotStarted(){return!gt(this.node)}get _isEditActionsAvailable(){return this.node.status==="approved"||this.node.status==="rejected"}get _activeDropZones(){return this._dropZones.filter(a=>a.active)}get _isAnyDropZoneActive(){return this._activeDropZones.length>0}get _isVerticalLineBeforeSolid(){return this.meta?.parents.length?this.meta.parents.every(a=>oe(a)):!!this.meta?.isVerticalLineBeforeSolid}get _isVerticalLineAfterSolid(){return this.node?.targets.length?this._isVerticalLineBeforeSolid&&this.allNodesInColumnApproved:!!this.meta?.isVerticalLineAfterSolid}get _showAddButton(){return this.isEdit&&!this._blank&&!this._space&&!this.node?.disableActions}get _showAfterAllAddButton(){return this.isEdit&&!this._space&&!this.node?.disableActions}_dropZonePartial(a){return!this._blank&&(!this.isNextNodeBlank||a==="before")||this._lastBlank&&a==="after-all"}ngOnInit(){this._checkNodeStatus(),this._subscriptions.add(this._rtlService?.rtl.subscribe(()=>this._cdr.markForCheck()))}ngOnChanges(){this._checkNodeStatus()}ngOnDestroy(){this._subscriptions.unsubscribe()}_onMenuOpen(){this._menu.refreshPosition()}_focus(a){this._gridListItem?.focus(a)}_deactivateDropZones(){this._dropZones.forEach(a=>a.active=!1),this._cdr.detectChanges()}_checkIfNodeDraggedInDropZone(a){this._dropZones.forEach(n=>n._checkIfNodeDraggedInDropZone(a)),this._cdr.detectChanges()}_checkNodeStatus(){if(this.node){if(this.checkDueDate&&this.node.dueDate){let a=Number(new Date(this.node.dueDate))-this.dueDateThreshold*ea,n=Date.now()-a;this._dueIn=Math.round(n/ea),this._showDueDateWarning=!oe(this.node)&&a<Date.now(),this._objectStatus=this._showDueDateWarning?"critical":this._getNodeStatusClass(),this._cdr.detectChanges();return}this._objectStatus=this._getNodeStatusClass(),this._cdr.detectChanges()}}_getNodeStatusClass(){return this.statusColorMapping?this.statusColorMapping[this.node.status]:Mi[this.node.status]}};i.\u0275fac=function(n){return new(n||i)(L(Xe),L(pe),L(ot,8))},i.\u0275cmp=k({type:i,selectors:[["fdp-approval-flow-node"]],contentQueries:function(n,t,l){if(n&1&&oo(l,_t,5),n&2){let d;W(d=$())&&(t._gridListItem=d.first)}},viewQuery:function(n,t){if(n&1&&(Q(Mt,5),Q(Bn,5),Q(Vn,5),Q(Bt,5)),n&2){let l;W(l=$())&&(t._menu=l.first),W(l=$())&&(t._overflowMenuButton=l.first),W(l=$())&&(t._nodeContent=l.first),W(l=$())&&(t._dropZones=l)}},hostAttrs:[1,"fdp-approval-flow-node"],hostVars:36,hostBindings:function(n,t){n&2&&H("fdp-approval-flow-node--first-root",t.meta==null?null:t.meta.firstOfMultipleRootNodes)("fdp-approval-flow-node--first-final",t.meta==null?null:t.meta.firstOfMultipleFinalNodes)("fdp-approval-flow-node--edit-mode",t.isEdit)("fdp-approval-flow-node--next-blank",t.isNextNodeBlank)("fdp-approval-flow-node--blank",t._blank)("fdp-approval-flow-node--space",t._space)("fdp-approval-flow-node--root",t._isRoot)("fdp-approval-flow-node--final",t._isFinal)("fdp-approval-flow-node--line-before",t._renderLineBefore)("fdp-approval-flow-node--line-after",t._renderLineAfter)("fdp-approval-flow-node--approved",t._isApproved)("fdp-approval-flow-node--parent-approved",t._isParentApproved)("fdp-approval-flow-node--selected",t._isNodeSelected)("fdp-approval-flow-node--parallel-start",t._isParallelStart)("fdp-approval-flow-node--parallel-end",t._isParallelEnd)("fdp-approval-flow-node--first-in-parallel",t._isFirstInParallel)("fdp-approval-flow-node--last-in-parallel",t._isLastInParallel)("fdp-approval-flow-node--last-blank",t._lastBlank)},inputs:{node:"node",meta:"meta",renderArrow:"renderArrow",checkDueDate:"checkDueDate",dueDateThreshold:"dueDateThreshold",allNodesInColumnApproved:"allNodesInColumnApproved",approvalStatusTemplate:"approvalStatusTemplate",statusColorMapping:"statusColorMapping",isEdit:"isEdit",isNextNodeBlank:"isNextNodeBlank"},outputs:{onAdd:"onAdd",onEdit:"onEdit",onDelete:"onDelete"},standalone:!0,features:[De,B],ngContentSelectors:Ii,decls:24,vars:12,consts:[["class","fdp-approval-flow-node__vertical-line-before",3,"fdp-approval-flow-node__vertical-line-before-solid",4,"ngIf"],["class","fdp-approval-flow-node__vertical-line-after",3,"fdp-approval-flow-node__vertical-line-after-solid",4,"ngIf"],[4,"ngIf"],["overflowMenuButton",""],["nodeContent",""],["addNodeButton",""],["defaultStatusTemplate",""],["userStatusTemplate",""],["fdContentDensity","","placement","bottom-end",3,"isOpenChange"],["menu",""],["fd-menu-item","",3,"click",4,"ngIf"],[1,"fdp-approval-flow-node__vertical-line-before"],[1,"fdp-approval-flow-node__vertical-line-after"],["class","fdp-approval-flow-node__arrow",4,"ngIf"],["class","fdp-approval-flow-node__carousel-start-marker",4,"ngIf"],["class","fdp-approval-flow-node__carousel-end-marker",4,"ngIf"],[1,"fdp-approval-flow-node__arrow"],[1,"fdp-approval-flow-node__carousel-start-marker"],[1,"fdp-approval-flow-node__carousel-end-marker"],["class","fdp-approval-flow-node__menu-button","fd-button","","fdType","transparent","tabindex","0","glyph","overflow","fdCompact","",3,"title","fdMenuTrigger","disabled","click",4,"ngIf"],["fd-button","","fdType","transparent","tabindex","0","glyph","overflow","fdCompact","",1,"fdp-approval-flow-node__menu-button",3,"title","fdMenuTrigger","disabled","click"],[1,"fdp-approval-flow-node__info"],[1,"fdp-approval-flow-node__name",3,"id"],[4,"ngIf","ngIfElse"],["multipleApprovers",""],[1,"fdp-approval-flow-node__description"],["variousTeams",""],[3,"status","inverted"],["fdpObjectStatusText",""],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["fd-button","","glyph","add","fdCompact","","class","fdp-approval-flow-node__add",3,"title","fdp-approval-flow-node__add--blank","fdp-approval-flow-node__add--before","fdp-approval-flow-node__add--before-all","fdp-approval-flow-node__add--after","fdp-approval-flow-node__add--after-all","visibility","click",4,"ngIf"],["fdp-approval-flow-drop-zone","",1,"fdp-approval-flow-node__drop-zone",3,"placement"],["dropZone","fdp-approval-flow-drop-zone"],["fd-button","","glyph","add","fdCompact","",1,"fdp-approval-flow-node__add",3,"title","click"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["fd-menu-item","",3,"click"],["fd-menu-interactive",""],["fd-menu-title",""]],template:function(n,t){n&1&&(Jt(),m(0,Ln,1,2,"div",0),m(1,Rn,1,2,"div",1),m(2,jn,5,3,"ng-container",2),m(3,Wn,1,1,"ng-template",null,3,U),m(5,ti,11,9,"ng-template",null,4,U),m(7,ni,2,3,"ng-container",2),m(8,li,2,3,"ng-container",2),m(9,si,2,3,"ng-container",2),m(10,mi,2,3,"ng-container",2),m(11,ui,3,8,"ng-template",null,5,U),m(13,bi,1,1,"ng-template",null,6,U),m(15,Ei,1,1,"ng-template",null,7,U),s(17,"fd-menu",8,9),u("isOpenChange",function(){return t._onMenuOpen()}),m(19,Ti,5,3,"li",10),m(20,yi,5,3,"li",10),m(21,Di,5,3,"li",10),m(22,Fi,5,3,"li",10),m(23,Ni,5,3,"li",10),f()),n&2&&(p("ngIf",t.meta==null?null:t.meta.renderVerticalLineBefore),r(1),p("ngIf",t.meta==null?null:t.meta.renderVerticalLineAfter),r(1),p("ngIf",!t._blank&&!t._space),r(5),p("ngIf",t._showAddButton&&(t.meta==null?null:t.meta.canAddNodeBeforeAll)&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddBefore)),r(1),p("ngIf",t._showAddButton&&(t.meta==null?null:t.meta.canAddNodeBefore)&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddBefore)),r(1),p("ngIf",t._showAddButton&&(t.meta==null?null:t.meta.canAddNodeAfter)&&(t.meta==null?null:t.meta.renderAddNodeAfterButton)&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddAfter)),r(1),p("ngIf",t._showAfterAllAddButton&&(t.meta==null?null:t.meta.canAddNodeAfterAll)&&(t.meta==null?null:t.meta.renderAddNodeAfterButton)&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddAfter)),r(9),p("ngIf",(t.meta==null?null:t.meta.canAddNodeBefore)&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddBefore)),r(1),p("ngIf",(t.meta==null?null:t.meta.canAddNodeAfter)&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddAfter)),r(1),p("ngIf",(t.meta==null?null:t.meta.canAddParallel)&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableAddParallel)),r(1),p("ngIf",t._isNotStarted&&!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableEdit)),r(1),p("ngIf",!(!(t.node==null||t.node.actionsConfig==null)&&t.node.actionsConfig.disableRemove)))},dependencies:[O,Be,q,go,xo,So,Ne,Bt,we,Ce,Mt,uo,_o,mo,Z],styles:[`.fdp-approval-flow-node{display:block;box-sizing:border-box;position:relative;width:17.375rem;height:5.875rem;margin-bottom:1rem}.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode{height:7.875rem}.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node.fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__vertical-line-after:after{top:-4.9375rem;height:8.875rem}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after{content:"";display:block;position:absolute;top:-3.9375rem;height:6.875rem}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before{left:-2.0625rem;border-right:.125rem dashed #d9d9d9;border-right:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A") 2 round}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before-solid:before{border-right:.125rem solid #d9d9d9;border-right:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after{right:-2.0625rem;border-right:.125rem dashed #d9d9d9;border-right:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A") 2 round}.fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after-solid:after{border-right:.125rem solid #d9d9d9;border-right:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}[dir=rtl] .fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-before:before,.fdp-approval-flow-node[dir=rtl] .fdp-approval-flow-node__vertical-line-before:before{left:auto;right:-2.0625rem}[dir=rtl] .fdp-approval-flow-node .fdp-approval-flow-node__vertical-line-after:after,.fdp-approval-flow-node[dir=rtl] .fdp-approval-flow-node__vertical-line-after:after{right:auto;left:-2.0625rem}.fdp-approval-flow-node .fdp-approval-flow-node__add{position:absolute;z-index:10;margin:calc(3.4375rem - 1px) auto auto;inset:0;border-radius:100%;min-width:1rem;max-width:1rem;min-height:1rem;max-height:1rem}.fdp-approval-flow-node .fdp-approval-flow-node__add fd-icon{line-height:1rem;font-size:.7rem;font-weight:900}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--before{left:-2.5rem;right:auto}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{left:-2.8rem}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--after{right:-2.5rem;left:auto}.fdp-approval-flow-node .fdp-approval-flow-node__add.fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:-2.8rem;left:auto}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone{border-radius:.25rem;position:absolute;height:100%;z-index:1}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--active{background:#e5f0fa;background:var(--sapList_SelectionBackgroundColor, #e5f0fa);border:.125rem solid #0854a0;border:.125rem solid var(--sapButton_IconColor, #0854a0)}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--blank{width:100%;top:0}.fdp-approval-flow-node .fdp-approval-flow-node__drop-zone.fdp-approval-flow-node__drop-zone--partial{width:10%;left:0;top:0}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank{background:transparent;box-shadow:none;pointer-events:none;cursor:default}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank:before{content:"";display:block;position:absolute;width:calc(100% + 4rem);height:0;left:-2rem;top:calc(50% - .0625rem);border-top:.125rem dashed #d9d9d9;border-top:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A") 2 round}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before{width:calc(100% + 2rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank:not(.fdp-approval-flow-node--last-blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{width:100%}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after{content:"";width:2rem;height:0;display:block;position:absolute;top:calc(50% - .0625rem);bottom:0;pointer-events:none;border-top:.125rem dashed #d9d9d9;border-top:.125rem dashed var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' y='3' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='6' width='2' height='2' fill='%23C4C4C4'/%3E%3Crect x='3' width='2' height='2' fill='%23C4C4C4'/%3E%3C/svg%3E%0A") 2 round}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before{left:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after{right:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--approved.fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--approved.fdp-approval-flow-node--blank:before{border-top:.125rem solid #d9d9d9;border-top:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parent-approved.fdp-approval-flow-node--line-before:before{left:-2rem;border-top:.125rem solid #d9d9d9;border-top:.125rem solid var(--sapGroup_TitleBorderColor, #d9d9d9);border-image:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode.fdp-approval-flow-node--blank{pointer-events:auto}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__carousel-end-marker{top:3.4375rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--edit-mode .fdp-approval-flow-node__arrow{display:none}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after{right:-1.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:-1.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all{right:-3.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{right:-3.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before{left:-1.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{left:-1.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all{left:-3.5rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone{left:-3.8rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all{left:19.875rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{left:calc(100% + 2rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after{right:-12.6875rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:calc(100% + 4rem)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before{width:4rem;left:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker{left:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after{width:4rem;right:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker{right:-4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__add,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__vertical-line-before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space).cdk-drag-dragging .fdp-approval-flow-node__vertical-line-after{visibility:hidden}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__name{font-size:1rem;line-height:1.25rem;margin-bottom:.1rem;color:#32363a;color:var(--sapTextColor, #32363a)}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__description{font-size:.875rem;line-height:1rem;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);margin-bottom:.4rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__arrow{width:0;height:0;border-style:solid;border-width:.375rem 0 .375rem .5rem;border-color:transparent transparent transparent #d9d9d9;border-color:transparent transparent transparent var(--sapGroup_TitleBorderColor, #d9d9d9);position:absolute;left:-.5rem;top:0;bottom:0;margin:auto}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker{z-index:1;background:#d9d9d9;background:var(--sapGroup_TitleBorderColor, #d9d9d9);display:block;position:absolute;width:.25rem;height:1rem;top:2.4375rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker{left:-2rem}.fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker{right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__arrow,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__arrow{left:auto;right:-.5rem;border-width:.375rem .5rem .375rem 0;border-color:transparent #d9d9d9 transparent transparent;border-color:transparent var(--sapGroup_TitleBorderColor, #d9d9d9) transparent transparent}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__carousel-start-marker{left:auto;right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__carousel-end-marker{right:auto;left:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--line-before:before{left:auto;right:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--line-after:after{right:auto;left:-2rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__name.fdp-approval-flow-node__name--members-count,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__name.fdp-approval-flow-node__name--members-count{direction:ltr;text-align:right}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--before{right:-2.5rem;left:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{right:-2.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--after{left:-2.5rem;right:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space) .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl] .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:-2.8rem;right:auto}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final .fdp-approval-flow-node__add--after{left:-1.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{left:-1.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all{left:-3.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-in-parallel:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-start:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--final:not(.fdp-approval-flow-node--blank) .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{left:-3.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before{right:-1.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before+.fdp-approval-flow-node__drop-zone{right:-1.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all{right:-3.5rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-in-parallel .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--parallel-end .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--root .fdp-approval-flow-node__add--before-all+.fdp-approval-flow-node__drop-zone{right:-3.8rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all{right:19.875rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--last-blank .fdp-approval-flow-node__add--after-all+.fdp-approval-flow-node__drop-zone{right:calc(100% + 2rem)}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after{left:-12.6875rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--next-blank .fdp-approval-flow-node__add--after+.fdp-approval-flow-node__drop-zone{right:calc(100% + 4rem)}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-root.fdp-approval-flow-node--line-before:before{left:auto;right:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-root .fdp-approval-flow-node__carousel-start-marker{left:auto;right:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-final.fdp-approval-flow-node--line-after:after{right:auto;left:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--first-final .fdp-approval-flow-node__carousel-end-marker{right:auto;left:-4rem}[dir=rtl] .fdp-approval-flow-node:not(.fdp-approval-flow-node--space).fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before,.fdp-approval-flow-node:not(.fdp-approval-flow-node--space)[dir=rtl].fdp-approval-flow-node--blank.fdp-approval-flow-node--first-final:before{left:0}
`],encapsulation:2,changeDetection:0});let e=i;return e})();function Pi(e,i){e&1&&(s(0,"p"),_(1),g(2,"fdTranslate"),f()),e&2&&(r(1),N(v(2,1,"platformApprovalFlow.selectTypeDialogMoveApproverAs")))}function Bi(e,i){if(e&1){let o=S();s(0,"div",4)(1,"fd-checkbox",10),u("ngModelChange",function(n){h(o);let t=c();return w(t._toNextSerial=n)}),_(2),g(3,"fdTranslate"),f()()}if(e&2){let o=c();r(1),p("ngModel",o._toNextSerial),r(1),x(" ",v(3,2,"platformApprovalFlow.addNodeDialogAddToNext")," ")}}var St=(()=>{let i=class i{constructor(a){this._dialogRef=a,this._nodeType=ie.SERIAL,this._nodeTypes=ie,this._toNextSerial=!1}_submit(){this._dialogRef.close({type:this._nodeType,toNextSerial:this._toNextSerial})}};i.\u0275fac=function(n){return new(n||i)(L(ke))},i.\u0275cmp=k({type:i,selectors:[["fdp-approval-flow-select-type"]],hostAttrs:[1,"fdp-approval-flow-dialog","fdp-approval-flow-select-type"],standalone:!0,features:[B],decls:23,vars:20,consts:[["fdkTemplate","header"],["fdCompact",""],[1,"fd-form-label"],[1,"fdp-approval-flow-select-type__form"],["fd-form-item",""],["id","select-type-parallel","name","select-type-parallel",3,"value","ngModel","ngModelChange"],["id","select-type-serial","name","select-type-serial",3,"value","ngModel","ngModelChange"],["fd-form-item","",4,"ngIf"],["fdType","emphasized",3,"label","click"],["fdkInitialFocus","","fdType","transparent",3,"label","click"],[3,"ngModel","ngModelChange"]],template:function(n,t){n&1&&(s(0,"fd-dialog")(1,"fd-dialog-header"),m(2,Pi,3,3,"ng-template",0),f(),s(3,"fd-dialog-body",1)(4,"span",2),_(5),g(6,"fdTranslate"),f(),s(7,"fd-form-group",3)(8,"div",4)(9,"fd-radio-button",5),u("ngModelChange",function(d){return t._nodeType=d}),_(10),g(11,"fdTranslate"),f()(),s(12,"div",4)(13,"fd-radio-button",6),u("ngModelChange",function(d){return t._nodeType=d}),_(14),g(15,"fdTranslate"),f()(),m(16,Bi,4,4,"div",7),f()(),s(17,"fd-dialog-footer",1),b(18),s(19,"fd-button-bar",8),u("click",function(){return t._submit()}),g(20,"fdTranslate"),f(),s(21,"fd-button-bar",9),u("click",function(){return t._dialogRef.close()}),g(22,"fdTranslate"),f(),A(),f()()),n&2&&(r(5),x(" ",v(6,10,"platformApprovalFlow.selectTypeDialogParallelOrSerial")," "),r(4),p("value",t._nodeTypes.PARALLEL)("ngModel",t._nodeType),r(1),x(" ",v(11,12,"platformApprovalFlow.selectTypeDialogNodeTypeParallel")," "),r(3),p("value",t._nodeTypes.SERIAL)("ngModel",t._nodeType),r(1),x(" ",v(15,14,"platformApprovalFlow.selectTypeDialogNodeTypeSerial")," "),r(2),p("ngIf",t._nodeType===t._nodeTypes.PARALLEL),r(3),p("label",v(20,16,"platformApprovalFlow.selectTypeDialogConfirmButton")),r(2),p("label",v(22,18,"platformApprovalFlow.selectTypeDialogCancelButton")))},dependencies:[Ue,Re,Me,Pe,q,pt,Oe,st,te,X,ee,O,dt,Le,Ve,Z],styles:[`.fdp-approval-flow-dialog a{color:#0a6ed1;color:var(--sapLinkColor, #0a6ed1)}.fdp-approval-flow-dialog .fd-list--byline .fd-list__byline-left{width:100%}.fdp-approval-flow-dialog fd-popover{width:100%}.fdp-approval-flow-dialog fd-dialog fd-dialog-header{margin-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header .fd-bar--header{flex-direction:column;padding-bottom:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p{font-size:1rem;margin:.65rem 0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header p fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;cursor:pointer;margin-right:.75rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search{margin-bottom:0}.fdp-approval-flow-dialog fd-dialog fd-dialog-header.show-search .fd-bar--header{min-height:2.5rem;height:auto}.fdp-approval-flow-dialog fd-dialog fd-avatar{margin-right:.652rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body{padding:1rem}.fdp-approval-flow-dialog fd-dialog fd-dialog-body fdp-list{display:block;margin-left:-1rem;margin-right:-1rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item .fd-checkbox__label{position:relative;left:.3125rem}.fdp-approval-flow-dialog fd-dialog fdp-standard-list-item fd-avatar{margin-left:.1875rem}.fdp-approval-flow-dialog .fd-form-item{margin-bottom:1rem}[dir=rtl] .fdp-approval-flow-dialog fd-dialog-header p fd-icon,.fdp-approval-flow-dialog[dir=rtl] fd-dialog-header p fd-icon{margin-right:0;margin-left:.75rem}[dir=rtl] .fdp-approval-flow-dialog fd-avatar,.fdp-approval-flow-dialog[dir=rtl] fd-avatar{margin-right:0;margin-left:.652rem}[dir=rtl] .fdp-approval-flow-dialog fdp-standard-list-item .fd-checkbox__label,.fdp-approval-flow-dialog[dir=rtl] fdp-standard-list-item .fd-checkbox__label{left:auto;right:.3125rem}
`,`.fdp-approval-flow-select-type .fd-dialog__body{width:24rem}.fdp-approval-flow-select-type .fd-dialog__body .fd-form-item{margin-bottom:0}
`],encapsulation:2,changeDetection:0});let e=i;return e})();function Vi(e,i){if(e&1){let o=S();s(0,"button",3),u("click",function(){h(o);let n=c();return w(n._addNode("empty"))}),g(1,"fdTranslate"),f()}e&2&&p("label",v(1,1,"platformApprovalFlow.toolbarAddStepButton"))}function Li(e,i){if(e&1){let o=S();s(0,"button",3),u("click",function(){h(o);let n=c();return w(n.enterEditMode.emit())}),g(1,"fdTranslate"),f()}e&2&&p("label",v(1,1,"platformApprovalFlow.toolbarEditButton"))}function Ri(e,i){if(e&1){let o=S();s(0,"button",3),u("click",function(){h(o);let n=c(2);return w(n._addNode("before"))}),g(1,"fdTranslate"),f()}e&2&&p("label",v(1,1,"platformApprovalFlow.toolbarAddApproversBefore"))}function Ui(e,i){if(e&1){let o=S();s(0,"button",3),u("click",function(){h(o);let n=c(2);return w(n._addNode("after"))}),g(1,"fdTranslate"),f()}e&2&&p("label",v(1,1,"platformApprovalFlow.toolbarAddApproversAfter"))}function Oi(e,i){if(e&1){let o=S();s(0,"button",3),u("click",function(){h(o);let n=c(2);return w(n._addNode("parallel"))}),g(1,"fdTranslate"),f()}e&2&&p("label",v(1,1,"platformApprovalFlow.toolbarAddApproversParallel"))}function zi(e,i){if(e&1){let o=S();s(0,"button",3),u("click",function(){h(o);let n=c(2);return w(n.deleteSelectedNodes.emit())}),g(1,"fdTranslate"),f()}e&2&&p("label",v(1,1,"platformApprovalFlow.toolbarRemove"))}function ji(e,i){if(e&1){let o=S();s(0,"button",3),u("click",function(){h(o);let n=c(2);return w(n._editSelectedNode())}),g(1,"fdTranslate"),f()}e&2&&p("label",v(1,1,"platformApprovalFlow.toolbarEditApprover"))}function Gi(e,i){if(e&1&&(b(0),m(1,Ri,2,3,"button",1),m(2,Ui,2,3,"button",1),m(3,Oi,2,3,"button",1),m(4,zi,2,3,"button",1),m(5,ji,2,3,"button",1),A()),e&2){let o=c();r(1),p("ngIf",o._canAddBefore),r(1),p("ngIf",o._canAddAfter),r(1),p("ngIf",o._canAddParallel),r(1),p("ngIf",o._canRemoveSelectedNodes),r(1),p("ngIf",o._canEditNode)}}var ta=(()=>{let i=class i{constructor(){this.isEditMode=!1,this.enterEditMode=new P,this.addNode=new P,this.editSelectedNode=new P,this.deleteSelectedNodes=new P,this._canRemoveSelectedNodes=!1,this._selectedNodes=[]}set selectedNodes(a){this._selectedNodes=a,this._canRemoveSelectedNodes=!!this.selectedNodes.length&&this.selectedNodes.every(n=>!n.disableActions&&!n.actionsConfig?.disableRemove)}get selectedNodes(){return this._selectedNodes}get _notApprovedSelectedNode(){return this.selectedNodes.length!==1||oe(this.selectedNodes[0])?null:this.selectedNodes[0]}get _canAddBefore(){let a=this._notApprovedSelectedNode;return!!a&&!a.disableActions&&!a.actionsConfig?.disableAddBefore&&!!this.graphMetadata[a.id].canAddNodeBefore}get _canAddAfter(){let a=this._notApprovedSelectedNode;return!!a&&!a.disableActions&&!a.actionsConfig?.disableAddAfter&&!!this.graphMetadata[a.id].canAddNodeAfter}get _canAddParallel(){let a=this._notApprovedSelectedNode;return!!this._notApprovedSelectedNode&&!a?.disableActions&&!a?.actionsConfig?.disableAddParallel&&!!this.graphMetadata[a.id].canAddParallel}get _canEditNode(){let a=this._notApprovedSelectedNode;return!!a&&!a.disableActions&&!a.actionsConfig?.disableEdit}_addNode(a){let n=this.selectedNodes[0];this.addNode.emit({node:n,target:a})}_editSelectedNode(){let a=this.selectedNodes[0];this.editSelectedNode.emit(a)}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=k({type:i,selectors:[["fdp-approval-flow-toolbar-actions"]],hostAttrs:[1,"fdp-approval-flow-toolbar-actions"],inputs:{graph:"graph",graphMetadata:"graphMetadata",selectedNodes:"selectedNodes",isEditMode:"isEditMode"},outputs:{enterEditMode:"enterEditMode",addNode:"addNode",editSelectedNode:"editSelectedNode",deleteSelectedNodes:"deleteSelectedNodes"},standalone:!0,features:[B],decls:4,vars:3,consts:[["fdCompact",""],["fd-button","",3,"label","click",4,"ngIf"],[4,"ngIf"],["fd-button","",3,"label","click"]],template:function(n,t){n&1&&(b(0,0),m(1,Vi,2,3,"button",1),m(2,Li,2,3,"button",1),m(3,Gi,6,5,"ng-container",2),A()),n&2&&(r(1),p("ngIf",!(!(t.graph==null||t.graph.columns==null)&&t.graph.columns.length)&&!(t.graph!=null&&t.graph.errors)),r(1),p("ngIf",!!(!(t.graph==null||t.graph.columns==null)&&t.graph.columns.length)&&!t.isEditMode),r(1),p("ngIf",t.isEditMode))},dependencies:[q,O,Be,Z],styles:[`.fdp-approval-flow-toolbar-actions .fd-button:not(:last-child){margin-right:.5rem}[dir=rtl] .fdp-approval-flow-toolbar-actions .fd-button:not(:last-child),.fdp-approval-flow-toolbar-actions[dir=rtl] .fd-button:not(:last-child){margin-right:0;margin-left:.5rem}
`],encapsulation:2,changeDetection:0});let e=i;return e})();var qi=["graphContainerEl"],Zi=["graphEl"],Ki=["gridList"];function Yi(e,i){if(e&1){let o=S();s(0,"fdp-approval-flow-toolbar-actions",10),u("enterEditMode",function(){h(o);let n=c();return w(n._enterEditMode())})("addNode",function(n){h(o);let t=c();return w(t._addNode(n.node,n.target))})("editSelectedNode",function(n){h(o);let t=c();return w(t._editNode(n))})("deleteSelectedNodes",function(){h(o);let n=c();return w(n._deleteSelectedNodes())}),f()}if(e&2){let o=c();p("graph",o._graph)("selectedNodes",o._selectedNodes)("graphMetadata",o._graphMetadata)("isEditMode",o._isEditMode)}}function Ji(e,i){if(e&1){let o=S();s(0,"fd-avatar",15),u("avatarClicked",function(n){let l=h(o).$implicit,d=c(3);return w(d._onWatcherClick(l,n))}),f()}if(e&2){let o=i.$implicit;p("image",o.imgUrl||"")("label",o.name)("clickable",!0)("circle",!0)}}function Xi(e,i){if(e&1&&(b(0),m(1,Ji,1,4,"fd-avatar",14),A()),e&2){let o=c(2);r(1),p("ngForOf",o._approvalProcess==null?null:o._approvalProcess.watchers)("ngForTrackBy",o._trackByFn)}}function er(e,i){if(e&1){let o=S();s(0,"div",16)(1,"fd-multi-input",17),u("ngModelChange",function(n){h(o);let t=c(2);return w(t._selectedWatcherIds=n)})("ngModelChange",function(n){h(o);let t=c(2);return w(t._watchersSelectionChanged(n))}),g(2,"fdTranslate"),f()()}if(e&2){let o=c(2);r(1),p("dropdownValues",o._usersForWatchersList)("placeholder",v(2,6,"platformApprovalFlow.watchersInputPlaceholder"))("displayFn",o._displayUserFn)("valueFn",o._userValueFn)("showAllButton",!0)("ngModel",o._selectedWatcherIds)}}function tr(e,i){if(e&1&&(s(0,"div",11)(1,"p",12),_(2),g(3,"fdTranslate"),f(),m(4,Xi,2,2,"ng-container",7),m(5,er,3,8,"div",13),f()),e&2){let o=c();ce("aria-label",o.watchersLabel),r(2),x(" ",o.watchersLabel||v(3,4,"platformApprovalFlow.defaultWatchersLabel")," "),r(2),p("ngIf",!o._isEditMode),r(1),p("ngIf",o._isEditMode)}}function or(e,i){if(e&1){let o=S();s(0,"button",29),u("click",function(){h(o);let n=c(4);return w(n.nextSlide(-1))}),g(1,"fdTranslate"),M(2,"fd-icon",30),_(3),f()}if(e&2){let o=c(4);ce("aria-label",v(1,3,"platformApprovalFlow.prevButtonAriaLabel")),r(2),p("glyph","navigation-"+(o._rtl?"right":"left")+"-arrow"),r(1),x(" ",o._carouselStepsLeft," ")}}function ar(e,i){if(e&1){let o=S();s(0,"button",31),u("click",function(){h(o);let n=c(4);return w(n.nextSlide())}),g(1,"fdTranslate"),_(2),M(3,"fd-icon",30),f()}if(e&2){let o=c(4);ce("aria-label",v(1,3,"platformApprovalFlow.nextButtonAriaLabel")),r(2),x(" ",o._carouselStepsRight," "),r(1),p("glyph","navigation-"+(o._rtl?"left":"right")+"-arrow")}}function nr(e,i){if(e&1&&(s(0,"div",26),m(1,or,4,5,"button",27),m(2,ar,4,5,"button",28),f()),e&2){let o=c(3);H("fdp-approval-flow-carousel-controls--edit-mode",o._isEditMode),r(1),p("ngIf",o._carouselStepsLeft>0),r(1),p("ngIf",o._carouselStepsRight>0)}}function ir(e,i){if(e&1&&(b(0),ne(1,39),A()),e&2){c();let o=E(1);r(1),p("ngTemplateOutlet",o._overflowMenuButton)}}function rr(e,i){if(e&1&&ne(0,39),e&2){c();let o=E(1);p("ngTemplateOutlet",o._nodeContent)}}function lr(e,i){if(e&1){let o=S();s(0,"fdp-approval-flow-node",34,35),u("onAdd",function(n){let l=h(o).$implicit,d=c(4);return w(d._addNode(l,n))})("onEdit",function(){let t=h(o).$implicit,l=c(4);return w(l._editNode(t))})("onDelete",function(){let t=h(o).$implicit,l=c(4);return w(l._onNodeDelete(t))})("keydown",function(n){let l=h(o).$implicit,d=c(4);return w(d._onNodeKeyDown(n,l))})("cdkDragStarted",function(){h(o);let n=c(4);return w(n._dragDropInProgress=!0)})("cdkDragReleased",function(n){let l=h(o).$implicit,d=c(4);return w(d._onNodeDrop(l,n.source))})("cdkDragMoved",function(){let t=h(o).$implicit,l=c(4);return w(l._onNodeDragMoved(t))}),s(2,"fd-grid-list-item",36),u("press",function(){let t=h(o).$implicit,l=c(4);return w(l._onNodeClick(t))}),s(3,"fd-grid-list-item-toolbar"),m(4,ir,2,1,"ng-container",7),f(),M(5,"fd-avatar",37),m(6,rr,1,1,"ng-template",38),f()()}if(e&2){let o=i.$implicit,a=i.index,n=E(1),t=c(),l=t.index,d=t.$implicit,C=c(3);p("cdkDragDisabled",C._isCdkDragDisabled(o))("node",o)("meta",C._graphMetadata[o.id])("isEdit",C._isEditMode)("isNextNodeBlank",C._isNextNodeBlank(o,l,a))("checkDueDate",C.checkDueDate)("dueDateThreshold",C.dueDateThreshold)("renderArrow",l>0)("allNodesInColumnApproved",!!d.allNodesApproved)("approvalStatusTemplate",C.approvalStatusTemplate)("statusColorMapping",C.statusColorMapping),r(2),H("fdp-approval-flow__graph-node-inner--edit",C._isEditMode),p("value",o)("selected",!!o.selected)("ariaLabelledBy",n.approvalFlowNodeId)("disableToolbarClick",!0),r(2),p("ngIf",C._isEditMode),r(1),p("image",o.approvers.length===1?o.approvers[0].imgUrl:null)("label",o.approvers.length>1?o.description:null)("circle",!0)}}function pr(e,i){if(e&1&&(s(0,"div",32),m(1,lr,7,21,"fdp-approval-flow-node",33),f()),e&2){let o=i.$implicit,a=c(3);r(1),p("ngForOf",o.nodes)("ngForTrackBy",a._trackByFn)}}function dr(e,i){if(e&1&&(b(0),s(1,"div",19),m(2,nr,3,4,"div",20),s(3,"div",21,22)(5,"div",23,24),m(7,pr,2,2,"div",25),f()()(),A()),e&2){let o=c(2);r(1),H("fdp-approval-flow__container--extra-padding-start",!0)("fdp-approval-flow__container--extra-padding-end",!0),r(1),p("ngIf",o._scrollDiff>0),r(1),H("fdp-approval-flow__graph-container--multiple-root-nodes",o._multipleRootNodes)("fdp-approval-flow__graph-container--multiple-final-nodes",o._multipleFinalNodes)("fd-scrollbar",!0),r(2),H("fdp-approval-flow__graph--edit-mode",o._isEditMode),r(2),p("ngForOf",o._graph.columns)}}function sr(e,i){if(e&1&&(b(0),m(1,dr,8,14,"ng-container",18),A()),e&2){let o=c(),a=E(12);r(1),p("ngIf",o._graph.columns.length)("ngIfElse",a)}}function fr(e,i){if(e&1){let o=S();s(0,"div",40)(1,"div",41)(2,"fd-bar-element")(3,"button",42),u("click",function(){h(o);let n=c();return w(n._saveEditModeChanges())}),g(4,"fdTranslate"),f()(),s(5,"fd-bar-element")(6,"button",43),u("click",function(){h(o);let n=c();return w(n._exitEditMode())}),g(7,"fdTranslate"),f()()()()}if(e&2){let o=c();r(3),p("label",v(4,4,"platformApprovalFlow.editModeSaveButtonLabel"))("disabled",o.disableSaveButton),r(3),p("label",v(7,6,"platformApprovalFlow.editModeExitButtonLabel"))("disabled",o.disableExitButton)}}function cr(e,i){if(e&1&&(s(0,"figure",44)(1,"figcaption",45)(2,"h3",46),_(3),g(4,"fdTranslate"),f(),s(5,"p",47),_(6),g(7,"fdTranslate"),f()()(),s(8,"div"),Kt(),s(9,"svg",48),M(10,"path",49)(11,"path",50)(12,"path",51)(13,"path",52)(14,"path",53)(15,"path",54)(16,"path",55),f()()),e&2){let o=c();p("svgConfig",o._emptyApprovalFlowSpotConfig),r(3),x(" ",v(4,5,"platformApprovalFlow.emptyTitle")," "),r(3),x(" ",v(7,7,"platformApprovalFlow.emptyHint")," "),r(2),et("display","none")}}var mr=0,Se=(()=>{let i=class i{constructor(a,n,t,l,d){this._dialogService=a,this._cdr=n,this._injector=t,this.providers=l,this._rtlService=d,this.checkDueDate=!1,this.dueDateThreshold=7,this.allowSendRemindersForStatuses=["in progress","not started"],this.isEditAvailable=!1,this.allowAddParallelNodes=!0,this.disableSaveButton=!1,this.disableExitButton=!1,this.nodeClick=new P,this.afterNodeAdd=new P,this.afterNodeEdit=new P,this.valueChange=new P,this.sendReminders=new P,this.onDataRequested=new P,this.onDataReceived=new P,this._isCarousel=!1,this._graphMetadata={},this._isEditMode=!1,this._usersForWatchersList=[],this._selectedWatchers=[],this._selectedWatcherIds=[],this._messages=[],this._displayUserFn=vt,this._userValueFn=Qo,this._trackByFn=de,this._emptyApprovalFlowSpotConfig={spot:{url:"",id:"sapIllus-Spot-NoData"}},this._multipleRootNodes=!1,this._multipleFinalNodes=!1,this._dragDropInProgress=!1,this.approvalFlowUniqueId=`fdp-approval-flow-${++mr}`,this._subscriptions=new ue,this._dataSourceChanged$=new zt,this._getNextHorizontalNode=(C,I,V)=>{let j=V==="right"?1:-1,R=this._graph.columns[I+j]?.nodes[C];if(R)return R.blank||R.space?this._getNextHorizontalNode(C,I+j,V):R},this._getNextVerticalNode=(C,I,V)=>{let j=V==="down"?1:-1,R=this._graph.columns[I].nodes[C+j];if(R)return R.blank||R.space?this._getNextVerticalNode(C+j,I,V):R},console.log("ApprovalFlowComponent is deprecated and will be removed in next release.")}get approvalProcess(){return z(this._approvalProcess)}get _rtl(){return this._rtlService?.rtl.getValue()}get _selectedNodes(){return Ee(this._graph).filter(a=>a.selected)}ngOnInit(){if(!this.userDataSource){let a=this.usersDataProviderEntityKey&&this.providers?.get(this.usersDataProviderEntityKey);a?this.userDataSource=new _e(a):console.error("Could not resolve users data source")}if(!this.watcherDataSource){let a=this.watchersDataProviderEntityKey&&this.providers?.get(this.watchersDataProviderEntityKey);a?this.watcherDataSource=new _e(a):console.error("Could not resolve watchers data source")}if(!this.teamDataSource){let a=this.teamsDataProviderEntityKey&&this.providers?.get(this.teamsDataProviderEntityKey);a?this.teamDataSource=new je(a):console.error("Could not resolve teams data source")}this._listenOnResize(),this._setupDataSourceSubscription()}ngOnChanges(a){if(a.value){let n=this.value??{watchers:[],nodes:[]};this._initialApprovalProcess=z(n),this._buildView(n)}(a.userDataSource||a.watcherDataSource||a.teamDataSource)&&this._dataSourceChanged$.next()}ngOnDestroy(){this._subscriptions.unsubscribe()}_isNextNodeBlank(a,n,t){let l=this._graph.columns[n+1]?.nodes[t],d=l?.blank,C=this._graphMetadata[l?.id]?.parallelEnd;return!a.blank&&!!d&&!C}_isCdkDragDisabled(a){return!this._isEditMode||a.blank||a.space||a.status!=="not started"}_onNodeClick(a){if(this._dragDropInProgress)return;this._dialogService.open(Ke,{data:Y({node:a,allowSendReminder:this.allowSendRemindersForStatuses.includes(a.status)},this._defaultDialogOptions)},this._injector).afterClosed.subscribe(t=>{Array.isArray(t)&&this.sendReminders.emit({users:t,node:a})}),this.nodeClick.emit(a)}_onNodeAdd(a){this.afterNodeAdd.emit(a)}_onNodeEdit(a){this.afterNodeEdit.emit(a)}_onNodeSelectionChange(a){this._graph.columns.forEach(n=>{n.nodes.forEach(t=>{t.selected=!!a.selection.find(l=>l.id===t.id)})})}_onWatcherClick(a,n){n.preventDefault(),this._dialogService.open(Ke,{data:Y({watcher:a},this._defaultDialogOptions)})}getNodeMetadataByNodeId(a){return this._graphMetadata[a]}nextSlide(a=1){let t=0;if(a===1){let l=this._carouselStepsRight===1,d=this._carouselStepsCount-this._carouselStepsRight+1;t=this._carouselStepSize*d+(l?0:1)-this._graphEl.nativeElement.clientWidth}else{let l=this._carouselStepsLeft===1,d=this._carouselStepsLeft-1;t=this._carouselStepSize*d-(l?0:1)}this._setScrollPosition(t),this._cdr.detectChanges()}_setScrollPosition(a){this._graphContainerEl.nativeElement.scrollTo({left:a,behavior:"smooth"})}_moveColInView(a){let n=this._graphEl.nativeElement.children[a].firstElementChild;if(!n)return;let{x:t,width:l}=n.getBoundingClientRect(),d=this._graphContainerEl.nativeElement.getBoundingClientRect().x,C=t-d,I=C+l;C<0?this._setScrollPosition(this._graphContainerEl.nativeElement.scrollLeft+C):I>this._graphEl.nativeElement.clientWidth&&this._setScrollPosition(this._graphContainerEl.nativeElement.scrollLeft+I-this._graphEl.nativeElement.clientWidth)}_onNodeKeyDown(a,n){if(!Ie.isKeyCode(a,[38,40,39,37]))return;let{nodeIndex:t,columnIndex:l}=this._graphMetadata[n.id];a.preventDefault();let d;typeof t=="number"&&typeof l=="number"&&(Ie.isKeyCode(a,38)?t>0&&(d=this._getNextVerticalNode(t,l,"up")):Ie.isKeyCode(a,40)?d=this._getNextVerticalNode(t,l,"down"):Ie.isKeyCode(a,37)?d=this._getNextHorizontalNode(t,l,this._rtl?"right":"left"):Ie.isKeyCode(a,39)&&(d=this._getNextHorizontalNode(t,l,this._rtl?"left":"right"))),d&&this._focusNode(d)}_enterEditMode(){this.watcherDataSource.match(),this._editModeInitSub=this.watcherDataSource.open().subscribe(a=>{this._usersForWatchersList=a,this._selectedWatchers=this._approvalProcess.watchers,this._selectedWatcherIds=this._selectedWatchers.map(n=>n.id),this._isEditMode=!0,this._initialApprovalProcess=z(this._approvalProcess),this._cdr.detectChanges()}),this._subscriptions.add(this._editModeInitSub)}_saveEditModeChanges(){this._editModeInitSub?.unsubscribe(),this.watcherDataSource.close(),this._initialApprovalProcess=void 0,this._isEditMode=!1,this._messages=[];let a=le(Y({},this._approvalProcess),{watchers:this._selectedWatchers});this._buildView(a),this.valueChange.emit(a)}_exitEditMode(){this._editModeInitSub?.unsubscribe(),this.watcherDataSource.close(),this._approvalProcess=z(this._initialApprovalProcess),this._initialApprovalProcess=void 0,this._isEditMode=!1,this._messages=[],this._buildView(this._approvalProcess)}_watchersSelectionChanged(a){let n=new Set(a);this._selectedWatchers=no(this._selectedWatchers.concat(this._usersForWatchersList).filter(t=>n.has(t.id)),t=>t.id)}_undoLastAction(){this._approvalProcess=z(this._previousApprovalProcess),this._previousApprovalProcess=void 0,this._buildView(this._approvalProcess)}_addNode(a,n){let t=n==="before"&&!a.actionsConfig?.disableAddParallel;this._dialogService.open(Ze,{data:Y({nodeTarget:n,showNodeTypeSelect:t,node:Object.assign(wt(),{blank:!1}),checkDueDate:this.checkDueDate},this._defaultDialogOptions)},this._injector).afterClosed.subscribe(d=>{if(!d)return;let{node:C,nodeType:I,toNextSerial:V}=d;if(C){switch(this._cacheCurrentApprovalProcess(),C.id=`tempId${(Math.random()*1e3).toFixed()}`,n){case"empty":this._enterEditMode();break;case"before":I===ie.SERIAL&&(C.targets=[a.id],this._replaceTargets(a.id,[C.id])),I===ie.PARALLEL&&this._processAddingParallelNode(C,a,V);break;case"before-all":C.targets=this._graph.columns[0].nodes.map(j=>j.id);break;case"after":C.targets=a.targets,a.targets=[C.id];break;case"after-all":{this._graphMetadata[a.targets[0]]?.parents?(C.targets=a.targets,this._replaceTargets(a.id,[C.id]),this._approvalProcess.nodes=this._approvalProcess.nodes.filter(G=>G.id!==a.id)):this._graph.columns[this._graph.columns.length-1].nodes.forEach(G=>G.targets.push(C.id));break}case"parallel":this._processAddingParallelNode(C,a,V);break}this._showMessage(C.approvalTeamId?"teamAddSuccess":"approverAddSuccess"),this._approvalProcess.nodes.push(C),this._buildView(this._approvalProcess),this._onNodeAdd(C)}})}_editNode(a){this._dialogService.open(Ze,{data:Y({isEdit:!0,node:Object.assign({},a),checkDueDate:this.checkDueDate},this._defaultDialogOptions)},this._injector).afterClosed.subscribe(t=>{let l=t?.node;l&&(this._cacheCurrentApprovalProcess(),this._updateNode(l),this._showMessage("nodeEdit"),this._buildView(this._approvalProcess),this._onNodeEdit(a))})}_onNodeDelete(a){this._cacheCurrentApprovalProcess(),this._deleteNode(a),this._showMessage(a.approvalTeamId?"teamRemove":"nodeRemove"),this._buildView(this._approvalProcess)}_deleteSelectedNodes(){this._cacheCurrentApprovalProcess(),this._nodeComponents.filter(n=>n._isSelected).map(n=>n.node).forEach(n=>{this._deleteNode(n),this._buildView(this._approvalProcess)}),this._showMessage("nodesRemove")}_onNodeDragMoved(a){let n=this._nodeComponents.find(t=>t.node===a)?._nativeElement.getBoundingClientRect();n&&this._nodeComponents.forEach(t=>{t.node!==a&&t._dropZones.length&&t._checkIfNodeDraggedInDropZone(n)})}_onNodeDrop(a,n){n.reset(),setTimeout(()=>this._dragDropInProgress=!1);let t=this._nodeComponents.find(d=>d._isAnyDropZoneActive);if(!t)return;this._cacheCurrentApprovalProcess();let l=t._activeDropZones[0].placement;if(this._nodeComponents.forEach(d=>d._deactivateDropZones()),l==="after"){this._deleteNode(a),this._buildView(this._approvalProcess);let d=Ee(this._graph).find(C=>C.id===t.node.targets[0]);d?.blank&&(this._deleteNode(d),this._buildView(this._approvalProcess)),a.targets=this._approvalProcess.nodes.find(C=>C.id===t.node.id)?.targets??[],t.node.targets=[a.id],this._finishDragDropProcess(a)}else if(l==="before")this._dialogService.open(St,void 0,this._injector).afterClosed.subscribe(C=>{if(!C)return;let{type:I,toNextSerial:V}=C;this._deleteNode(a),this._buildView(this._approvalProcess),I===ie.SERIAL&&(this._replaceTargets(t.node.id,[a.id]),a.targets=[t.node.id]),I===ie.PARALLEL&&this._processAddingParallelNode(a,t.node,V),this._finishDragDropProcess(a)});else if(l==="before-all"){this._deleteNode(a);let d=this._graph.columns[0].nodes;a.targets=d.map(C=>C.id),this._finishDragDropProcess(a)}else l==="after-all"&&(this._deleteNode(a),this._buildView(this._approvalProcess),a.targets=[...t.node.targets],t.node.targets.length===0?this._graph.columns[this._graph.columns.length-1].nodes.forEach(C=>C.targets.push(a.id)):(this._approvalProcess.nodes=this._approvalProcess.nodes.filter(d=>d.id!==t.node.id),this._replaceTargets(t.node.id,[a.id])),this._finishDragDropProcess(a))}_finishDragDropProcess(a){this._approvalProcess.nodes.push(a),this._buildView(this._approvalProcess)}_showMessage(a){this._messages=[{type:a}]}_buildView(a){if(a.nodes||(a.nodes=[]),a.watchers||(a.watchers=[]),this._approvalProcess=a,this._graph=Yo(this._approvalProcess.nodes),this._graph.errors){this._showMessage("error");return}this._graphMetadata=Jo(this._graph);let n=Ee(this._graph);this._approvalProcess.nodes=n.filter(t=>!t.space),this._multipleRootNodes=n.filter(t=>this._graphMetadata[t.id].isRoot).length>1,this._multipleFinalNodes=n.filter(t=>this._graphMetadata[t.id].isFinal).length>1,this._cdr.detectChanges(),this._gridList?.clearSelection(),this._isEditMode||this._setScrollPosition(0)}_listenOnResize(){this._subscriptions.add(Ft(Dt(window,"resize"),Dt(this._graphContainerEl.nativeElement,"scroll")).pipe($t(50,void 0,{leading:!0,trailing:!0})).subscribe(()=>{this._cdr.detectChanges()}))}_focusNode(a){let n=this._nodeComponents.find(t=>t.node===a);n&&(this._moveColInView(a.colIndex??0),n._focus({preventScroll:!0}))}_updateNode(a){let n=this._approvalProcess.nodes.findIndex(t=>t.id===a.id);n>-1&&(this._approvalProcess.nodes[n]=a)}_deleteNode(a){let n=[a],t=Ee(this._graph),l=t.find(R=>R.id===a.id),d;do l?.targets.length===1&&(d=t.find(R=>R.id===l?.targets[0]),d?.blank&&this._graphMetadata[d.id].parents.length===1&&(n.push(d),l=d,d=t.find(R=>R.id===l?.targets[0])));while(d?.blank&&this._graphMetadata[d.id].parents.length===1);let C=this._graphMetadata[a.id].parents[0],I=a.targets[0],V=this._graphMetadata[C?.id]?.parallelStart,j=this._graphMetadata[I]?.parallelEnd,G=V&&j||n.length>1?[]:l?.targets??[];this._replaceTargets(a.id,G),this._approvalProcess.nodes=this._approvalProcess.nodes.filter(R=>!n.includes(R))}_addParallelTargets(a,n){this._approvalProcess.nodes.forEach(t=>{Te(t,a)&&t.targets.push(n)})}_replaceTargets(a,n){this._approvalProcess.nodes.forEach(t=>{Te(t,a)&&(t.targets=t.targets.filter(l=>l!==a),t.targets.push(...n))})}_cacheCurrentApprovalProcess(){this._previousApprovalProcess=z(this._approvalProcess)}get _carouselStepSize(){return this._graphEl.nativeElement.scrollWidth/this._carouselStepsCount}get _scrollDiff(){return this._graphEl?this._graphEl.nativeElement.scrollWidth-this._graphEl.nativeElement.clientWidth:0}get _carouselStepsCount(){return this._graphEl.nativeElement.children.length}get _carouselStepsLeft(){return Math.ceil(this._graphContainerEl.nativeElement.scrollLeft/this._carouselStepSize)}get _carouselStepsRight(){return Math.ceil((this._scrollDiff-Math.round(this._graphContainerEl.nativeElement.scrollLeft))/this._carouselStepSize)}get _defaultDialogOptions(){return{teamDataSource:this.teamDataSource,userDataSource:this.userDataSource,userDetailsTemplate:this.userDetailsTemplate,rtl:this._rtl}}_findSerialNode(a,n){if(Number.isInteger(a)&&n?.some(d=>{let C=this._graphMetadata[d]?.nodeIndex;return Number.isInteger(C)&&C<=a-1}))return n??[];let l=this._approvalProcess.nodes.find(d=>d.id===n?.[0]);return this._findSerialNode(a,l?.targets)}_processAddingParallelNode(a,n,t=!1){if(a.targets=n.targets,this._addParallelTargets(n.id,a.id),t){let l=this._graphMetadata[n.id].nodeIndex,d=n.targets;if(l===0){let C=this._graphMetadata[n.id],V=(this._graph.columns?.[C.columnIndex]?.nodes).find((j,G)=>G>0&&!j.space);if(V){l=this._graphMetadata[V.id].columnIndex,d=V.targets,a.targets=this._findSerialNode(l,d);return}a.targets=n.targets;return}a.targets=this._findSerialNode(l,d)}}_setupDataSourceSubscription(){let a=this._dataSourceChanged$.pipe(It(null),Wt(()=>{let n=[this.teamDataSource,this.userDataSource,this.watcherDataSource].filter(Boolean).map(t=>Ft(t.onDataRequested().pipe(Nt(!0)),t.onDataReceived().pipe(Nt(!1))).pipe(It(t.isDataLoading)));return Je(n)}),jt(n=>n.some(Boolean)),Gt()).subscribe(n=>{n?this.onDataRequested.emit():this.onDataReceived.emit()});this._subscriptions.add(a)}};i.\u0275fac=function(n){return new(n||i)(L(fo),L(pe),L(Yt),L(wo,8),L(ot,8))},i.\u0275cmp=k({type:i,selectors:[["fdp-approval-flow"]],viewQuery:function(n,t){if(n&1&&(Q(qi,5),Q(Zi,5),Q(Ki,5),Q(Ye,5)),n&2){let l;W(l=$())&&(t._graphContainerEl=l.first),W(l=$())&&(t._graphEl=l.first),W(l=$())&&(t._gridList=l.first),W(l=$())&&(t._nodeComponents=l)}},inputs:{title:"title",value:"value",userDataSource:"userDataSource",watcherDataSource:"watcherDataSource",teamDataSource:"teamDataSource",userDetailsTemplate:"userDetailsTemplate",approvalStatusTemplate:"approvalStatusTemplate",statusColorMapping:"statusColorMapping",checkDueDate:"checkDueDate",dueDateThreshold:"dueDateThreshold",allowSendRemindersForStatuses:"allowSendRemindersForStatuses",isEditAvailable:"isEditAvailable",watchersLabel:"watchersLabel",allowAddParallelNodes:"allowAddParallelNodes",disableSaveButton:"disableSaveButton",disableExitButton:"disableExitButton",usersDataProviderEntityKey:"usersDataProviderEntityKey",teamsDataProviderEntityKey:"teamsDataProviderEntityKey",watchersDataProviderEntityKey:"watchersDataProviderEntityKey"},outputs:{nodeClick:"nodeClick",afterNodeAdd:"afterNodeAdd",afterNodeEdit:"afterNodeEdit",valueChange:"valueChange",sendReminders:"sendReminders",onDataRequested:"onDataRequested",onDataReceived:"onDataReceived"},standalone:!0,features:[eo([At]),De,B],decls:13,vars:10,consts:[["fdCompact",""],[3,"messages","undoLastActionAvailable","messagesChange","undoLastAction"],[1,"fdp-approval-flow__toolbar",3,"selectionMode","selectionChange"],["gridList",""],[3,"title"],[3,"graph","selectedNodes","graphMetadata","isEditMode","enterEditMode","addNode","editSelectedNode","deleteSelectedNodes",4,"ngIf"],["class","fdp-approval-flow__watchers",4,"ngIf"],[4,"ngIf"],["fd-bar","",4,"ngIf"],["emptyApprovalFlowGraph",""],[3,"graph","selectedNodes","graphMetadata","isEditMode","enterEditMode","addNode","editSelectedNode","deleteSelectedNodes"],[1,"fdp-approval-flow__watchers"],[1,"fdp-approval-flow__watchers-title"],["class","fdp-approval-flow__watchers-input-container",4,"ngIf"],["size","xs",3,"image","label","clickable","circle","avatarClicked",4,"ngFor","ngForOf","ngForTrackBy"],["size","xs",3,"image","label","clickable","circle","avatarClicked"],[1,"fdp-approval-flow__watchers-input-container"],[3,"dropdownValues","placeholder","displayFn","valueFn","showAllButton","ngModel","ngModelChange"],[4,"ngIf","ngIfElse"],[1,"fdp-approval-flow__container"],["class","fdp-approval-flow-carousel-controls",3,"fdp-approval-flow-carousel-controls--edit-mode",4,"ngIf"],[1,"fdp-approval-flow__graph-container"],["graphContainerEl",""],[1,"fdp-approval-flow__graph"],["graphEl",""],["class","fdp-approval-flow__graph-column",4,"ngFor","ngForOf"],[1,"fdp-approval-flow-carousel-controls"],["class","fdp-approval-flow-carousel-controls__button--prev-slide",3,"click",4,"ngIf"],["class","fdp-approval-flow-carousel-controls__button--next-slide",3,"click",4,"ngIf"],[1,"fdp-approval-flow-carousel-controls__button--prev-slide",3,"click"],[3,"glyph"],[1,"fdp-approval-flow-carousel-controls__button--next-slide",3,"click"],[1,"fdp-approval-flow__graph-column"],["cdkDrag","",3,"cdkDragDisabled","node","meta","isEdit","isNextNodeBlank","checkDueDate","dueDateThreshold","renderArrow","allNodesInColumnApproved","approvalStatusTemplate","statusColorMapping","onAdd","onEdit","onDelete","keydown","cdkDragStarted","cdkDragReleased","cdkDragMoved",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",3,"cdkDragDisabled","node","meta","isEdit","isNextNodeBlank","checkDueDate","dueDateThreshold","renderArrow","allNodesInColumnApproved","approvalStatusTemplate","statusColorMapping","onAdd","onEdit","onDelete","keydown","cdkDragStarted","cdkDragReleased","cdkDragMoved"],["approvalFlowNode",""],["type","active",1,"fdp-approval-flow__graph-node-inner",3,"value","selected","ariaLabelledBy","disableToolbarClick","press"],["fd-grid-list-item-image","","size","xs",3,"image","label","circle"],["fd-grid-list-item-body",""],[3,"ngTemplateOutlet"],["fd-bar",""],["fd-bar-right",""],["fd-button","","fdType","emphasized",3,"label","disabled","click"],["fd-button","","fdType","transparent",3,"label","disabled","click"],["fd-illustrated-message","","type","spot",3,"svgConfig"],["fd-illustrated-message-figcaption",""],["fd-illustrated-message-title",""],["fd-illustrated-message-text",""],["xmlns","http://www.w3.org/2000/svg","width","128","height","128","viewBox","0 0 128 128","id","sapIllus-Spot-NoData"],["d","M41.6179,32.7174H84.6273a1,1,0,0,1,.723.3092l7.2445,7.5824,7.4817,7.8491a1,1,0,0,1,.2761.69l-.0046,55.6069a4.1038,4.1038,0,0,1-.8787,2.1212A4.0564,4.0564,0,0,1,98.1,107.9631l-56.3858.0313a2.6167,2.6167,0,0,1-3.0812-3.2309l-.0152-69.0594Z",1,"sapIllus_PatternShadow",2,"fill","var(--sapIllus_PatternShadow)"],["d","M35.7928,27.4987H78.8022a1,1,0,0,1,.723.3092L86.77,35.39l7.4816,7.8492a1,1,0,0,1,.2762.69l-.0046,55.6069a3,3,0,0,1-3,3H35.808a2.9946,2.9946,0,0,1-3-2.9913c-.01-12.0564-.0423-57.0116-.0152-69.0595A2.9943,2.9943,0,0,1,35.7928,27.4987Z",1,"sapIllus_ObjectFillColor",2,"fill","var(--sapIllus_ObjectFillColor)"],["d","M93.2978,44.5335H78.8208a.9925.9925,0,0,1-.974-1.01V28.5108a.97.97,0,0,1,1.6628-.7143L93.9865,42.8092A1.0151,1.0151,0,0,1,93.2978,44.5335Z",1,"sapIllus_BrandColorSecondary",2,"fill","var(--sapIllus_BrandColorSecondary)"],["d","M104.608,38.9485l5.9157-1.7721c1.32-.3954.7584-2.5258-.5689-2.1282L104.0392,36.82c-1.32.3953-.7584,2.5258.5688,2.1282Z",1,"sapIllus_Layering1",2,"fill","var(--sapIllus_Layering1)"],["d","M85.2973,21.2465l.9718-5.9331c.2154-1.3151-1.777-1.8807-1.9941-.5554l-.9718,5.9332c-.2155,1.3151,1.777,1.8807,1.9941.5553Z",1,"sapIllus_Layering1",2,"fill","var(--sapIllus_Layering1)"],["d","M95.3034,29.0015a1.01,1.01,0,0,1-.6837-.267,1.0783,1.0783,0,0,1-.0864-1.4932l5.9511-6.8857a1.01,1.01,0,0,1,1.4538-.0884,1.0785,1.0785,0,0,1,.0865,1.4932l-5.9511,6.8858A1.0164,1.0164,0,0,1,95.3034,29.0015Z",1,"sapIllus_Layering1",2,"fill","var(--sapIllus_Layering1)"],["d","M94.8747,42.8861,80.0855,27.4623a1.5152,1.5152,0,0,0-1.0885-.4636H35.807a3.509,3.509,0,0,0-3.5146,3.4836c-.0294,13.2857.0137,66.7559.0157,69.0257a3.5076,3.5076,0,0,0,3.5146,3.4894H91.7709a3.5106,3.5106,0,0,0,3.5146-3.4982l.005-55.5785A1.49,1.49,0,0,0,94.8747,42.8861Zm-16.21-14.8355a1.15,1.15,0,0,1,.2561-.0309,1.04,1.04,0,0,1,.51.2134l14.276,14.8837.0194.02a.5891.5891,0,0,1,.0968.6251c-.1016.1764-.4086.24-.69.24L78.8355,44a.6031.6031,0,0,1-.5472-.6131c-.0087-4.9588-.017-9.9015-.0035-14.8689A.5189.5189,0,0,1,78.6646,28.0506Zm13.1062,73.95H35.8188a2.5045,2.5045,0,0,1-2.5107-2.491c-.002-2.2694-.0451-55.74-.0157-69.0248a2.5054,2.5054,0,0,1,2.5107-2.4861H77.3684a1.49,1.49,0,0,0-.0976.5106V43.4934A1.5145,1.5145,0,0,0,78.7894,45H78.92L94.286,47.9749l-.0046,51.5269A2.5074,2.5074,0,0,1,91.7708,102.0006Z",1,"sapIllus_StrokeDetailColor",2,"fill","var(--sapIllus_StrokeDetailColor)"]],template:function(n,t){n&1&&(b(0,0),s(1,"fdp-approval-flow-messages",1),u("messagesChange",function(d){return t._messages=d})("undoLastAction",function(){return t._undoLastAction()}),f(),s(2,"fd-grid-list",2,3),u("selectionChange",function(d){return t._onNodeSelectionChange(d)}),s(4,"fd-grid-list-title-bar",4),g(5,"fdTranslate"),M(6,"fd-grid-list-title-bar-spacer"),m(7,Yi,1,4,"fdp-approval-flow-toolbar-actions",5),f(),m(8,tr,6,6,"div",6),m(9,sr,2,2,"ng-container",7),f(),m(10,fr,8,8,"div",8),m(11,cr,17,9,"ng-template",null,9,U),A()),n&2&&(r(1),p("messages",t._messages)("undoLastActionAvailable",!!t._previousApprovalProcess),r(1),p("selectionMode",t._isEditMode?"multiSelect":"none"),r(2),p("title",t.title||v(5,8,"platformApprovalFlow.defaultTitle")),r(3),p("ngIf",t.isEditAvailable),r(1),p("ngIf",(t._approvalProcess==null||t._approvalProcess.watchers==null?null:t._approvalProcess.watchers.length)||t._isEditMode),r(1),p("ngIf",!t._graph.errors),r(1),p("ngIf",t._isEditMode))},dependencies:[q,Xo,Vo,Lo,Bo,O,ta,J,ft,Ae,te,X,ee,be,Ye,io,_t,Po,Ne,Ro,ko,lo,so,po,Be,zo,jo,Wo,Go,Z],styles:[`.fd-scrollbar{-webkit-box-sizing:border-box;border:0;box-sizing:border-box;color:var(--sapTextColor);font-family:var(--sapFontFamily);font-size:var(--sapFontSize);font-weight:400;forced-color-adjust:none;line-height:var(--sapContent_LineHeight);margin:0;overflow:auto;padding:0;scrollbar-color:var(--fdScrollbar_Thumb_Color) var(--fdScrollbar_Track_Color)}.fd-scrollbar:after,.fd-scrollbar:before{-webkit-box-sizing:inherit;box-sizing:inherit;font-size:inherit}.fd-scrollbar.is-focus,.fd-scrollbar:focus{outline:none;z-index:5}.fd-scrollbar::-webkit-scrollbar{height:var(--fdScrollbar_Dimension);width:var(--fdScrollbar_Dimension)}.fd-scrollbar::-webkit-scrollbar-corner,.fd-scrollbar::-webkit-scrollbar-track{background-color:var(--fdScrollbar_Track_Color)}.fd-scrollbar::-webkit-scrollbar-thumb{-webkit-box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Color);background-color:transparent;border:var(--fdScrollbar_Thumb_Offset) solid transparent;border-radius:calc(var(--fdScrollbar_Thumb_Border_Radius) - var(--fdScrollbar_Thumb_Offset));box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Color)}.fd-scrollbar::-webkit-scrollbar-thumb:active,.fd-scrollbar::-webkit-scrollbar-thumb:hover{-webkit-box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Hover_Color);box-shadow:inset 0 0 0 var(--fdScrollbar_Dimension) var(--fdScrollbar_Thumb_Hover_Color)}.fd-scrollbar--container::-webkit-scrollbar-corner,.fd-scrollbar--container::-webkit-scrollbar-track{background-color:var(--fdScrollbar_Track_Color);border-radius:0 var(--fdScrollbar_Border_Radius) var(--fdScrollbar_Border_Radius) 0}.fd-scrollbar--container[dir=rtl]::-webkit-scrollbar-corner,.fd-scrollbar--container[dir=rtl]::-webkit-scrollbar-track,[dir=rtl] .fd-scrollbar--container::-webkit-scrollbar-corner,[dir=rtl] .fd-scrollbar--container::-webkit-scrollbar-track{border-radius:var(--fdScrollbar_Border_Radius) 0 0 var(--fdScrollbar_Border_Radius)}.fdp-approval-flow__watchers{margin-bottom:.5rem;padding-left:.5rem}.fdp-approval-flow__watchers-title{font-size:.875em;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);margin:1rem 0 .5rem}.fdp-approval-flow__watchers fd-avatar{margin-right:.5rem;cursor:pointer}.fdp-approval-flow__watchers fd-avatar:focus{outline-offset:.0625rem;outline-width:.0625rem;outline-style:dotted;outline-color:var(--sapContent_FocusColor, #0854a0)}.fdp-approval-flow__watchers .fdp-approval-flow__watchers-input-container{width:17.375rem}[dir=rtl] .fdp-approval-flow__watchers,.fdp-approval-flow__watchers[dir=rtl]{padding-right:.5rem}[dir=rtl] .fdp-approval-flow__watchers fd-avatar,.fdp-approval-flow__watchers[dir=rtl] fd-avatar{margin-left:.5rem;margin-right:0}.fdp-approval-flow__container{max-width:100%;position:relative;padding:0 .5rem}.fdp-approval-flow__container--extra-padding-start{padding-left:2rem}.fdp-approval-flow__container--extra-padding-end{padding-right:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-start,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-start{padding-left:.5rem;padding-right:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-end,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-end{padding-right:.5rem;padding-left:2rem}[dir=rtl] .fdp-approval-flow__container.fdp-approval-flow__container--extra-padding-start.fdp-approval-flow__container--extra-padding-end,.fdp-approval-flow__container[dir=rtl].fdp-approval-flow__container--extra-padding-start.fdp-approval-flow__container--extra-padding-end{padding-right:2rem;padding-left:2rem}.fdp-approval-flow__graph-container{position:relative;overflow:auto;padding-top:.5rem;padding-bottom:2rem;padding-left:2rem}.fdp-approval-flow__graph-container--multiple-root-nodes{padding-left:4rem}[dir=rtl] .fdp-approval-flow__graph-container--multiple-root-nodes,.fdp-approval-flow__graph-container--multiple-root-nodes[dir=rtl]{padding-right:2rem}[dir=rtl] .fdp-approval-flow__graph-container--multiple-final-nodes,.fdp-approval-flow__graph-container--multiple-final-nodes[dir=rtl]{padding-left:0}.fdp-approval-flow-carousel-controls{position:absolute;display:flex;align-items:center;width:100%;height:6.375rem;padding-top:.5rem;left:0}.fdp-approval-flow-carousel-controls--edit-mode{height:8.375rem}.fdp-approval-flow-carousel-controls__button--prev-slide,.fdp-approval-flow-carousel-controls__button--next-slide{position:absolute;border:none;background:transparent;color:#6a6d70;color:var(--sapContent_LabelColor, #6a6d70);display:flex;justify-content:space-between;width:2rem;align-items:center;cursor:pointer}.fdp-approval-flow-carousel-controls__button--prev-slide fd-icon,.fdp-approval-flow-carousel-controls__button--next-slide fd-icon{font-size:.875rem;color:#0854a0;color:var(--sapButton_IconColor, #0854a0);position:relative;top:.0625rem}.fdp-approval-flow-carousel-controls__button--prev-slide{left:0}[dir=rtl] .fdp-approval-flow-carousel-controls__button--prev-slide,.fdp-approval-flow-carousel-controls__button--prev-slide[dir=rtl]{left:auto;right:0}.fdp-approval-flow-carousel-controls__button--next-slide{right:0}[dir=rtl] .fdp-approval-flow-carousel-controls__button--next-slide,.fdp-approval-flow-carousel-controls__button--next-slide[dir=rtl]{left:0;right:auto}.fdp-approval-flow__graph{display:flex;align-items:flex-start;position:relative;left:0;transition:left .3s}.fdp-approval-flow__graph-column{margin-right:4rem;position:relative}[dir=rtl] .fdp-approval-flow__graph-column:first-child,.fdp-approval-flow__graph-column[dir=rtl]:first-child{margin-right:2rem}.fdp-approval-flow__graph fdp-approval-flow-node+fdp-approval-flow-node:not(:last-child){margin-bottom:1rem}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner{padding:0}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content{margin-left:auto}[dir=rtl] .fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content,.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--extra-content[dir=rtl]{margin-left:0;margin-right:auto}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner .fd-grid-list__item-toolbar .fd-toolbar--actions{display:none}.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner:not(.fdp-approval-flow__graph .fdp-approval-flow__graph-node-inner--edit) .fd-toolbar.fd-grid-list__item-toolbar{display:none}.cdk-overlay-container{z-index:1002!important}
/*!
 * Fundamental Library Styles v0.32.0
 * Copyright (c) 2023 SAP SE or an SAP affiliate company.
 * Licensed under Apache License 2.0 (https://github.com/SAP/fundamental-styles/blob/main/LICENSE)
 */
`],encapsulation:2,changeDetection:0});let e=i;return e})();var xt=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=qt({type:i}),i.\u0275inj=Ht({imports:[Se,Ye,Ke,Ze,We,Ct,St]});let e=i;return e})();var ur=["reminderTemplate"];function gr(e,i){e&1&&(b(0),_(1),A()),e&2&&(r(1),N("Approved"))}function vr(e,i){e&1&&(b(0),_(1),A()),e&2&&(r(1),N("Rejected"))}function hr(e,i){e&1&&(b(0),_(1),A()),e&2&&(r(1),N("In progress"))}function wr(e,i){e&1&&(b(0),_(1),A()),e&2&&(r(1),N("Not started"))}function Cr(e,i){e&1&&(b(0),_(1),A()),e&2&&(r(1),N("Denied"))}function br(e,i){e&1&&(b(0),_(1),A()),e&2&&(r(1),N("Withdrawn"))}function Ar(e,i){if(e&1&&(b(0,25),m(1,gr,2,1,"ng-container",26),m(2,vr,2,1,"ng-container",26),m(3,hr,2,1,"ng-container",26),m(4,wr,2,1,"ng-container",26),m(5,Cr,2,1,"ng-container",26),m(6,br,2,1,"ng-container",26),A()),e&2){let o=i.node;p("ngSwitch",o.status),r(1),p("ngSwitchCase","approved"),r(1),p("ngSwitchCase","rejected"),r(1),p("ngSwitchCase","in progress"),r(1),p("ngSwitchCase","not started"),r(1),p("ngSwitchCase","denied"),r(1),p("ngSwitchCase","withdrawn")}}function Sr(e,i){if(e&1&&(s(0,"p",30)(1,"span"),_(2,"Mobile"),f(),s(3,"a",31),_(4),f()()),e&2){let o=c().data;r(3),p("href","tel:"+o.phone,ve),r(1),N(o.phone)}}function xr(e,i){if(e&1&&(s(0,"p",30)(1,"span"),_(2,"Phone"),f(),s(3,"a",31),_(4),f()()),e&2){let o=c().data;r(3),p("href","tel:"+o.phone,ve),r(1),N(o.phone)}}function Er(e,i){if(e&1&&(s(0,"p",30)(1,"span"),_(2,"E-mail"),f(),s(3,"a",31),_(4),f()()),e&2){let o=c().data;r(3),p("href","mailto:"+o.email,ve),r(1),N(o.email)}}function Tr(e,i){if(e&1&&(s(0,"h4",27),_(1,"Contact info"),f(),m(2,Sr,5,2,"p",28),m(3,xr,5,2,"p",28),m(4,Er,5,2,"p",28),s(5,"h4",29),_(6,"Company"),f(),s(7,"p",30)(8,"span"),_(9,"Name"),f(),s(10,"span"),_(11),f()(),s(12,"p",30)(13,"span"),_(14,"Address"),f(),s(15,"span"),_(16,"481 West Street, Anytown OH, 83749, USA"),f()()),e&2){let o=i.data;r(2),p("ngIf",o==null?null:o.phone),r(1),p("ngIf",o==null?null:o.phone),r(1),p("ngIf",o==null?null:o.email),r(7),x("Company A",o==null?null:o.email,"")}}function yr(e,i){if(e&1&&(b(0),_(1),A()),e&2){let o=c().$implicit;r(1),x(" Reminder has been sent to ",o.data.targets[0].name," ")}}function Dr(e,i){if(e&1&&_(0),e&2){let o=c().$implicit;he(" Reminder has been sent to ",o.data.targets.length," members of ",o.data.node.description," ")}}function Fr(e,i){if(e&1&&(m(0,yr,2,1,"ng-container",32),m(1,Dr,1,2,"ng-template",null,33,U)),e&2){let o=i.$implicit,a=E(2);p("ngIf",o.data.targets.length===1)("ngIfElse",a)}}function Nr(e,i){if(e&1&&(s(0,"option",34),_(1),g(2,"titlecase"),f()),e&2){let o=i.$implicit;p("value",o),r(1),N(v(2,2,o))}}var aa=(()=>{let i=class i{constructor(a){this._messageToastService=a,this.graphs=Lr(),this.examples=["empty","simple","medium","complex"],this.selectedExample="complex",this.approvalProcess=this.graphs[this.selectedExample],this.userDataSource=new _e(new Et),this.watcherDataSource=new _e(new Et),this.teamDataSource=new je(new Rt),this.checkDueDate=!1,this.setNotStartedStatuses=!1,this.editModeEnabled=!0,this.nodeActionsDisabled=!1,this.nodeActionsConfig={disableAddBefore:!1,disableAddAfter:!1,disableAddParallel:!1,disableEdit:!1,disableRemove:!1},this.nodeActionsConfigForNewNodes={disableAddBefore:!1,disableAddAfter:!1,disableAddParallel:!1},this.allStatuses=["in progress","not started","approved","rejected","denied","withdrawn"],this.sendReminderStatuses=["in progress","not started"],this.disableSaveButton=!1,this.disableExitButton=!1,this.colorMapping={approved:"positive",rejected:"negative","in progress":"informative","not started":"neutral",denied:"critical",withdrawn:"negative"},this._subscriptions=new ue,this.newNodes=new Map}ngOnDestroy(){this._subscriptions.unsubscribe()}valueChanged(a){console.log("valueChanged",a)}sendReminders(a){this._messageToastService.open(this._reminderTemplate,{data:{targets:a.users,node:a.node},duration:5e3})}changeExampleData(){this.approvalProcess=z(this.graphs[this.selectedExample])}toggleNodeActions(a){let n=this._approvalFlow.approvalProcess,t=z(n);t.nodes.forEach(l=>{l.disableActions=a}),this.approvalProcess=t}toggleSpecificNodeAction(a,n){let t=this._approvalFlow.approvalProcess,l=z(t);l.nodes.forEach(d=>{d.actionsConfig=le(Y({},d.actionsConfig),{[a]:n})}),this.approvalProcess=l}newNodeSettingsChange(){this._approvalFlow.approvalProcess.nodes.forEach(n=>{if(this.newNodes.has(n.id)){let t=this._approvalFlow.getNodeMetadataByNodeId(n.id);t.canAddNodeAfter=!this.nodeActionsConfigForNewNodes.disableAddAfter,t.canAddNodeBefore=!this.nodeActionsConfigForNewNodes.disableAddBefore,t.canAddParallel=!this.nodeActionsConfigForNewNodes.disableAddParallel}})}nodeClick(a){console.log("Node click handler",a)}afterNodeAdd(a){console.log("After node add handler",a),this.newNodes.set(a.id,a),this.newNodeSettingsChange()}afterNodeEdit(a){console.log("After node edit handler",a),this.newNodeSettingsChange()}setNotStarted(){let a=this._approvalFlow.approvalProcess,n=new Map(this.graphs[this.selectedExample].nodes.map(l=>[l.id,l])),t=z(a);t.nodes=t.nodes.map(l=>{let d=this.setNotStartedStatuses||!n.has(l.id)?"not started":n.get(l.id).status;return le(Y({},l),{status:d})}),this.approvalProcess=t}};i.\u0275fac=function(n){return new(n||i)(L(mt))},i.\u0275cmp=k({type:i,selectors:[["fdp-platform-approval-flow-status-example"]],viewQuery:function(n,t){if(n&1&&(Q(Se,5),Q(ur,5)),n&2){let l;W(l=$())&&(t._approvalFlow=l.first),W(l=$())&&(t._reminderTemplate=l.first)}},standalone:!0,features:[B],decls:70,vars:38,consts:[["title","Basic Approval Flow Demo",3,"value","userDetailsTemplate","approvalStatusTemplate","statusColorMapping","userDataSource","watcherDataSource","teamDataSource","checkDueDate","allowSendRemindersForStatuses","isEditAvailable","disableSaveButton","disableExitButton","nodeClick","afterNodeAdd","afterNodeEdit","valueChange","sendReminders"],["approvalStatusTemplate",""],["userDetailsTemplate",""],["reminderTemplate",""],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","checkbox",3,"ngModel","ngModelChange"],["id","disableAddingNodeBefore","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeBefore"],["id","disableAddingNodeAfter","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeAfter"],["id","disableAddingNodeParallel","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeParallel"],["id","disableEditingNode","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableEditingNode"],["id","disableRemovingNode","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableRemovingNode"],[2,"display","flex","align-items","center","flex-wrap","wrap"],["fdCompact","",2,"margin-left","0.5rem",3,"dropdownValues","ngModel","ngModelChange"],["id","disableAddingNodeBeforeForNewNodes","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeBeforeForNewNodes"],["id","disableAddingNodeAfterForNewNodes","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeAfterForNewNodes"],["id","disableAddingNodeParallelForNewNodes","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeParallelForNewNodes"],[3,"ngSwitch"],[4,"ngSwitchCase"],[2,"margin-bottom","1rem"],["style","display: flex; flex-direction: column",4,"ngIf"],[2,"margin-top","1.5rem","margin-bottom","1rem"],[2,"display","flex","flex-direction","column"],[3,"href"],[4,"ngIf","ngIfElse"],["multipleReceivers",""],[3,"value"]],template:function(n,t){if(n&1&&(s(0,"fdp-approval-flow",0),u("nodeClick",function(d){return t.nodeClick(d)})("afterNodeAdd",function(d){return t.afterNodeAdd(d)})("afterNodeEdit",function(d){return t.afterNodeEdit(d)})("valueChange",function(d){return t.valueChanged(d)})("sendReminders",function(d){return t.sendReminders(d)}),f(),m(1,Ar,7,7,"ng-template",null,1,U),m(3,Tr,17,4,"ng-template",null,2,U),m(5,Fr,3,2,"ng-template",null,3,U),s(7,"p"),_(8," Selected example: "),s(9,"select",4),u("ngModelChange",function(d){return t.selectedExample=d})("ngModelChange",function(){return t.changeExampleData()}),m(10,Nr,3,4,"option",5),f()(),s(11,"p"),_(12,'Enable "Edit mode": '),s(13,"input",6),u("ngModelChange",function(d){return t.editModeEnabled=d}),f()(),s(14,"p"),_(15,"Enable due date warnings: "),s(16,"input",6),u("ngModelChange",function(d){return t.checkDueDate=d}),f()(),s(17,"p"),_(18,' Set all statuses to "Not Started": '),s(19,"input",6),u("ngModelChange",function(d){return t.setNotStartedStatuses=d})("ngModelChange",function(){return t.setNotStarted()}),f()(),s(20,"p"),_(21," Disable all node actions: "),s(22,"input",6),u("ngModelChange",function(d){return t.nodeActionsDisabled=d})("ngModelChange",function(d){return t.toggleNodeActions(d)}),f()(),s(23,"p"),_(24,"Disable certain node actions:"),f(),s(25,"div")(26,"p")(27,"input",7),u("ngModelChange",function(d){return t.nodeActionsConfig.disableAddBefore=d})("ngModelChange",function(d){return t.toggleSpecificNodeAction("disableAddBefore",d)}),f(),s(28,"label",8),_(29,"Disable adding before"),f()(),s(30,"p")(31,"input",9),u("ngModelChange",function(d){return t.nodeActionsConfig.disableAddAfter=d})("ngModelChange",function(d){return t.toggleSpecificNodeAction("disableAddAfter",d)}),f(),s(32,"label",10),_(33,"Disable adding after"),f()(),s(34,"p")(35,"input",11),u("ngModelChange",function(d){return t.nodeActionsConfig.disableAddParallel=d})("ngModelChange",function(d){return t.toggleSpecificNodeAction("disableAddParallel",d)}),f(),s(36,"label",12),_(37,"Disable adding parallel"),f()(),s(38,"p")(39,"input",13),u("ngModelChange",function(d){return t.nodeActionsConfig.disableEdit=d})("ngModelChange",function(d){return t.toggleSpecificNodeAction("disableEdit",d)}),f(),s(40,"label",14),_(41,"Disable editing"),f()(),s(42,"p")(43,"input",15),u("ngModelChange",function(d){return t.nodeActionsConfig.disableRemove=d})("ngModelChange",function(d){return t.toggleSpecificNodeAction("disableRemove",d)}),f(),s(44,"label",16),_(45,"Disable removing"),f()()(),s(46,"p",17),_(47," Allow sending reminders to approvers with statuses: "),s(48,"fd-multi-input",18),u("ngModelChange",function(d){return t.sendReminderStatuses=d}),f()(),s(49,"p"),_(50,"Disable certain node actions for newly added nodes:"),f(),s(51,"div")(52,"p")(53,"input",19),u("ngModelChange",function(d){return t.nodeActionsConfigForNewNodes.disableAddBefore=d})("ngModelChange",function(){return t.newNodeSettingsChange()}),f(),s(54,"label",20),_(55,"Disable adding before"),f()(),s(56,"p")(57,"input",21),u("ngModelChange",function(d){return t.nodeActionsConfigForNewNodes.disableAddAfter=d})("ngModelChange",function(){return t.newNodeSettingsChange()}),f(),s(58,"label",22),_(59,"Disable adding after"),f()(),s(60,"p")(61,"input",23),u("ngModelChange",function(d){return t.nodeActionsConfigForNewNodes.disableAddParallel=d})("ngModelChange",function(){return t.newNodeSettingsChange()}),f(),s(62,"label",24),_(63,"Disable adding parallel"),f()()(),s(64,"p"),_(65,'Disable "Save" button: '),s(66,"input",6),u("ngModelChange",function(d){return t.disableSaveButton=d}),f()(),s(67,"p"),_(68,'Disable "Exit" button: '),s(69,"input",6),u("ngModelChange",function(d){return t.disableExitButton=d}),f()()),n&2){let l=E(2),d=E(4);p("value",t.approvalProcess)("userDetailsTemplate",d)("approvalStatusTemplate",l)("statusColorMapping",t.colorMapping)("userDataSource",t.userDataSource)("watcherDataSource",t.watcherDataSource)("teamDataSource",t.teamDataSource)("checkDueDate",t.checkDueDate)("allowSendRemindersForStatuses",t.sendReminderStatuses)("isEditAvailable",t.editModeEnabled)("disableSaveButton",t.disableSaveButton)("disableExitButton",t.disableExitButton),r(9),p("ngModel",t.selectedExample),r(1),p("ngForOf",t.examples),r(3),p("ngModel",t.editModeEnabled),r(3),p("ngModel",t.checkDueDate),r(3),p("ngModel",t.setNotStartedStatuses),r(3),p("ngModel",t.nodeActionsDisabled),r(5),p("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableAddBefore),r(4),p("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableAddAfter),r(4),p("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableAddParallel),r(4),p("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableEdit),r(4),p("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableRemove),r(5),p("dropdownValues",t.allStatuses)("ngModel",t.sendReminderStatuses),r(5),p("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfigForNewNodes.disableAddBefore),r(4),p("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfigForNewNodes.disableAddAfter),r(4),p("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfigForNewNodes.disableAddParallel),r(5),p("ngModel",t.disableSaveButton),r(3),p("ngModel",t.disableExitButton)}},dependencies:[xt,Se,we,Ce,O,te,rt,lt,nt,it,X,ee,J,Ae,q,tt],encapsulation:2});let e=i;return e})(),Ir=1e3*60*60*24,Lt=()=>[{id:"uid28141",teamId:"teamId3",name:"Luis Franklin",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/men/91.jpg"},{id:"uid08141",teamId:"teamId3",name:"Renee Miles",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/11.jpg"},{id:"uid99641",teamId:"teamId3",name:"Elaine Myers",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/75.jpg"},{id:"uid38141",teamId:"teamId4",name:"Emma Cole",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/91.jpg"},{id:"uid37866",teamId:"teamId4",name:"Daniel Sullivan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/9.jpg"},{id:"uid09141",teamId:"teamId4",name:"Salvador Duncan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/14.jpg"},{id:"uid09641",teamId:"teamId4",name:"Caleb Taylor",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/17.jpg"},{id:"uid99651",teamId:"teamId4",name:"Julie Peters",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/77.jpg"},{id:"uid99655",teamId:"teamId4",name:"Fred Gibson",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/45.jpg"},{id:"uid81355",teamId:"teamId4",name:"George Carter",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/85.jpg"},{id:"uid81353",teamId:"teamId4",name:"Lillian Walker",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/25.jpg"},{id:"uid81955",teamId:"teamId2",name:"Josephine Carlson",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/women/88.jpg"},{id:"uid77135",teamId:"teamId2",name:"Tristan Sutton",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/5.jpg"},{id:"uid77115",teamId:"teamId2",name:"Alvin Stephens",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/78.jpg"},{id:"uid77111",teamId:"teamId2",name:"Logan Herrera",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/53.jpg"},{id:"uid66141",teamId:"teamId1",name:"Melissa Martin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/87.jpg"},{id:"uid66151",teamId:"teamId1",name:"Sofia Hanson",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/24.jpg"},{id:"uid66161",teamId:"teamId1",name:"Jill Fuller",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/64.jpg"},{id:"uid66171",teamId:"teamId1",name:"Ella Franklin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/55.jpg"}],na={};Lt().forEach(e=>na[e.id]=e);var Mr=()=>[{id:"teamId1",name:"Accounting team",description:"",members:["uid66171","uid66161","uid66151","uid66141"].map(e=>T(e))},{id:"teamId2",name:"Sales team",description:"",members:["uid77111","uid77115","uid77135","uid81955"].map(e=>T(e))},{id:"teamId3",name:"Legal team",description:"",members:["uid28141","uid08141","uid99641"].map(e=>T(e))},{id:"teamId4",name:"Marketing team",description:"",members:["uid38141","uid37866","uid09141","uid81353","uid81355","uid99655","uid09641","uid99651"].map(e=>T(e))}],kr=()=>({watchers:[T("uid66161")],nodes:[]}),Pr=()=>({watchers:[T("uid66161")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[T("uid81955")],status:"approved",targets:["ID2"],dueDate:D(30),createDate:D(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[T("uid66171")],status:"in progress",targets:["ID3"],dueDate:D(10),createDate:D(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[T("uid81355")],status:"withdrawn",targets:[],dueDate:D(10),createDate:D(-30)}]}),Br=()=>({watchers:[T("uid66151"),T("uid77115")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[T("uid81955")],status:"approved",targets:["ID2","ID22","ID222"],dueDate:D(30),createDate:D(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[T("uid66171")],status:"in progress",targets:["ID3"],dueDate:D(30),createDate:D(-30)},{id:"ID22",name:"node name",description:"node description",approvers:[T("uid77135")],status:"approved",targets:["ID3"],dueDate:D(30),createDate:D(-30)},{id:"ID222",name:"node name",description:"Marketing team",approvers:[T("uid77111"),T("uid09641"),T("uid09141"),T("uid37866"),T("uid99641"),T("uid38141")],status:"not started",targets:["ID3"],dueDate:D(5),createDate:D(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[T("uid81355")],status:"not started",targets:["ID4"],dueDate:D(30),createDate:D(-30)},{id:"ID4",name:"node name",description:"node description",approvers:[T("uid99651")],status:"not started",targets:[],dueDate:D(30),createDate:D(-30)}]}),Vr=()=>({watchers:[T("uid66151"),T("uid66141"),T("uid99651"),T("uid99655")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[T("uid81955")],status:"approved",targets:["ID2","ID22","ID222"],dueDate:D(30),createDate:D(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[T("uid66171")],status:"in progress",targets:["ID3"],dueDate:D(30),createDate:D(-30)},{id:"ID22",name:"node name",description:"node description",approvers:[T("uid28141")],status:"approved",targets:["ID220"],dueDate:D(30),createDate:D(-30)},{id:"ID222",name:"node name",description:"Marketing team",approvers:[T("uid77111"),T("uid09641")],status:"in progress",targets:["ID2220"],dueDate:D(3),createDate:D(-30)},{id:"ID220",name:"node name",description:"node description",approvers:[T("uid08141")],status:"denied",targets:["ID3"],dueDate:D(30),createDate:D(-30)},{id:"ID2220",name:"node name",description:"Marketing",approvers:[T("uid81353")],status:"withdrawn",targets:["ID3"],dueDate:D(30),createDate:D(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[T("uid81355")],status:"not started",targets:["ID4"],dueDate:D(30),createDate:D(-30)},{id:"ID4",name:"node name",description:"node description",approvers:[T("uid99651")],status:"not started",targets:[],dueDate:D(30),createDate:D(-30)}]}),Lr=()=>({empty:kr(),simple:Pr(),medium:Br(),complex:Vr()});function T(e){return na[e]}function D(e){return new Date(Date.now()+Ir*e)}var Et=class extends ze{fetch(i){let o=Lt(),a=i.get("query")?.toLowerCase();return a&&(o=o.filter(n=>n.name?.toLowerCase().startsWith(a))),ge(z(o)).pipe(ye(500))}getOne(i){let o=i.get("id"),a=Lt().find(n=>n.id===o);return ge(le(Y({},a),{phone:Math.random().toFixed(13).toString().replace("0.",""),email:`${a.name.toLowerCase().split(" ").join(".")}@company.com`}))}},Rt=class extends ze{fetch(i){let o=Mr(),a=i.get("query")?.toLowerCase();return a&&(o=o.filter(n=>n.name?.toLowerCase().startsWith(a))),ge(z(o)).pipe(ye(500))}};var Rr=["approvalFlowComponent"],Ur=["reminderTemplate"];function Or(e,i){if(e&1&&(s(0,"p",28)(1,"span"),_(2,"Mobile"),f(),s(3,"a",29),_(4),f()()),e&2){let o=c().data;r(3),p("href","tel:"+o.phone,ve),r(1),N(o.phone)}}function zr(e,i){if(e&1&&(s(0,"p",28)(1,"span"),_(2,"Phone"),f(),s(3,"a",29),_(4),f()()),e&2){let o=c().data;r(3),p("href","tel:"+o.phone,ve),r(1),N(o.phone)}}function jr(e,i){if(e&1&&(s(0,"p",28)(1,"span"),_(2,"E-mail"),f(),s(3,"a",29),_(4),f()()),e&2){let o=c().data;r(3),p("href","mailto:"+o.email,ve),r(1),N(o.email)}}function Gr(e,i){if(e&1&&(s(0,"h4",25),_(1,"Contact info"),f(),m(2,Or,5,2,"p",26),m(3,zr,5,2,"p",26),m(4,jr,5,2,"p",26),s(5,"h4",27),_(6,"Company"),f(),s(7,"p",28)(8,"span"),_(9,"Name"),f(),s(10,"span"),_(11),f()(),s(12,"p",28)(13,"span"),_(14,"Address"),f(),s(15,"span"),_(16,"481 West Street, Anytown OH, 83749, USA"),f()()),e&2){let o=i.data;r(2),p("ngIf",o==null?null:o.phone),r(1),p("ngIf",o==null?null:o.phone),r(1),p("ngIf",o==null?null:o.email),r(7),x("Company A",o==null?null:o.email,"")}}function Wr(e,i){if(e&1&&(b(0),_(1),A()),e&2){let o=c().$implicit;r(1),x(" Reminder has been sent to ",o.data.targets[0].name," ")}}function $r(e,i){if(e&1&&_(0),e&2){let o=c().$implicit;he(" Reminder has been sent to ",o.data.targets.length," members of ",o.data.node.description," ")}}function Qr(e,i){if(e&1&&(m(0,Wr,2,1,"ng-container",30),m(1,$r,1,2,"ng-template",null,31,U)),e&2){let o=i.$implicit,a=E(2);p("ngIf",o.data.targets.length===1)("ngIfElse",a)}}function Hr(e,i){if(e&1&&(s(0,"option",32),_(1),g(2,"titlecase"),f()),e&2){let o=i.$implicit;p("value",o),r(1),N(v(2,2,o))}}var ia=(()=>{let i=class i{constructor(a){this._messageToastService=a,this.graphs=el(),this.examples=["empty","simple","medium","complex"],this.selectedExample="complex",this.approvalProcess=this.graphs[this.selectedExample],this.userDataSource=new _e(new Tt),this.watcherDataSource=new _e(new Tt),this.teamDataSource=new je(new Ot),this.checkDueDate=!1,this.setNotStartedStatuses=!1,this.editModeEnabled=!0,this.nodeActionsDisabled=!1,this.nodeActionsConfig={disableAddBefore:!1,disableAddAfter:!1,disableAddParallel:!1,disableEdit:!1,disableRemove:!1},this.nodeActionsConfigForNewNodes={disableAddBefore:!1,disableAddAfter:!1,disableAddParallel:!1},this.allStatuses=["in progress","not started","approved","rejected"],this.sendReminderStatuses=["in progress","not started"],this.disableSaveButton=!1,this.disableExitButton=!1,this._subscriptions=new ue,this.newNodes=new Map}ngOnDestroy(){this._subscriptions.unsubscribe()}valueChanged(a){console.log("valueChanged",a)}sendReminders(a){this._messageToastService.open(this._reminderTemplate,{data:{targets:a.users,node:a.node},duration:5e3})}changeExampleData(){this.approvalProcess=z(this.graphs[this.selectedExample])}toggleNodeActions(a){let n=this._approvalFlow.approvalProcess,t=z(n);t.nodes.forEach(l=>{l.disableActions=a}),this.approvalProcess=t}toggleSpecificNodeAction(a,n){let t=this._approvalFlow.approvalProcess,l=z(t);l.nodes.forEach(d=>{d.actionsConfig=le(Y({},d.actionsConfig),{[a]:n})}),this.approvalProcess=l}newNodeSettingsChange(){this._approvalFlow.approvalProcess.nodes.forEach(n=>{if(this.newNodes.has(n.id)){let t=this._approvalFlow.getNodeMetadataByNodeId(n.id);t.canAddNodeAfter=!this.nodeActionsConfigForNewNodes.disableAddAfter,t.canAddNodeBefore=!this.nodeActionsConfigForNewNodes.disableAddBefore,t.canAddParallel=!this.nodeActionsConfigForNewNodes.disableAddParallel}})}nodeClick(a){console.log("Node click handler",a)}afterNodeAdd(a){console.log("After node add handler",a),this.newNodes.set(a.id,a),this.newNodeSettingsChange()}afterNodeEdit(a){console.log("After node edit handler",a),this.newNodeSettingsChange()}setNotStarted(){let a=this._approvalFlow.approvalProcess,n=new Map(this.graphs[this.selectedExample].nodes.map(l=>[l.id,l])),t=z(a);t.nodes=t.nodes.map(l=>{let d=this.setNotStartedStatuses||!n.has(l.id)?"not started":n.get(l.id).status;return le(Y({},l),{status:d})}),this.approvalProcess=t}};i.\u0275fac=function(n){return new(n||i)(L(mt))},i.\u0275cmp=k({type:i,selectors:[["fdp-platform-approval-flow-example"]],viewQuery:function(n,t){if(n&1&&(Q(Rr,5),Q(Ur,5)),n&2){let l;W(l=$())&&(t._approvalFlow=l.first),W(l=$())&&(t._reminderTemplate=l.first)}},standalone:!0,features:[B],decls:69,vars:36,consts:[["title","Basic Approval Flow Demo",3,"value","userDetailsTemplate","userDataSource","watcherDataSource","teamDataSource","checkDueDate","allowSendRemindersForStatuses","isEditAvailable","disableSaveButton","disableExitButton","nodeClick","afterNodeAdd","afterNodeEdit","valueChange","sendReminders"],["approvalFlowComponent",""],["userDetailsTemplate",""],["reminderTemplate",""],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","checkbox",3,"ngModel","ngModelChange"],["id","disableAddingNodeBefore","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeBefore"],["id","disableAddingNodeAfter","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeAfter"],["id","disableAddingNodeParallel","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeParallel"],["id","disableEditingNode","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableEditingNode"],["id","disableRemovingNode","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableRemovingNode"],[2,"display","flex","align-items","center","flex-wrap","wrap"],["fdCompact","",2,"margin-left","0.5rem",3,"dropdownValues","ngModel","ngModelChange"],["id","disableAddingNodeBeforeForNewNodes","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeBeforeForNewNodes"],["id","disableAddingNodeAfterForNewNodes","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeAfterForNewNodes"],["id","disableAddingNodeParallelForNewNodes","type","checkbox",3,"disabled","ngModel","ngModelChange"],["for","disableAddingNodeParallelForNewNodes"],[2,"margin-bottom","1rem"],["style","display: flex; flex-direction: column",4,"ngIf"],[2,"margin-top","1.5rem","margin-bottom","1rem"],[2,"display","flex","flex-direction","column"],[3,"href"],[4,"ngIf","ngIfElse"],["multipleReceivers",""],[3,"value"]],template:function(n,t){if(n&1&&(s(0,"fdp-approval-flow",0,1),u("nodeClick",function(d){return t.nodeClick(d)})("afterNodeAdd",function(d){return t.afterNodeAdd(d)})("afterNodeEdit",function(d){return t.afterNodeEdit(d)})("valueChange",function(d){return t.valueChanged(d)})("sendReminders",function(d){return t.sendReminders(d)}),f(),m(2,Gr,17,4,"ng-template",null,2,U),m(4,Qr,3,2,"ng-template",null,3,U),s(6,"p"),_(7," Selected example: "),s(8,"select",4),u("ngModelChange",function(d){return t.selectedExample=d})("ngModelChange",function(){return t.changeExampleData()}),m(9,Hr,3,4,"option",5),f()(),s(10,"p"),_(11,'Enable "Edit mode": '),s(12,"input",6),u("ngModelChange",function(d){return t.editModeEnabled=d}),f()(),s(13,"p"),_(14,"Enable due date warnings: "),s(15,"input",6),u("ngModelChange",function(d){return t.checkDueDate=d}),f()(),s(16,"p"),_(17,' Set all statuses to "Not Started": '),s(18,"input",6),u("ngModelChange",function(d){return t.setNotStartedStatuses=d})("ngModelChange",function(){return t.setNotStarted()}),f()(),s(19,"p"),_(20," Disable all node actions: "),s(21,"input",6),u("ngModelChange",function(d){return t.nodeActionsDisabled=d})("ngModelChange",function(d){return t.toggleNodeActions(d)}),f()(),s(22,"p"),_(23,"Disable certain node actions:"),f(),s(24,"div")(25,"p")(26,"input",7),u("ngModelChange",function(d){return t.nodeActionsConfig.disableAddBefore=d})("ngModelChange",function(d){return t.toggleSpecificNodeAction("disableAddBefore",d)}),f(),s(27,"label",8),_(28,"Disable adding before"),f()(),s(29,"p")(30,"input",9),u("ngModelChange",function(d){return t.nodeActionsConfig.disableAddAfter=d})("ngModelChange",function(d){return t.toggleSpecificNodeAction("disableAddAfter",d)}),f(),s(31,"label",10),_(32,"Disable adding after"),f()(),s(33,"p")(34,"input",11),u("ngModelChange",function(d){return t.nodeActionsConfig.disableAddParallel=d})("ngModelChange",function(d){return t.toggleSpecificNodeAction("disableAddParallel",d)}),f(),s(35,"label",12),_(36,"Disable adding parallel"),f()(),s(37,"p")(38,"input",13),u("ngModelChange",function(d){return t.nodeActionsConfig.disableEdit=d})("ngModelChange",function(d){return t.toggleSpecificNodeAction("disableEdit",d)}),f(),s(39,"label",14),_(40,"Disable editing"),f()(),s(41,"p")(42,"input",15),u("ngModelChange",function(d){return t.nodeActionsConfig.disableRemove=d})("ngModelChange",function(d){return t.toggleSpecificNodeAction("disableRemove",d)}),f(),s(43,"label",16),_(44,"Disable removing"),f()()(),s(45,"p",17),_(46," Allow sending reminders to approvers with statuses: "),s(47,"fd-multi-input",18),u("ngModelChange",function(d){return t.sendReminderStatuses=d}),f()(),s(48,"p"),_(49,"Disable certain node actions for newly added nodes:"),f(),s(50,"div")(51,"p")(52,"input",19),u("ngModelChange",function(d){return t.nodeActionsConfigForNewNodes.disableAddBefore=d})("ngModelChange",function(){return t.newNodeSettingsChange()}),f(),s(53,"label",20),_(54,"Disable adding before"),f()(),s(55,"p")(56,"input",21),u("ngModelChange",function(d){return t.nodeActionsConfigForNewNodes.disableAddAfter=d})("ngModelChange",function(){return t.newNodeSettingsChange()}),f(),s(57,"label",22),_(58,"Disable adding after"),f()(),s(59,"p")(60,"input",23),u("ngModelChange",function(d){return t.nodeActionsConfigForNewNodes.disableAddParallel=d})("ngModelChange",function(){return t.newNodeSettingsChange()}),f(),s(61,"label",24),_(62,"Disable adding parallel"),f()()(),s(63,"p"),_(64,'Disable "Save" button: '),s(65,"input",6),u("ngModelChange",function(d){return t.disableSaveButton=d}),f()(),s(66,"p"),_(67,'Disable "Exit" button: '),s(68,"input",6),u("ngModelChange",function(d){return t.disableExitButton=d}),f()()),n&2){let l=E(3);p("value",t.approvalProcess)("userDetailsTemplate",l)("userDataSource",t.userDataSource)("watcherDataSource",t.watcherDataSource)("teamDataSource",t.teamDataSource)("checkDueDate",t.checkDueDate)("allowSendRemindersForStatuses",t.sendReminderStatuses)("isEditAvailable",t.editModeEnabled)("disableSaveButton",t.disableSaveButton)("disableExitButton",t.disableExitButton),r(8),p("ngModel",t.selectedExample),r(1),p("ngForOf",t.examples),r(3),p("ngModel",t.editModeEnabled),r(3),p("ngModel",t.checkDueDate),r(3),p("ngModel",t.setNotStartedStatuses),r(3),p("ngModel",t.nodeActionsDisabled),r(5),p("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableAddBefore),r(4),p("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableAddAfter),r(4),p("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableAddParallel),r(4),p("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableEdit),r(4),p("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfig.disableRemove),r(5),p("dropdownValues",t.allStatuses)("ngModel",t.sendReminderStatuses),r(5),p("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfigForNewNodes.disableAddBefore),r(4),p("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfigForNewNodes.disableAddAfter),r(4),p("disabled",t.nodeActionsDisabled)("ngModel",t.nodeActionsConfigForNewNodes.disableAddParallel),r(5),p("ngModel",t.disableSaveButton),r(3),p("ngModel",t.disableExitButton)}},dependencies:[xt,Se,O,te,rt,lt,nt,it,X,ee,J,Ae,q,tt],encapsulation:2});let e=i;return e})(),qr=1e3*60*60*24,Ut=()=>[{id:"uid28141",teamId:"teamId3",name:"Luis Franklin",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/men/91.jpg"},{id:"uid08141",teamId:"teamId3",name:"Renee Miles",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/11.jpg"},{id:"uid99641",teamId:"teamId3",name:"Elaine Myers",description:"Legal team",imgUrl:"https://randomuser.me/api/portraits/women/75.jpg"},{id:"uid38141",teamId:"teamId4",name:"Emma Cole",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/91.jpg"},{id:"uid37866",teamId:"teamId4",name:"Daniel Sullivan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/9.jpg"},{id:"uid09141",teamId:"teamId4",name:"Salvador Duncan",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/14.jpg"},{id:"uid09641",teamId:"teamId4",name:"Caleb Taylor",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/17.jpg"},{id:"uid99651",teamId:"teamId4",name:"Julie Peters",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/77.jpg"},{id:"uid99655",teamId:"teamId4",name:"Fred Gibson",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/45.jpg"},{id:"uid81355",teamId:"teamId4",name:"George Carter",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/men/85.jpg"},{id:"uid81353",teamId:"teamId4",name:"Lillian Walker",description:"Marketing team",imgUrl:"https://randomuser.me/api/portraits/women/25.jpg"},{id:"uid81955",teamId:"teamId2",name:"Josephine Carlson",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/women/88.jpg"},{id:"uid77135",teamId:"teamId2",name:"Tristan Sutton",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/5.jpg"},{id:"uid77115",teamId:"teamId2",name:"Alvin Stephens",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/78.jpg"},{id:"uid77111",teamId:"teamId2",name:"Logan Herrera",description:"Sales team",imgUrl:"https://randomuser.me/api/portraits/men/53.jpg"},{id:"uid66141",teamId:"teamId1",name:"Melissa Martin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/87.jpg"},{id:"uid66151",teamId:"teamId1",name:"Sofia Hanson",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/24.jpg"},{id:"uid66161",teamId:"teamId1",name:"Jill Fuller",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/64.jpg"},{id:"uid66171",teamId:"teamId1",name:"Ella Franklin",description:"Accounting team",imgUrl:"https://randomuser.me/api/portraits/women/55.jpg"}],ra={};Ut().forEach(e=>ra[e.id]=e);var Zr=()=>[{id:"teamId1",name:"Accounting team",description:"",members:["uid66171","uid66161","uid66151","uid66141"].map(e=>y(e))},{id:"teamId2",name:"Sales team",description:"",members:["uid77111","uid77115","uid77135","uid81955"].map(e=>y(e))},{id:"teamId3",name:"Legal team",description:"",members:["uid28141","uid08141","uid99641"].map(e=>y(e))},{id:"teamId4",name:"Marketing team",description:"",members:["uid38141","uid37866","uid09141","uid81353","uid81355","uid99655","uid09641","uid99651"].map(e=>y(e))}],Kr=()=>({watchers:[y("uid66161")],nodes:[]}),Yr=()=>({watchers:[y("uid66161")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[y("uid81955")],status:"approved",targets:["ID2"],dueDate:F(30),createDate:F(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[y("uid66171")],status:"in progress",targets:["ID3"],dueDate:F(10),createDate:F(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[y("uid81355")],status:"not started",targets:[],dueDate:F(10),createDate:F(-30)}]}),Jr=()=>({watchers:[y("uid66151"),y("uid77115")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[y("uid81955")],status:"approved",targets:["ID2","ID22","ID222"],dueDate:F(30),createDate:F(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[y("uid66171")],status:"in progress",targets:["ID3"],dueDate:F(30),createDate:F(-30)},{id:"ID22",name:"node name",description:"node description",approvers:[y("uid77135")],status:"approved",targets:["ID3"],dueDate:F(30),createDate:F(-30)},{id:"ID222",name:"node name",description:"Marketing team",approvers:[y("uid77111"),y("uid09641"),y("uid09141"),y("uid37866"),y("uid99641"),y("uid38141")],status:"not started",targets:["ID3"],dueDate:F(5),createDate:F(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[y("uid81355")],status:"not started",targets:["ID4"],dueDate:F(30),createDate:F(-30)},{id:"ID4",name:"node name",description:"node description",approvers:[y("uid99651")],status:"not started",targets:[],dueDate:F(30),createDate:F(-30)}]}),Xr=()=>({watchers:[y("uid66151"),y("uid66141"),y("uid99651"),y("uid99655")],nodes:[{id:"ID1",name:"node name",description:"node description",approvers:[y("uid81955")],status:"approved",targets:["ID2","ID22","ID222"],dueDate:F(30),createDate:F(-30)},{id:"ID2",name:"node name",description:"node description",approvers:[y("uid66171")],status:"in progress",targets:["ID3"],dueDate:F(30),createDate:F(-30)},{id:"ID22",name:"node name",description:"node description",approvers:[y("uid28141")],status:"approved",targets:["ID220"],dueDate:F(30),createDate:F(-30)},{id:"ID222",name:"node name",description:"Marketing team",approvers:[y("uid77111"),y("uid09641")],status:"in progress",targets:["ID2220"],dueDate:F(3),createDate:F(-30)},{id:"ID220",name:"node name",description:"node description",approvers:[y("uid08141")],status:"rejected",targets:["ID3"],dueDate:F(30),createDate:F(-30)},{id:"ID2220",name:"node name",description:"Marketing",approvers:[y("uid81353")],status:"not started",targets:["ID3"],dueDate:F(30),createDate:F(-30)},{id:"ID3",name:"node name",description:"node description",approvers:[y("uid81355")],status:"not started",targets:["ID4"],dueDate:F(30),createDate:F(-30)},{id:"ID4",name:"node name",description:"node description",approvers:[y("uid99651")],status:"not started",targets:[],dueDate:F(30),createDate:F(-30)}]}),el=()=>({empty:Kr(),simple:Yr(),medium:Jr(),complex:Xr()});function y(e){return ra[e]}function F(e){return new Date(Date.now()+qr*e)}var Tt=class extends ze{fetch(i){let o=Ut(),a=i.get("query")?.toLowerCase();return a&&(o=o.filter(n=>n.name?.toLowerCase().startsWith(a))),ge(z(o)).pipe(ye(500))}getOne(i){let o=i.get("id"),a=Ut().find(n=>n.id===o);return ge(le(Y({},a),{phone:Math.random().toFixed(13).toString().replace("0.",""),email:`${a.name.toLowerCase().split(" ").join(".")}@company.com`}))}},Ot=class extends ze{fetch(i){let o=Zr(),a=i.get("query")?.toLowerCase();return a&&(o=o.filter(n=>n.name?.toLowerCase().startsWith(a))),ge(z(o)).pipe(ye(500))}};var tl="platform-approval-flow-example.component.html",ol="platform-approval-flow-example.component.ts",al="platform-approval-flow-custom-status-example.component.ts",nl="platform-approval-flow-custom-status-example.component.html",la=(()=>{let i=class i{constructor(){this.basic=[{language:"html",code:$e(tl),fileName:"platform-approval-flow-example",name:"approval-flow-example"},{language:"typescript",code:$e(ol),fileName:"platform-approval-flow-example",component:"PlatformApprovalFlowExampleComponent",name:"approval-flow-example"}],this.status=[{language:"html",code:$e(nl),fileName:"platform-approval-flow-custom-status-example",name:"platform-approval-flow-custom-status-example"},{language:"typescript",code:$e(al),fileName:"platform-approval-flow-custom-status-example",component:"PlatformApprovalFlowCustomStatusExampleComponent",name:"platform-approval-flow-custom-status-example"}]}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=k({type:i,selectors:[["app-approval-flow"]],standalone:!0,features:[B],decls:20,vars:2,consts:[["id","approval-flow","componentName","approval-flow"],[3,"exampleFiles"],["id","custom-width","componentName","table"]],template:function(n,t){n&1&&(s(0,"fd-docs-section-title",0),_(1," Approval flow "),f(),s(2,"component-example"),M(3,"fdp-platform-approval-flow-example"),f(),M(4,"code-example",1)(5,"separator"),s(6,"fd-docs-section-title",2),_(7,` Approval Flow with custom statuses
`),f(),s(8,"description")(9,"p"),_(10," In this example we have custom status defined on the application level. We need to provide a "),s(11,"code"),_(12,"approvalStatusTemplate"),f(),_(13," template to tell the "),s(14,"code"),_(15,"ApprovalFlow"),f(),_(16," component how to handle these different states "),f()(),s(17,"component-example"),M(18,"fdp-platform-approval-flow-status-example"),f(),M(19,"code-example",1)),n&2&&(r(4),p("exampleFiles",t.basic),r(15),p("exampleFiles",t.status))},dependencies:[yo,Eo,ia,vo,Do,ct,Mo,aa],encapsulation:2});let e=i;return e})();var pa=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=k({type:i,selectors:[["fd-approval-flow-header"]],standalone:!0,features:[B],decls:19,vars:1,consts:[["type","warning",3,"dismissible"],["label","SAP Ariba Component","title","SAP Ariba Component","color","8"],["module","PlatformApprovalFlowModule","subPackage","approval-flow"]],template:function(n,t){n&1&&(s(0,"fd-doc-page")(1,"header"),_(2,"Approval Flow"),f(),s(3,"fd-message-strip",0),_(4," DEPRECATED. The component is not a standard SAP Design System component. "),f(),M(5,"fd-info-label",1),s(6,"description"),_(7," The Approval Flow component is a complex component which tracks and manages the approval process for a business object. From the Approval Flow component a user is able to: "),s(8,"ul")(9,"li"),_(10,"See the progress of the approval process"),f(),s(11,"li"),_(12,"Add, edit, move (drag and drop) and delete approvers"),f(),s(13,"li"),_(14,"Add and remove watchers"),f(),s(15,"li"),_(16,"Send reminder notifications to approvers"),f()()(),M(17,"import",2)(18,"fd-header-tabs"),f()),n&2&&(r(3),p("dismissible",!1))},dependencies:[To,No,at,Oo,Uo,ct,Io,Fo]});let e=i;return e})();var cc=[{path:"",component:pa,children:[{path:"",component:la}],data:{primary:!0}}],mc="approval-flow",_c="approvalFlow",uc="platformApprovalFlow";export{_c as API_FILE_KEY,uc as I18N_KEY,mc as LIBRARY_NAME,cc as ROUTES};
